{"tx_hash": "6MDps2YrHEs5UdXoZFyTFbVSZtP7R5sWFrC6LVhPMV9T", "action_id_social": "2B32vha4sFCFJkkAjgrKPpGp9vK2c1fQGomP48MncNqg-0-widget", "block_id": 86575463, "block_timestamp": "2023-03-05 00:43:41.966", "signer_id": "0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422", "widget_name": "Flipside-API", "source_code": "let defaultQuery =\r\n  props.query || `select 'Please Enter a Query in Props' as Error`;\r\n\r\nconst returnValue = \"test\";\r\nconst options = {\r\n  method: \"POST\",\r\n  body: `{ \"query\": \"${defaultQuery}\" }`,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    \"X-Algolia-Api-Key\": `${SEARCH_API_KEY}`,\r\n    \"X-Algolia-Application-Id\": `${APPLICATION_ID}`,\r\n  },\r\n};\r\n\r\nconst res = fetch(\"https://flipside-api.antonyip.com/getCachedQuery\", options);\r\n\r\nif (!res.ok) {\r\n  return <div>near.social issue with fetch</div>;\r\n}\r\n\r\nif (res.body.error) {\r\n  return (\r\n    <div>\r\n      anton's api issue with website or query {JSON.stringify(res.body)}{\" \"}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Button = styled.button`\r\n  background: ${(props) => (props.primary ? \"palevioletred\" : \"white\")};\r\n  color: ${(props) => (props.primary ? \"white\" : \"palevioletred\")};\r\n  font-size: 1em;\r\n  margin: 1em;\r\n  padding: 0.25em 1em;\r\n  border: 2px solid palevioletred;\r\n  border-radius: 3px;\r\n`;\r\n\r\nconst TextArea = styled.input`\r\n  background: ${(props) => (props.primary ? \"palevioletred\" : \"white\")};\r\n  color: ${(props) => (props.primary ? \"white\" : \"palevioletred\")};\r\n  font-size: 1em;\r\n  margin: 1em;\r\n  padding: 0.25em 1em;\r\n  border: 2px solid palevioletred;\r\n  border-radius: 3px;\r\n`;\r\n\r\nreturn (\r\n  <div>\r\n    <TextArea> Query Things </TextArea>\r\n    <Button>Submit Query</Button>\r\n    {JSON.stringify(res.body.records)}\r\n  </div>\r\n);\r\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422/widget/Flipside-API", "metadata.description": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.image.url": NaN, "metadata.tags.api": NaN, "metadata.tags.flipside": NaN, "metadata.tags.metricsdao": NaN, "metadata.tags.near-analytics": NaN}
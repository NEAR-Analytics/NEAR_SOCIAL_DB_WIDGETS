{"tx_hash": "9Ys764MXk9g5HcmqFeDq7oT2Axztqkm2WoVSeh2qzhxY", "action_id_social": "HguF7PSz3QBDrKo46S2ZmdtSjpgK2nYbrMTFYvML6j5r-0-widget", "block_id": 86576243, "block_timestamp": "2023-03-05 00:58:20.108", "signer_id": "0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422", "widget_name": "Flipside-API", "source_code": "const [currentQuery, setCurrentQuery] = useState(\"select 1\");\r\n\r\nlet defaultQuery;\r\nprops.query || `select 'Please Enter a Query in Props' as Error`;\r\n\r\nconst options = {\r\n  method: \"POST\",\r\n  body: `{ \"query\": \"${defaultQuery}\" }`,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\nconst res = fetch(\"https://flipside-api.antonyip.com/getCachedQuery\", options);\r\n\r\nif (!res.ok) {\r\n  return <div>near.social issue with fetch</div>;\r\n}\r\n\r\nif (res.body.error) {\r\n  return (\r\n    <div>\r\n      anton's api issue with website or query {JSON.stringify(res.body)}{\" \"}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MyButton = styled.button`\r\n  background: ${(props) => (props.primary ? \"palevioletred\" : \"white\")};\r\n  color: ${(props) => (props.primary ? \"white\" : \"palevioletred\")};\r\n  font-size: 1em;\r\n  margin: 1em;\r\n  padding: 0.25em 1em;\r\n  border: 2px solid palevioletred;\r\n  border-radius: 3px;\r\n`;\r\n\r\nfunction updateQuery(value) {\r\n  setCurrentQuery(value);\r\n}\r\n\r\nreturn (\r\n  <div>\r\n    <input\r\n      type=\"text\"\r\n      onChange={(e) => updateQuery(e.target.value)}\r\n      // className={`form-control ${state.term ? \"border-end-0\" : \"\"}`}\r\n      // value={state.term ?? \"\"}\r\n      // onChange={(e) => computeResults(e.target.value)}\r\n      // placeholder={props.placeholder ?? `Enter your query here!`}\r\n    />\r\n    <div>${currentQuery}</div>\r\n    <MyButton>Submit Query</MyButton>\r\n    {JSON.stringify(res.body.records)}\r\n  </div>\r\n);\r\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422/widget/Flipside-API", "metadata.description": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.image.url": NaN, "metadata.tags.api": NaN, "metadata.tags.flipside": NaN, "metadata.tags.metricsdao": NaN, "metadata.tags.near-analytics": NaN}
{"tx_hash": "ADbddRNkWY51zjzzuNP2eQyNtaasuEiG427D4TdQo6w8", "action_id_social": "4N6LxY5e2QWhkQagh9zRrPxvLK4WYMSjxQVbivXGY11K-0-widget", "block_id": 86581876, "block_timestamp": "2023-03-05 02:48:00.290", "signer_id": "0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422", "widget_name": "Flipside-API-Getter", "source_code": "function sendQueryToBackend() {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: `{ \"query\": \"${props.query}\" }`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  const res = asyncFetch(\r\n    \"https://flipside-api.antonyip.com/getCachedQuery\",\r\n    options\r\n  ).then((res) => {\r\n    if (!res.ok) {\r\n      props.onComplete(\r\n        false,\r\n        `near.social issue with fetch: ${JSON.stringify(res)}`\r\n      );\r\n      return;\r\n    }\r\n    // select date_trunc('day', block_timestamp), count(1) from ethereum.core.blocks where block_timestamp > '2023-03-01' group by 1\r\n    if (res.body.error) {\r\n      props.onComplete(false, `anton's api issue: ${JSON.stringify(res.body)}`);\r\n      return;\r\n    }\r\n\r\n    props.onComplete(true, res.body);\r\n  });\r\n}\r\n\r\nreturn <>hi</>;\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422/widget/Flipside-API-Getter"}
{"tx_hash": "47MaTA44tDQ723s6AHruJNABatgFs9jexw26qT7c61Cd", "action_id_social": "Es8kSmmAsFQNGMG9oVVtfTuW3vcrT7T2j6Xgrhob93ui-0-widget", "block_id": 87344102, "block_timestamp": "2023-03-15 10:32:15.570", "signer_id": "0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422", "widget_name": "NEAR-Segmentation-Tool-For-MDAO", "source_code": "let chart4Props = {\r\n  query: `\r\n    with\r\n  social_inits as (\r\n    select\r\n      *\r\n    from\r\n      near.core.fact_actions_events_addkey\r\n    where\r\n      receiver_id = 'social.near'\r\n  ),\r\n  add_signer as (\r\n    select\r\n      k.tx_hash,\r\n      k.block_id,\r\n      k.block_timestamp,\r\n      t.tx_signer,\r\n      k.allowance,\r\n      t.tx_signer = t.tx_receiver\r\n    from\r\n      social_inits k\r\n      left join near.core.fact_transactions t using (tx_hash)\r\n  ),\r\n  de_dupe_resigners as (\r\n    select\r\n      block_timestamp,\r\n      tx_signer\r\n    from\r\n      add_signer\r\n    qualify\r\n      ROW_NUMBER() over (\r\n        PARTITION BY\r\n          tx_signer\r\n        ORDER BY\r\n          block_timestamp ASC\r\n      ) = 1\r\n  ),\r\n  final as (\r\n    select\r\n      block_timestamp::date as day_date,\r\n      count(distinct tx_signer) as Unique_Authorizers,\r\n      sum(Unique_Authorizers) over (\r\n        order by\r\n          day_date\r\n      ) as Cumulative_Unique_Authorizers\r\n    from\r\n      de_dupe_resigners\r\n    group by\r\n      1\r\n    order by\r\n      1\r\n  )\r\nselect\r\n  *\r\nfrom\r\n  final\r\n`,\r\n  title: \"Monthly fact_profile_changes\",\r\n  chartWidth: 640,\r\n  chartHeight: 480,\r\n};\r\n\r\n// bypass because server cannot handle newline..\r\nchart4Props.query = chart4Props.query.replaceAll(\"\\n\", \" \");\r\n\r\nreturn (\r\n  <div>\r\n    <h2>Widgets Created by Anton using Flipside's Database.</h2>\r\n    <Widget\r\n      src=\"0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422/widget/Flipside-BarChart-V2\"\r\n      props={chart4Props}\r\n    />\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422/widget/NEAR-Segmentation-Tool-For-MDAO"}
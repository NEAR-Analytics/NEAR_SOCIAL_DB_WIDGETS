{"tx_hash": "6deju8xnda9ruKRFDjeK1iZKWmzmrchqUWbqAoo4mkYW", "action_id_social": "6XsdTSNkZ6eHdTs3T4op9WReeUPyyw3YEKWcc5Y5LN4b-0-widget", "block_id": 88341555, "block_timestamp": "2023-03-29 04:15:14.678", "signer_id": "chloe.near", "widget_name": "LZUTF8Decompressor", "source_code": "const LZUTF8Decompressor = (props) => {\n  const { frames, onDecompress } = props;\n\n  const [output, setOutput] = React.useState(\"\");\n\n  const accountId = \"chloe.near\";\n\n  const handleDecompress = async () => {\n    const decompressedFrames = [];\n    for (const input of frames) {\n      const inputBytes = new TextEncoder().encode(input);\n      const outputBytes = await window.nearApi.connection.provider.query({\n        request_type: \"call_function\",\n        finality: \"final\",\n        account_id: accountId,\n        method_name: \"decompressBlockToString\",\n        args_base64: Buffer.from(inputBytes).toString(\"base64\"),\n        args: {\n          input: inputBytes,\n        },\n      });\n\n      decompressedFrames.push(new TextDecoder().decode(outputBytes));\n    }\n    setOutput(decompressedFrames);\n    onDecompress(decompressedFrames);\n  };\n\n  return (\n    <div>\n      <button onClick={handleDecompress}>Decompress</button>\n      <div>\n        <label>Output:</label>\n        <textarea value={output} readOnly />\n      </div>\n      <Widget src=\"chloe.near/widget/ArrayTools\" />\n      <Widget src=\"chloe.near/widget/CompressionCommon\" />\n      <Widget src=\"chloe.near/widget/UTF8Decoder\" />\n    </div>\n  );\n};\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chloe.near/widget/LZUTF8Decompressor"}
{"tx_hash": "8JXGvQDZMW563k1DcAKF2nh1cPucYxfCoWeURhi2xxP6", "action_id_social": "CjRQwUjT53EvSzzcg51uETCdbfxU3mVQgEcGGPi8YFGV-0-widget", "block_id": 87544270, "block_timestamp": "2023-03-18 04:28:45.737", "signer_id": "chloe.near", "widget_name": "pixelparty", "source_code": "const contract = \"pixelparty.near\";\nconst start = 0;\nconst end = 599;\nconst frames = [];\n\nfor (let index = start; index <= end; index++) {\n  const base64Data = Near.view(contract, \"load_frame_data\", {\n    start: index,\n    end: index,\n  })[0];\n  const buffer = new Buffer(base64Data, \"base64\");\n  const byteData = Array.from(buffer);\n\n  // Convert byte array to array of color objects\n  const colors = [];\n  for (let i = 0; i < byteData.length; i += 3) {\n    const r = byteData[i];\n    const g = byteData[i + 1];\n    const b = byteData[i + 2];\n    colors.push({ r, g, b });\n  }\n\n  frames.push(colors);\n}\n\nconst grid = frames.map((frame, frameIndex) => {\n  const rows = [];\n  for (let i = 0; i < 20; i++) {\n    const row = [];\n    for (let j = 0; j < 20; j++) {\n      const index = i * 20 + j;\n      const color = frame[index] ?? { r: 255, g: 255, b: 255 }; // set default to white\n      row.push(\n        <div\n          key={index}\n          style={{\n            width: \"10px\",\n            height: \"10px\",\n            backgroundColor: `rgb(${color.r}, ${color.g}, ${color.b})`,\n          }}\n        />\n      );\n    }\n    rows.push(<div style={{ display: \"flex\" }}>{row}</div>);\n  }\n  return (\n    <div key={frameIndex}>\n      <p>Frame {frameIndex + 1}:</p>\n      {rows}\n    </div>\n  );\n});\n\nreturn <div>{grid}</div>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chloe.near/widget/pixelparty"}
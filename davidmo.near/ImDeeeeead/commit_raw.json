{"tx_hash": "88zKLMEyydcQaJSmLsTZCyGTWYKU7ocroo5cnjMnf5EP", "action_id_social": "7rS5JTZSkdX41WiuoYZ8kYTCqE85TDCp5j1NQizuz4oF-0-widget", "block_id": 87281019, "block_timestamp": "2023-03-14 14:18:49.410", "signer_id": "davidmo.near", "widget_name": "ImDeeeeead", "source_code": "const dead = Social.index(\"dead\", \"dead-click\");\r\nconst counter = {};\r\nconst uniqueDead = {};\r\n\r\nif (dead) {\r\n  dead.reverse().forEach(({ accountId, value }) => {\r\n    const key = JSON.stringify({ accountId, value });\r\n    if (key in uniqueDead) {\r\n      return;\r\n    }\r\n    counter[accountId] = (counter[accountId] || 0) + 1;\r\n    uniqueDead[key] = true;\r\n  });\r\n}\r\n\r\nconst top = Object.entries(counter);\r\ntop.sort((a, b) => b[1] - a[1]);\r\n\r\nfunction renderDead(accountIds) {\r\n  return (\r\n    <div className=\"d-flex flex-wrap gap-3\">\r\n      {accountIds &&\r\n        accountIds.map((accountId) => {\r\n          return (\r\n            <div className=\"position-relative\">\r\n              <a\r\n                href={`#/mob.near/widget/ProfilePage?accountId=${accountId}`}\r\n                className=\"text-decoration-none\"\r\n              >\r\n                <Widget\r\n                  src=\"mob.near/widget/ProfileImage\"\r\n                  props={{\r\n                    accountId,\r\n                    className: \"d-inline-block overflow-hidden\",\r\n                  }}\r\n                />\r\n              </a>\r\n              <span\r\n                className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success\"\r\n                style={{ zIndex: 1, border: \"1px solid rgb(15,81,51)\" }}\r\n              >\r\n                {counter[accountId]}\r\n              </span>\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n\r\nreturn (\r\n  <div>\r\n    <div className=\"mb-4\">\r\n      <CommitButton\r\n        className=\"btn btn-lg btn-success\"\r\n        data={{\r\n          index: {\r\n            dead: JSON.stringify(\r\n              {\r\n                key: \"dead-click\",\r\n                value: Date.now(),\r\n              },\r\n              undefined,\r\n              0\r\n            ),\r\n          },\r\n        }}\r\n      >\r\n        Say I'm Deeeeead \ud83d\ude4f\r\n      </CommitButton>\r\n    </div>\r\n    <div className=\"mb-4\">\r\n      <h4>Top 10</h4>\r\n      <div>{renderDead(top.slice(0, 10).map((a) => a[0]))}</div>\r\n    </div>\r\n    <div className=\"mb-4\">\r\n      <h4>Last 10 </h4>\r\n      <div>{dead && renderDead(dead.slice(0, 10).map((a) => a.accountId))}</div>\r\n    </div>\r\n  </div>\r\n);\r\n", "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/davidmo.near/widget/ImDeeeeead", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.name": "I'm deeeead", "branch.draft": NaN}
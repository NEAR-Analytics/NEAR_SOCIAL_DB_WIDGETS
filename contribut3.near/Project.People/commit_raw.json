{"tx_hash": "4TMTnDMyzxowaMho5nUmiU5hgYujNNJ5Hi63i4ZVFeHb", "action_id_social": "DmSgaj9rtJ9Ba9QL5jfPgRpaqUZYVk1QFJqkepj7Y9DH-0-widget", "block_id": 90411399, "block_timestamp": "2023-04-25 16:59:08.335", "signer_id": "contribut3.near", "widget_name": "Project.People", "source_code": "const ownerId = \"contribut3.near\";\nconst accountId = props.accountId ?? context.accountId;\n\nState.init({\n  founders: null,\n  foundersIsFetched: false,\n  team: null,\n  teamIsFetched: false,\n});\n\nif (!state.foundersIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_founders\",\n    { account_id: accountId },\n    \"final\",\n    false\n  ).then((founders) => State.update({ founders, foundersIsFetched: true }));\n}\n\nif (!state.teamIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_team\",\n    { account_id: accountId },\n    \"final\",\n    false\n  ).then((team) => State.update({ team, teamIsFetched: true }));\n}\n\nif (!state.foundersIsFetched || !state.teamIsFetched) {\n  return <>Loading...</>;\n}\n\nif (!state.namesIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"get\",\n    { keys: [...state.founders, ...state.team].map((key) => `${key}/profile/name`) },\n    \"final\",\n    false\n  ).then((names) => {\n    State.update({ names: new Map(Object.keys(names).map((account) => [account, names[account].profile.name])), namesIsFetched: true })\n  });\n}\n\nconst List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  width: 100%;\n`;\n\nconst Item = styled.li`\n  display: flex;\n  flex-direction: row;\n  gap: 1em;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n`;\n\nconst Heading = styled.h3`\n  font-style: normal;\n  font-weight: 700;\n  font-size: 1.125em;\n  line-height: 1.5em;\n\n  color: #000000;\n`;\n\nreturn <>\n  <Heading>Founders</Heading>\n  <List>{state.founders.map((founder) => <Item>\n    <Widget src={`${ownerId}/widget/Vendor.Icon`} props={{ accountId: founder, size: \"2em\" }} />\n    <Widget src={`${ownerId}/widget/NameAndAccount`} props={{ accountId: founder, name: state.names.get(founder), nameSize: \".9em\" }} />\n  </Item>)}</List>\n  <Heading>Team</Heading>\n  <List>{state.team.map((member) => <Item>\n    <Widget src={`${ownerId}/widget/Vendor.Icon`} props={{ accountId: member, size: \"2em\" }} />\n    <Widget src={`${ownerId}/widget/NameAndAccount`} props={{ accountId: member, name: state.names.get(member), nameSize: \".9em\" }} />\n  </Item>)}</List>\n</>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Project.People"}
{"tx_hash": "3CYWonyqErVuNjVGx3L2xdkXH7KD2SPWxUPgx9NaLVEX", "action_id_social": "HXLpFNDeLgramqG1FzBk4bjNLRPMJPmC5pk2w2fWLkpj-0-widget", "block_id": 86755742, "block_timestamp": "2023-03-07 11:21:46.539", "signer_id": "contribut3.near", "widget_name": "InviteList", "source_code": "const ownerId = \"contribut3.near\";\r\nconst search = props.search;\r\nconst accountId = props.accountId;\r\n\r\nState.init({\r\n  invites: [],\r\n  shown: [],\r\n  from: 0,\r\n  hasMore: true,\r\n});\r\n\r\nNear.asyncView(\r\n  ownerId,\r\n  accountId ? \"get_entity_invites\" : \"get_contributor_invites\",\r\n  { account_id: props.accountId ?? context.accountId },\r\n  \"final\",\r\n  false\r\n).then((invites) => State.update({ invites: invites.sort() }));\r\n\r\nconst loadMore = () =>\r\n  State.update({\r\n    shown: state.invites.slice(0, state.from + limit),\r\n    from: state.from + limit,\r\n    hasMore: state.from + limit < state.invites.length,\r\n  });\r\n\r\nconst allInvites = invites.filter((entityId) => entityId.includes(search));\r\n\r\nconst WidgetContainer = styled.div`\r\n  margin-bottom: 0.5em;\r\n`;\r\n\r\nreturn (\r\n  <InfiniteScroll loadMore={loadMore} hasMore={state.hasMore}>\r\n    {state.entities\r\n      .filter((accountId) => accountId.includes(search))\r\n      .map((entityId) => (\r\n        <WidgetContainer key={entityId}>\r\n          <Widget\r\n            src={`${ownerId}/widget/Invite`}\r\n            props={{\r\n              entityId: accountId ?? entityId,\r\n              accountId: accountId ? entityId : null,\r\n              update: props.update,\r\n            }}\r\n          />\r\n        </WidgetContainer>\r\n      ))}\r\n  </InfiniteScroll>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/InviteList"}
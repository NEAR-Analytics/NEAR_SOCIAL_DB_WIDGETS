{"tx_hash": "2e7PnMqW8VFUDfeKG9HqYvdmByYw8tS5wHyK4wthr1n8", "action_id_social": "FpReHTnKbjnPpu7WS8ocYKsBKB579rufJhA85SNeKsTC-0-widget", "block_id": 89401405, "block_timestamp": "2023-04-12 09:23:40.771", "signer_id": "contribut3.near", "widget_name": "Contribution.Card", "source_code": "const ownerId = \"contribut3.near\";\nconst projectId = props.projectId;\nconst vendorId = props.vendorId;\nconst cid = props.cid;\nconst isVendorView = props.isVendorView ?? false;\n\nState.init({\n  contribution: null,\n  contributionIsFetched: false,\n  request: null,\n  requestIsFetched: false,\n});\n\nif (!state.contributionIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_contribution\",\n    { project_id: projectId, vendor_id: vendorId, cid },\n    \"final\",\n    false\n  ).then((contribution) => State.update({ contribution, contributionIsFetched: true }));\n}\n\nif (!state.requestIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_request\",\n    { account_id: projectId, cid },\n    \"final\",\n    false\n  ).then((request) => State.update({ request, requestIsFetched: true }));\n}\n\nif (!state.contributionIsFetched || !state.requestIsFetched) {\n  return <>Loading...</>;\n}\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n`;\n\nconst completedDate = new Date(Number(state.contribution.status.Completed));\nconst completedDateString = `Completed ${completedDate.toLocaleDateString()}`;\n\nconst Completed = styled.span`\n  font-style: normal;\n  font-weight: 400;\n  font-size: .75em;\n  line-height: 1em;\n  color: #11181c;\n`;\n\nconst feedback = isVendorView ? state.contribution.project_feedback : state.contribution.vendor_feedback;\n\nconst Feedback = styled.p`\n  font-style: italic;\n  font-weight: 400;\n  font-size: .95em;\n  line-height: 1.5em;\n  color: #11181c;\n  border-left: 6px solid #00ec97;\n  padding-left: .625em;\n`;\n\nconst Title = styled.h3`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 1em;\n  line-height: 1.4em;\n  color: #101828;\n`;\n\nconst body = (\n  <>\n    <Row>\n      <Widget\n        src={`${ownerId}/widget/ProfileLine`}\n        props={{\n          accountId: isVendorView ? projectId : vendorId,\n          imageSize: \"2em\",\n          update: props.update,\n          isEntity: isVendorView,\n        }}\n      />\n      <Completed>{completedDateString}</Completed>\n    </Row>\n    <Title>{state.request.title}</Title>\n    <Feedback>\"{feedback}\"</Feedback>\n  </>\n);\n\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n`;\n\nconst startDate = new Date(Number(state.contribution.actions[0].start_date));\nconst price = state.contribution.price;\nconst type = state.request.request_type;\n\nconst footer = (\n  <Footer>\n  </Footer>\n);\n\nreturn <Widget src={`${ownerId}/widget/Card`} props={{ body, footer }} />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Contribution.Card"}
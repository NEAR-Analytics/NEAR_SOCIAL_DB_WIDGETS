{"tx_hash": "BjMrqG1pdvzsGuCvkqneEHhzDG84wiiCaPEUzMy9XT6", "action_id_social": "C5rnXFrf2SHPKq8tUmV7ZATgksZWfSVYXWNgoAoLrL8Q-0-widget", "block_id": 85866298, "block_timestamp": "2023-02-23 12:59:32.817", "signer_id": "contribut3.near", "widget_name": "ContributionForm", "source_code": "const ownerId = \"contribut3.near\";\nconst entityId = props.entityId;\nconst contributorId = props.contributorId;\nconst id = props.id;\nconst createDate = () => {\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n  const day = date.getDate().toString().padStart(2, \"0\");\n\n  return `${year}-${month}-${day}`;\n};\n\nState.init({\n  endDate: props.endDate ?? createDate(),\n});\n\nconst onSubmit = () => {\n  const args = {\n    entity_id: entityId,\n    contributor_id: contributorId,\n    end_date: `${new Date(state.endDate).getTime()}`,\n  };\n\n  Near.call(ownerId, \"finish_contribution\", args);\n};\n\nconst body = (\n  <div className=\"row\">\n    <div className=\"col-lg-6 mb-2\">\n      <Widget\n        src={`${ownerId}/widget/DateInput`}\n        props={{\n          id: \"end-date\",\n          text: \"End date *\",\n          date: state.endDate,\n          update: (endDate) => State.update({ endDate }),\n        }}\n      />\n    </div>\n  </div>\n);\n\nreturn (\n  <Widget\n    src={`${ownerId}/widget/Modal`}\n    props={{\n      title: \"Finish contribution\",\n      confirmText: (\n        <>\n          <i className=\"bi-slash-circle-fill\" />\n          <span>Finish contribution</span>\n        </>\n      ),\n      onConfirm: onSubmit,\n      hidden: props.hidden,\n      onClose: props.onClose,\n      body,\n      id,\n    }}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/ContributionForm"}
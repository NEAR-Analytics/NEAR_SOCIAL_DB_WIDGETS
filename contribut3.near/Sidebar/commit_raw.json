{"tx_hash": "5XnWKGGN8sdnNEcGPdH5BA6pmcJEdtF5tpk3Rw85a7f4", "action_id_social": "G4g72KPpPPo6Yn5jLtwUg5o7nb8u4hvR7hNHHJ6gNNh3-0-widget", "block_id": 85930037, "block_timestamp": "2023-02-24 09:39:41.026", "signer_id": "contribut3.near", "widget_name": "Sidebar", "source_code": "const ownerId = \"contribut3.near\";\n\nconst proposalsCount = (\n  Near.view(\n    ownerId,\n    \"get_admin_contribution_requests\",\n    { account_id: context.accountId },\n    \"final\",\n    true\n  ) ?? []\n).length;\n\nconst invitesCount = Object.keys(\n  Near.view(\n    ownerId,\n    \"get_contributor_invites\",\n    { account_id: context.accountId },\n    \"final\",\n    true\n  ) ?? {}\n).length;\n\nconst inboxCount = proposalsCount + invitesCount;\n\nconst navItem = ({ text, icon, id, count }) => (\n  <a\n    className={`nav-link mt-2 rounded-3 p-2 ${id === props.tab ? \"bg-secondary\" : \"\"\n      }`}\n    href={`https://near.social/#/${ownerId}/widget/Index?tab=${id}`}\n    onClick={() => props.update({ tab: id, content: \"\", search: \"\" })}\n  >\n    <i className={icon} />\n    <span>{text}</span>\n    {!!count && count > 0 ? (\n      <div\n        className=\"d-inline-block rounded-circle bg-danger text-center\"\n        style={{ minWidth: \"1.5em\", height: \"1.5em\", color: \"#FFF\" }}\n      >\n        {count}\n      </div>\n    ) : (\n      <></>\n    )}\n  </a>\n);\n\nconst HomeLink = styled.a`\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nreturn (\n  <div className=\"d-flex flex-column\">\n    <a\n      className=\"mb-4 text-dark\"\n      href={`https://near.social/#/${ownerId}/widget/Index`}\n      onClick={() => props.update({ tab: \"home\", content: \"\", search: \"\" })}\n    >\n      <h4>\n        <Widget src={`${ownerId}/widget/Logo`} props={{ size: 32 }} />\n        Web3 Combinator\n      </h4>\n    </a>\n    {navItem({\n      text: \"Inbox\",\n      icon: \"bi-envelope\",\n      id: \"inbox\",\n      count: inboxCount,\n    })}\n    {navItem({\n      text: \"Manage\",\n      icon: \"bi-diagram-2\",\n      id: \"entities\",\n    })}\n    {navItem({\n      text: \"My graph\",\n      icon: \"bi-ui-checks-grid\",\n      id: \"contributions\",\n    })}\n    <hr className=\"border-2\" />\n    {navItem({\n      text: \"About this app\",\n      icon: \"bi-info-square\",\n      id: \"about\",\n    })}\n    <a className=\"nav-link mt-2 rounded-3 p-2\" href=\"https://near.social/#/\">\n      <i className=\"bi-escape\" />\n      <span>Exit application</span>\n    </a>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Sidebar"}
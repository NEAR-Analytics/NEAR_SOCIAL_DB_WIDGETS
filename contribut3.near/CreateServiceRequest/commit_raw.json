{"tx_hash": "48XU1oyjzEStATfNxz27nrxSFAVUYy99CU5KswAw6fWX", "action_id_social": "4DcnnUf7TcdxJhmsXz1iQpepfcTcxDzphxUWuQWG69DR-0-widget", "block_id": 90075065, "block_timestamp": "2023-04-21 06:44:56.723", "signer_id": "contribut3.near", "widget_name": "CreateServiceRequest", "source_code": "const ownerId = \"contribut3.near\";\n\nconst STEP_1 = \"step1\";\nconst STEP_2 = \"step2\";\nconst propsData = {\n  step1: {\n    nextButtonText: \"Publish request\",\n    nextButtonIcon: \"bi-send\",\n    progress: 100\n  },\n  step2: {\n    nextButtonText: \"Publish request\",\n    nextButtonIcon: \"bi-send\",\n    progress: 100\n  }\n};\n\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: row;\n  row-gap: 16px;\n  justify-content: space-between;\n`;\n\nconst CancelButton = styled.button`\n  background: #FFFFFF;\n  border: 1px solid #ECEEF0;\n  border-radius: 50px;\n  padding: 8px 16px;\n  gap: 8px;\n  align-items: center;\n`;\n\nconst NextButton = styled.button`\n  color: #FFFFFF;\n  background: #161615;\n  border-radius: 50px;\n  padding: 8px 16px;\n  gap: 8px;\n  align-items: center;\n`;\n\nconst FormContainer = styled.div`\n  justify-content: center;\n  align-items: flex-start;\n  padding: 32px 0px 24px;\n  gap: 36px;\n`;\n\nState.init({\n  step: STEP_1\n});\n\nconst renderStepOne = () => {\n  return (\n    <Widget\n      src={`${ownerId}/widget/CreateServiceRequest_Step1`}\n      props={{}}\n    />\n  );\n};\n\nconst renderStepTwo = () => {\n  return (\n    <Widget\n      src={`${ownerId}/widget/CreateServiceRequest_Step2`}\n      props={{}}\n    />\n\n  );\n};\nconst renderForm = {\n  step1: renderStepOne(),\n  step2: renderStepTwo(),\n}[state.step];\n\n\nconst onNextStepClick = () => {\n  //   if (state.step == STEP_1) {\n  //     State.update({ step: STEP_2, ...propsData.step2 })\n  //   } else {\n  //     // Call Publish request\n  //   }\n}\n\nconst onPublishRequestClick = () => {\n  // Call Publish request\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  gap: 3em;\n  padding-bottom: 3em;\n`;\n\nconst Header = styled.h1`\n  font-style: normal;\n  font-weight: 700;\n  font-size: 2em;\n  line-height: 1.4em;\n  text-align: center;\n  color: #000000;\n`;\n\nconst SubHeader = styled.h2`\n  font-style: normal;\n  font-weight: 400;\n  font-size: 0.95em;\n  line-height: 1.25em;\n  text-align: center;\n  color: #101828;\n`;\n\nconst ProgressBar = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  gap: .375em;\n  width: 100%;\n  height: .5em;\n  padding: 0;\n  margin: 0;\n\n  div {\n    flex-grow: 1;\n    height: 100%;\n    width: 50%;\n    background: #00ec97;\n  }\n\n  &.half {\n    div:last-child {\n      background: #eceef0;\n    }\n  }\n`;\n\nreturn (\n  <Container>\n    {/*<ProgressBar className={state.step === \"step1\" ? \"half\" : \"\"}><div /><div /></ProgressBar>*/}\n    <div>\n      <Header>Create new contribution request</Header>\n      <SubHeader>\n        Use this form to post your business needs and match with reputable contributors and service providers with ease\n      </SubHeader>\n    </div>\n\n    <FormContainer>\n      {renderForm}\n    </FormContainer>\n    <Footer>\n      <CancelButton>Cancel</CancelButton>\n      <Widget src={`${ownerId}/widget/Buttons.Green`} props={{\n        text: <>\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M7.87464 10.1251L15.7496 2.25013M7.97033 10.3712L9.94141 15.4397C10.1151 15.8862 10.2019 16.1094 10.327 16.1746C10.4354 16.2311 10.5646 16.2312 10.6731 16.1748C10.7983 16.1098 10.8854 15.8866 11.0596 15.4403L16.0023 2.77453C16.1595 2.37164 16.2381 2.1702 16.1951 2.04148C16.1578 1.92969 16.0701 1.84197 15.9583 1.80462C15.8296 1.76162 15.6281 1.84023 15.2252 1.99746L2.55943 6.94021C2.11313 7.11438 1.88997 7.20146 1.82494 7.32664C1.76857 7.43516 1.76864 7.56434 1.82515 7.67279C1.89033 7.7979 2.11358 7.88472 2.56009 8.05836L7.62859 10.0294C7.71923 10.0647 7.76455 10.0823 7.80271 10.1095C7.83653 10.1337 7.86611 10.1632 7.89024 10.1971C7.91746 10.2352 7.93508 10.2805 7.97033 10.3712Z\" stroke=\"#11181C\" stroke-width=\"1.66667\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n          </svg>\n          Publish request\n        </>,\n        onClick: () => {\n          Near.call(\n            ownerId,\n            \"add_request\",\n            {\n              request: {\n                project_id: state.projectId.value,\n                title: state.title,\n                description: state.description,\n                open: true,\n                request_type: state.requestType.value,\n                payment_type: state.paymentType.value,\n                tags: state.tags.map(({ value }) => value),\n                source: state.source.value,\n                deadline: `${new Date(state.deadline).getTime()}`,\n                budget: +state.budget,\n              }\n            }\n          )\n        }\n      }} />\n      <NextButton onClick={onPublishRequestClick}>\n        <i class={`bi ${propsData[state.step].nextButtonIcon}`}></i>{propsData[state.step].nextButtonText}\n      </NextButton>\n    </Footer>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/CreateServiceRequest"}
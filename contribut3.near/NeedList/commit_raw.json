{"tx_hash": "4dQov6FDGBPvkn5QypT8j831nufeySzFf8PQbWhfFEvY", "action_id_social": "FxiSAS4RdzWu7xf3yruBLpUEK4rSN6EmbtPswjtpX4MM-0-widget", "block_id": 85435360, "block_timestamp": "2023-02-17 15:10:58.853", "signer_id": "contribut3.near", "widget_name": "NeedList", "source_code": "const ownerId = \"contribut3.near\";\r\nconst search = props.search ?? \"\";\r\nconst accountId = props.accountId;\r\n\r\nconst needs = accountId ? Near.view(ownerId, \"get_entity_contribution_needs\", { account_id: accountId }, \"final\", true)\r\n  Near.view(ownerId, \"get_contribution_needs\", {}, \"final\", true);\r\n\r\nconst allNeeds = Object.keys(needs)\r\n  .reduce((list, accountId) => {\r\n    const entityNeeds = needs[accountId];\r\n    const needsList = Object.keys(entityNeeds).map((cid) => [\r\n      accountId,\r\n      cid,\r\n      entityNeeds[cid],\r\n    ]);\r\n\r\n    return [...list, ...needsList];\r\n  }, [])\r\n  .filter(\r\n    ([accountId, _, need]) =>\r\n      accountId.includes(search) ||\r\n      need.description.includes(search) ||\r\n      need.contribution_type.includes(search)\r\n  );\r\n\r\nif (!allNeeds || allNeeds.length === 0) {\r\n  return \"No contribution needs found!\";\r\n}\r\n\r\nreturn (\r\n  <>\r\n    {allNeeds.map(([accountId, cid]) => (\r\n      <div key={cid} className=\"mb-2\">\r\n        <Widget src={`${ownerId}/widget/Need`} props={{ accountId, cid }} />\r\n      </div>\r\n    ))}\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/NeedList"}
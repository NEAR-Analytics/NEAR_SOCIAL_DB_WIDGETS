{"tx_hash": "szvVYxUbBvoGeie4wRaVzW142pF6SBp699AcNEaoBGw", "action_id_social": "FwUSdyTwniC1qdJgfkLRmLAvrLhf5Ac1QJBenBgEfwna-0-widget", "block_id": 88720778, "block_timestamp": "2023-04-03 11:49:09.417", "signer_id": "contribut3.near", "widget_name": "Request.Card", "source_code": "const ownerId = \"contribut3.near\";\nconst accountId = props.accountId;\nconst cid = props.cid;\n\nState.init({\n  request: null,\n  requestIsFetched: false,\n  tags: null,\n  tagsIsFetched: false,\n});\n\nif (!state.requestIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_request\",\n    { account_id: accountId, cid },\n    \"final\",\n    false\n  ).then((request) => State.update({ request, requestIsFetched: true }));\n}\n\nif (!state.foundersIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"get\",\n    { keys: [`${accountId}/profile/tags`] },\n    \"final\",\n    false\n  ).then((tags) => State.update({ tags, tagsIsFetched: true }));\n}\n\nconst Title = styled.h3`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 1em;\n  line-height: 1.4em;\n  color: #101828;\n  flex: none;\n  order: 0;\n  flex-grow: 1;\n`;\n\nconst Item = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0px;\n  gap: 0.4em;\n  flex: none;\n  order: 1;\n  flex-grow: 0;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 0.75em;\n  line-height: 1em;\n  color: #11181c;\n`;\n\nconst deadline = (\n  <Item>\n    <svg\n      width=\"15\"\n      height=\"16\"\n      viewBox=\"0 0 15 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M1 14.75L1 2M1 8.75H6.55C6.97004 8.75 7.18006 8.75 7.34049 8.66825C7.48161 8.59635 7.59635 8.48161 7.66825 8.34049C7.75 8.18006 7.75 7.97004 7.75 7.55V2.45C7.75 2.02996 7.75 1.81994 7.66825 1.65951C7.59635 1.51839 7.48161 1.40365 7.34049 1.33175C7.18006 1.25 6.97004 1.25 6.55 1.25H2.2C1.77996 1.25 1.56994 1.25 1.40951 1.33175C1.26839 1.40365 1.15365 1.51839 1.08175 1.65951C1 1.81994 1 2.02996 1 2.45V8.75ZM7.75 2.75H12.55C12.97 2.75 13.1801 2.75 13.3405 2.83175C13.4816 2.90365 13.5963 3.01839 13.6683 3.15951C13.75 3.31994 13.75 3.52996 13.75 3.95V9.05C1 3.75 9.47004 13.75 9.68006 13.6683 9.84049C13.5963 9.98161 13.4816 10.0963 13.3405 10.1683C13.1801 10.25 12.97 10.25 12.55 10.25H8.95C8.52996 10.25 8.31994 10.25 8.15951 10.1683C8.01839 10.0963 7.90365 9.98161 7.83175 9.84049C7.75 9.68006 7.75 9.47004 7.75 9.05V2.75Z\"\n        stroke=\"#7E868C\"\n        stroke-width=\"1.35\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </svg>\n    {new Date(Number(state.request.deadline)).toLocaleDateString()}\n  </Item>\n);\n\nconst budget = (\n  <Item>\n    <svg\n      width=\"18\"\n      height=\"14\"\n      viewBox=\"0 0 18 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M4.5 6.25V9.25M13.5 4.75V7.75M12.75 1C14.5865 1 15.5799 1.28107 16.0741 1.49908C16.1399 1.52812 16.1728 1.54263 16.2678 1.63328C16.3247 1.68761 16.4287 1.84705 16.4554 1.92107C16.5 2.04455 16.5 2.11205 16.5 2.24706V10.3084C16.5 10.9899 16.5 11.3307 16.3978 11.5059C16.2938 11.6841 16.1936 11.7669 15.999 11.8354C15.8076 11.9027 15.4215 11.8285 14.6491 11.6801C14.1085 11.5762 13.4674 11.5 12.75 11.5C10.5 11.5 8.25 13 5.25 13C3.41347 13 2.42015 12.7189 1.92591 12.5009C1.86009 12.4719 1.82718 12.4574 1.7322 12.3667C1.67526 12.3124 1.57134 12.153 1.5446 12.0789C1.5 11.9554 1.5 11.8879 1.5 11.7529L1.5 3.69164C1.5 3.01006 1.5 2.66928 1.60221 2.49411C1.70618 2.31592 1.80644 2.23309 2.00104 2.16461C2.19235 2.09729 2.57853 2.17149 3.35087 2.31989C3.89146 2.42376 4.53261 2.5 5.25 2.5C7.5 2.5 9.75 1 12.75 1ZM10.875 7C10.875 8.03553 10.0355 8.875 9 8.875C7.96447 8.875 7.125 8.03553 7.125 7C7.125 5.96447 7.96447 5.125 9 5.125C10.0355 5.125 10.875 5.96447 10.875 7Z\"\n        stroke=\"#7E868C\"\n        stroke-width=\"1.35\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </svg>\n    NH {state.request.budget}\n  </Item>\n);\n\nconst body = (\n  <>\n    <Widget\n      src={`${ownerId}/widget/ProfileLine`}\n      props={{\n        accountId,\n        imageSize: \"3em\",\n        update: props.update,\n      }}\n    />\n    <Title>{state.request.title}</Title>\n    <Widget\n      src={`${ownerId}/widget/ActiveIndicator`}\n      props={{\n        active: state.request.open,\n        activeText: \"Open to proposals\",\n        inactiveText: \"Closed\",\n      }}\n    />\n    <Widget\n      src={`${ownerId}/widget/DescriptionArea`}\n      props={{ description: state.request.description }}\n    />\n    <Widget\n      src={`${ownerId}/widget/Tags`}\n      props={{\n        tags: state.request.tags.reduce(\n          (ob, tag) => ({ ...ob, [tag]: \"\" }),\n          {}\n        ),\n      }}\n    />\n    <div>\n      {deadline}\n      {budget}\n    </div>\n  </>\n);\n\nconst FooterButton = styled.a`\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em 1em;\n  gap: 0.5em;\n  width: 48%;\n  height: 2.5em;\n  background: #fafafa;\n  border: 1px solid #eceef0;\n  border-radius: 50px;\n  flex: none;\n  order: 0;\n  flex-grow: 0;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 0.9em;\n  line-height: 1em;\n  text-align: center;\n  color: ${({ blue }) => (blue ? \"#006ADC\" : \"#101828\")};\n`;\n\nconst Footer = styled.div`                \n      display: flex;\n        flex - direction: row;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n      `;\n\nconst footer = (\n  <Footer>\n    <FooterButton\n      href={`/#/${ownerId}/widget/Index?tab=contributor&accountId=${accountId}`}\n      onClick={() =>\n        props.update({\n          tab: \"contributor\",\n          content: \"\",\n          search: \"\",\n          accountId,\n        })\n      }\n    >\n      View details\n    </FooterButton>\n    <FooterButton\n      blue\n      href={`/#/${ownerId}/widget/Index?tab=create&content=proposal&cid=${cid}&accountId=${accountId}`}\n      onClick={() =>\n        props.update({\n          tab: \"create\",\n          content: \"proposal\",\n          search: \"\",\n          accountId,\n          cid,\n        })\n      }\n    >\n      Propose contribution\n    </FooterButton>\n  </Footer>\n);\n\nreturn <Widget src={`${ownerId}/widget/Card`} props={{ body, footer }} />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Request.Card"}
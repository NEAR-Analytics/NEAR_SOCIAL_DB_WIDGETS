{"tx_hash": "2NHdUe5KXXgeqhbPP9eqYnUQ1ZE2hnQgDyFBnq56fu8c", "action_id_social": "D9nnmSnihWGprSsKfbeMtYTg2yMArDWj82ut8s1WJQ8X-0-widget", "block_id": 90311490, "block_timestamp": "2023-04-24 09:04:10.553", "signer_id": "contribut3.near", "widget_name": "Contribution.Activity", "source_code": "const contribution = props.contribution;\nconst request = props.request;\nconst projectName = props.projectName;\nconst vendorName = props.vendorName;\n\nconst activity = [\n  {\n    id: \"created\",\n    text: <><b>{projectName}</b> created a contract <b>\"{request.title}\"</b> with <b>{vendorName}</b></>\n  }, {\n    id: \"awaiting\",\n    text: <>Awaiting approval by <b>{vendorName}</b></>\n  },\n];\n\nif (!(\"Rejected\" in contribution.status) && !(\"Created\" in contribution.status)) {\n  activity.push({\n    id: \"accepted\",\n    text: <><b>{vendorName}</b> accepted contract</>\n  });\n  activity.push({\n    id: \"started\",\n    text: <>Contract has started</>\n  });\n}\n\nif (\"Rejected\" in contribution.status) {\n  activity.push({\n    id: \"rejected\",\n    text: <><b>{vendorName}</b> rejected contract</>\n  });\n}\n\nif (contribution.status === \"Ongoing\" || \"Delivered\" in contribution.status || \"Completed\" in contribution.status) {\n  activity.push({\n    id: \"ongoing\",\n    text: <>Work in progress</>\n  });\n}\n\ncontribution.actions.forEach(({ description, start_date, end_date }) => activity.push({\n  id: start_date,\n  text: <>{description}</>,\n  timestamp: `${new Date(Number(start_date)).toLocaleDateString()}${end_date ? \" - \" + new Date(Number(end_date)).toLocaleDateString() : \"\"}`\n}));\n\nif (\"Delivered\" in contribution.status || \"Completed\" in contribution.status) {\n  activity.push({\n    id: \"delivered\",\n    text: <>Contract marked as delivered by <b>{vendorName}</b></>\n  });\n}\n\nif (\"Completed\" in contribution.status) {\n  activity.push({\n    id: \"completed\",\n    text: <>Contract completed</>\n  });\n}\n\nconst List = styled.ul`\n  list-style-type: image;\n  list-style-image: url(https://ipfs.near.social/ipfs/bafkreicxzxikc435dyiwilxuitevu5uiwoea4ls6o7ckdev3esjs6r3p5q);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  padding: 0;\n  gap: 2em;\n`;\n\nreturn <List>{\n  activity.reverse().map(({ id, text, timestamp }) => <li key={id}><span>{text}</span><small>{timestamp}</small></li>)\n}</List>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Contribution.Activity"}
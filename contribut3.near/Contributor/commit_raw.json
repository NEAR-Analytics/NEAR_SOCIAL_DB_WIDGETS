{"tx_hash": "8YwGn9DbgSJunYcCGFdbtdzsZU9qJu2aZxXVTU2zS1P8", "action_id_social": "Hq8h8tKKKpaLvoWkM7WZ6x2viqnQm3NFpMutUoMXViQ3-0-widget", "block_id": 84281560, "block_timestamp": "2023-02-01 13:16:40.770", "signer_id": "contribut3.near", "widget_name": "Contributor", "source_code": "const ownerId = \"contribut3.near\";\r\nconst accountId = props.accountId;\r\nconst notStandalone = props.notStandalone ?? false;\r\nconst isPreview = props.isPreview ?? false;\r\n\r\nif (!accountId) {\r\n  return \"Cannot show contributor without account ID!\";\r\n}\r\n\r\nconst shareButton = props.isPreview ? null : (\r\n  <a\r\n    className=\"card-link\"\r\n    href={`https://near.social/#/${ownerId}/widget/Contributor?accountId=${accountId}`}\r\n    role=\"button\"\r\n    target=\"_blank\"\r\n    title=\"Open in new tab\"\r\n  >\r\n    <div className=\"bi bi-share\" />\r\n  </a>\r\n);\r\n\r\nif (notStandalone) {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <div className=\"row justify-content-between\">\r\n          <div className=\"col-4\">\r\n            <Widget src={`mob.near/widget/ProfileLine`} props={{ accountId }} />\r\n          </div>\r\n          <div className=\"col-5\">\r\n            <div className=\"d-flex justify-content-end\">{shareButton}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst contributor = isPreview\r\n  ? props.contributor\r\n  : Near.view(\r\n      ownerId,\r\n      \"get_contributor\",\r\n      { account_id: accountId },\r\n      \"final\",\r\n      true\r\n    );\r\n\r\nif (!contributor) {\r\n  return isPreview\r\n    ? \"You must provide a contributor object in preview mode!\"\r\n    : \"Loading...\";\r\n}\r\n\r\nconst contributions = Near.view(\r\n  ownerId,\r\n  \"get_contributor_contributions\",\r\n  { account_id: accountId },\r\n  \"final\",\r\n  true\r\n);\r\n\r\nconst contributionsList = notStandalone ? null : (\r\n  <div className=\"mb-2\">\r\n    Contributions:\r\n    <br />\r\n    {!contributions ? (\r\n      <div>Loading...</div>\r\n    ) : (\r\n      Object.keys(contributions).map((entityId) => (\r\n        <Widget\r\n          src={`${ownerId}/widget/Contribution`}\r\n          props={{ entityId, contributorId: accountId, id: entityId }}\r\n        />\r\n      ))\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst header = (\r\n  <div className=\"card-header\">\r\n    <small className=\"text-muted\">\r\n      <div className=\"row justify-content-between\">\r\n        <div className=\"col-4\">\r\n          <Widget src={`mob.near/widget/ProfileLine`} props={{ accountId }} />\r\n        </div>\r\n        <div className=\"col-5\">\r\n          <div className=\"d-flex justify-content-end\">{shareButton}</div>\r\n        </div>\r\n      </div>\r\n    </small>\r\n  </div>\r\n);\r\n\r\nconst body = (\r\n  <div className=\"card-body\">\r\n    <div className=\"mb-2\">\r\n      Contribution types:\r\n      <ul>\r\n        {contributor.contribution_types.map((ct) => (\r\n          <li>{typeof ct !== \"string\" ? `Other: ${ct.Other}` : ct}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n    <div className=\"mb-2\">\r\n      Skills:\r\n      <ul>\r\n        {contributor.skills.map((s) => (\r\n          <li>{s}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n    <div className=\"mb-2\">\r\n      Resume:\r\n      <p>{contributor.resume}</p>\r\n    </div>\r\n    {contributionsList}\r\n  </div>\r\n);\r\n\r\nreturn (\r\n  <div className=\"card\">\r\n    {header}\r\n    {body}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Contributor"}
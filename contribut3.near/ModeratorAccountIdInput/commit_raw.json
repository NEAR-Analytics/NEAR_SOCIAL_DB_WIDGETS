{"tx_hash": "3fkJK6fY2uDfd3Dg3miEZXLstvSwdosBWA77riDRifWr", "action_id_social": "C5N3rXrVuN8W7rFCwZ6vYdM8X2FJLh6d4HZTV3fpyEPg-0-widget", "block_id": 83840327, "block_timestamp": "2023-01-26 13:39:33.204", "signer_id": "contribut3.near", "widget_name": "ModeratorAccountIdInput", "source_code": "const allAccountIds = props.allAccountIds;\r\nconst accountId = props.accountId;\r\nconst fixed = props.fixed;\r\nconst update = props.update;\r\n\r\nconst getEntity = (account_id) => {\r\n  console.log(account_id);\r\n  return Near.view(ownerId, \"get_entity\", { account_id }, \"final\");\r\n};\r\n\r\nreturn (\r\n  <div className=\"col-lg-12 mb-2\">\r\n    Account ID of entity:\r\n    <Typeahead\r\n      id=\"account-id-input\"\r\n      labelKey=\"name\"\r\n      onChange={(accountId) => {\r\n        console.log(accountId[0].name);\r\n        const existing = getEntity(accountId[0].name);\r\n        const updatedState = {\r\n          accountId,\r\n        };\r\n        console.log(existing);\r\n\r\n        if (existing) {\r\n          updatedState.existing = existing;\r\n          updatedState.kind = [{ name: entity.kind }];\r\n          updatedState.entityStatus = [{ name: entity.status }];\r\n          updatedState.startDate = new Date(\r\n            Number(entity.start_date)\r\n          ).toLocaleDateString();\r\n\r\n          if (existing.end_date) {\r\n            updatedState.endDate = new Date(\r\n              Number(entity.end_date)\r\n            ).toLocaleDateString();\r\n          }\r\n        }\r\n\r\n        update(updatedState);\r\n      }}\r\n      options={allAccountIds}\r\n      placeholder=\"contribut3.near, social.near...\"\r\n      selected={state.accountId}\r\n      positionFixed\r\n      allowNew\r\n      disabled={state.fixed}\r\n    />\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/ModeratorAccountIdInput"}
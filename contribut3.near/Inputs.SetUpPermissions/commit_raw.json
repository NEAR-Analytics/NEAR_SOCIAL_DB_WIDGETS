{"tx_hash": "FLFgM3gxRiNx3UgboLksYncWuaB1cRgk4zxDSofXfaoC", "action_id_social": "AMAdxYiRLPqW9DBHvVYbXuFCnHwLoTdbu4HK7Gj3xYav-0-widget", "block_id": 89941244, "block_timestamp": "2023-04-19 12:28:35.488", "signer_id": "contribut3.near", "widget_name": "Inputs.SetUpPermissions", "source_code": "const ownerId = \"contribut3.near\";\n\nState.init({\n  following: [],\n  followingIsFetched: false,\n  value: [],\n})\n\nif (!state.followingIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"get\",\n    { keys: [`${context.accountId}/graph/follow/*`] },\n    \"final\",\n    false,\n  ).then((data) => State.update({\n    following: Object.keys(data[context.accountId].graph.follow).map((name) => ({ name })),\n    followingIsFetched: true,\n  }));\n  return <>Loading...</>;\n}\n\n// console.log(Social.get(`${context.accountId}/graph/follow/*`, \"final\", {\n//   // return_type: \"BlockHeight\",\n//   // values_only: true,\n// }));\n\nreturn (<Widget\n  src={`${ownerId}/widget/Inputs.MultiSelect`}\n  props={{\n    label: \"Accounts to add permissions to\",\n    placeholder: \"Add accounts\",\n    options: state.following,\n    value: state.value,\n    onChange: (value) => State.update({ value }),\n  }}\n/>);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Inputs.SetUpPermissions"}
{"tx_hash": "2fXtsQ5hJEZrmEWfCmFh5V6fup4yKwBoodq3H6yhyFyF", "action_id_social": "HJKHuR6ZsGCWtx1XYGrbPViWM8VYntHGVEdPzk75LoWV-0-widget", "block_id": 86829227, "block_timestamp": "2023-03-08 11:16:39.588", "signer_id": "contribut3.near", "widget_name": "DescriptionInput", "source_code": "const description = props.description ?? \"\";\r\nconst update = props.update;\r\nconst text = props.text ?? \"Description:\";\r\n\r\nif (!update) {\r\n  return \"Cannot render description input widget without update function!\";\r\n}\r\n\r\nconst code = `\r\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\r\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\r\n<script src=\"https://unpkg.com/react-markdown-editor-lite@1.3.4/lib/index.js\" crossorigin></script>\r\n<link rel=\"stylesheet\" href=\"https://unpkg.com/react-markdown-editor-lite@1.3.4/lib/index.css\" />\r\n\r\n\r\n<div id=\"react-root\"></div>\r\n\r\n<script>\r\nfunction TestReact(props) {\r\n  const [value, setValue] = React.useState(props.initialText || \"\");\r\n  return React.createElement(ReactMarkdownEditorLite.default, {\r\n      value,\r\n      view: { menu: true, md: true, html: false },\r\n      canView: { menu: true, md: false, html: false, fullScreen: false, hideMenu: true },\r\n      onChange: ({ text }) => {\r\n        setValue(text);\r\n        window.top.postMessage(text, \"*\");\r\n      },\r\n      renderHTML: () => {},\r\n      className: \"full\",\r\n    }); \r\n}\r\n\r\nconst domContainer = document.querySelector('#react-root');\r\nconst root = ReactDOM.createRoot(domContainer);\r\n\r\nwindow.addEventListener(\"message\", (event) => {\r\n  root.render(React.createElement(TestReact, {\r\n    initialText: event.data,\r\n  }));\r\n});\r\n\r\n</script>\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-weight: 600;\r\n  color: #344054;\r\n`;\r\n\r\n// const Iframe = styled.iframe`\r\n//   width: 100%;\r\n//   height: 150px;\r\n// `;\r\n\r\nreturn (\r\n  <>\r\n    <Label htmlFor=\"description\">{text}</Label>\r\n    <textarea\r\n      id=\"description\"\r\n      value={description}\r\n      type=\"text\"\r\n      rows={6}\r\n      className=\"form-control\"\r\n      onChange={(event) => update(event.target.value)}\r\n    />\r\n    <iframe\r\n      className=\"w-100\"\r\n      style={{ height: \"300px\" }}\r\n      srcDoc={code}\r\n      message={initialText}\r\n      onMessage={(m) => State.update({ m })}\r\n    />\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/DescriptionInput"}
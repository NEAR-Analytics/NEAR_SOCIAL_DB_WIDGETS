{"tx_hash": "Hg37yDPpNgvVzhZZvjXPc8QPaz4RA24PNygbRR3f9t3i", "action_id_social": "5tkSSRoWox4DQ3n6n54TpdpFpokhamJ73craG9DpQsaY-0-widget", "block_id": 90084548, "block_timestamp": "2023-04-21 09:41:56.097", "signer_id": "contribut3.near", "widget_name": "Proposal.Card", "source_code": "const ownerId = \"contribut3.near\";\nconst projectId = props.projectId;\nconst cid = props.cid;\nconst vendorId = props.vendorId;\n\nState.init({\n  request: null,\n  requestIsFetched: false,\n  proposal: null,\n  proposalIsFetched: false,\n  profile: null,\n  profileIsFetched: false,\n});\n\nif (!state.requestIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_request\",\n    { account_id: projectId, cid },\n    \"final\",\n    false\n  ).then((request) => State.update({ request, requestIsFetched: true }));\n}\n\nif (!state.proposalIsFetched) {\n  Near.asyncView(\n    ownerId,\n    \"get_proposal\",\n    { project_id: projectId, vendor_id: vendorId, cid },\n    \"final\",\n    false\n  ).then((proposal) => State.update({ proposal, proposalIsFetched: true }));\n}\n\nif (!state.profileIsFetched) {\n  Near.asyncView(\n    \"social.near\",\n    \"get\",\n    { keys: [`${vendorId}/profile/**`] },\n    \"final\",\n    false\n  ).then((data) => State.update({ profile: data[vendorId].profile, profileIsFetched: true }));\n}\n\nif (!state.requestIsFetched || !state.proposalIsFetched || !state.profileIsFetched) {\n  return <>Loading...</>;\n}\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  gap: 1em;\n  width: 100%;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-start;\n  gap: 1em;\n  width: 100%;\n`;\n\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  gap: 1em;\n  width: 100%;\n`;\n\nconst Description = styled.div`\n  border-left: 3px solid #B2DDFF;\n  width: 100%;\n`;\n\nconst RejectButton = styled.button`\n  position: absolute;\n  inset: -20px -20px auto auto;\n  transition: all 0.2s ease-in-out;\n  border: none;\n  background: none;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n\nconst body = (<Container>\n  <RejectButton onClick={() => Near.call(ownerId, \"reject_proposal\", { project_id: projectId, vendor_id: vendorId, cid })}>\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M10.5 1.5L1.5 10.5M1.5 1.5L10.5 10.5\" stroke=\"#F44738\" stroke-width=\"1.66667\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n    </svg>\n  </RejectButton>\n  <Row></Row>\n  <Column>\n    <Row></Row>\n  </Column>\n</Container>);\n\nconst footer = (<Row>\n  <Widget src={`${ownerId}/widget/Buttons.Grey`} props={{ text: \"Discuss\", onClick: () => { } }} />\n  <Widget src={`${ownerId}/widget/Buttons.Green`} props={{ text: \"Hire\", onClick: () => Near.call(ownerId, \"add_contribution\", { project_id: projectId, vendor_id: vendorId, cid }) }} />\n</Row>);\n\nreturn <Widget src={`${ownerId}/widget/Card`} props={{ body, footer }} />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Proposal.Card"}
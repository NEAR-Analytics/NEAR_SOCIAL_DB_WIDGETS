{"tx_hash": "BYq7dRzYsXyUWgAdaZeSZSgk57yrVKpGdqBqzUTXwTwV", "action_id_social": "HnFtnbMEZZ3ZWX2S68s1QE6GjDPiAJn3zFY5Bqm7A85e-0-widget", "block_id": 83747969, "block_timestamp": "2023-01-25 08:17:14.015", "signer_id": "contribut3.near", "widget_name": "Index", "source_code": "const ownerId = \"contribut3.near\";\r\n\r\ninitState({\r\n  search: \"\",\r\n  content: props.content ?? \"entities\",\r\n});\r\n\r\n// // A workaround for weird VM behavior. It does not call initState when the same\r\n// // widget is reopened in the same tab.\r\n// if (state.selectedPost != props.postId) {\r\n//   State.update({ selectedPost: props.postId });\r\n// }\r\n// if (state.label != props.label) {\r\n//   State.update({ label: props.label });\r\n// }\r\n\r\nconst home = \"https://near.social/#/contribut3.near/widget/Index\";\r\n\r\nconst onHomeClick = () => {\r\n  State.update({\r\n    search: \"\",\r\n    content: \"entities\",\r\n  });\r\n};\r\n\r\nconst editorsFooter = props.isPreview ? null : (\r\n  <div className=\"row\" id={`accordion`}>\r\n    <div\r\n      className=\"collapse\"\r\n      id={`collapseContributionRequestForm`}\r\n      data-bs-parent={`#accordion`}\r\n    >\r\n      <Widget src={`contribut3.near/widget/ContributionRequestForm`} />\r\n    </div>\r\n    <div\r\n      className=\"collapse\"\r\n      id={`collapseEntityForm`}\r\n      data-bs-parent={`#accordion`}\r\n    >\r\n      <Widget src={`${ownerId}/widget/EntityForm`} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst controls = (\r\n  <div className=\"card border-secondary mb-2\">\r\n    <div className=\"nav navbar navbar-expand-lg bg-body-tertiary\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"navbar-brand\">\r\n          <Widget\r\n            src=\"mob.near/widget/ProfileImage\"\r\n            props={{\r\n              metadata,\r\n              accountId,\r\n              widgetName,\r\n              style: { height: \"2.5em\", width: \"2.5em\", minWidth: \"2.5em\" },\r\n              className: \"me-2\",\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarText\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li className=\"nav-item\">\r\n              <a\r\n                className=\"nav-link active\"\r\n                aria-current=\"page\"\r\n                href=\"#\"\r\n                data-bs-toggle=\"collapse\"\r\n                href={`#collapseContributionRequestForm`}\r\n                role=\"button\"\r\n                aria-expanded=\"false\"\r\n                aria-controls={`collapseContributionRequestForm`}\r\n              >\r\n                <i className=\"bi-plus-circle\"> </i>\r\n                Request Contribution\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a\r\n                className=\"nav-link active\"\r\n                href=\"#\"\r\n                data-bs-toggle=\"collapse\"\r\n                href={`#collapseEntityForm`}\r\n                role=\"button\"\r\n                aria-expanded=\"false\"\r\n                aria-controls={`collapseEntityForm`}\r\n              >\r\n                <i className=\"bi-rocket-fill\"> </i>\r\n                Create Entity\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    {editorsFooter}\r\n  </div>\r\n);\r\n\r\nconst navbar = (\r\n  <div className=\"card border-secondary\">\r\n    <div className=\"nav navbar navbar-expand-lg bg-body-tertiary\">\r\n      <div className=\"container-fluid\">\r\n        <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n          <li className=\"nav-item \">\r\n            <a\r\n              className=\"nav-link active button\"\r\n              onClick={onHomeClick}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"bi-house-fill\"> </i>\r\n              Entities\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item \">\r\n            <a\r\n              className=\"nav-link active button\"\r\n              onClick={() => State.update({ content: \"contributors\" })}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"bi-person-plus-fill\"> </i>\r\n              Contributors\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item \">\r\n            <a\r\n              className=\"nav-link active button\"\r\n              onClick={() => State.update({ content: \"admin\" })}\r\n              role=\"button\"\r\n            >\r\n              <i className=\"bi-person-plus-fill\"> </i>\r\n              Manage Entities\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst content = {\r\n  entities: (\r\n    <div className=\"mt-2\">\r\n      <Widget src={`${ownerId}/widget/EntityList`} />\r\n    </div>\r\n  ),\r\n  contributors: (\r\n    <div className=\"mt-2\">\r\n      <Widget src={`${ownerId}/widget/ContributorList`} />\r\n    </div>\r\n  ),\r\n  admin: (\r\n    <div className=\"mt-2\">\r\n      <Widget src={`${ownerId}/widget/AdminList`} />\r\n    </div>\r\n  ),\r\n}[state.content];\r\n\r\nreturn (\r\n  <div>\r\n    {controls}\r\n    {navbar}\r\n    {content}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Index"}
{"tx_hash": "9vpK4QaTZkiZFmbzALzguQ8b36bL9cv9dpaAB5fwLYsz", "action_id_social": "7yJdCP9mbWX5NkfbCZbcKdRgF1RHHc1tgbGYYGNqobiP-0-widget", "block_id": 88797069, "block_timestamp": "2023-04-04 11:36:12.239", "signer_id": "contribut3.near", "widget_name": "Index", "source_code": "const ownerId = \"contribut3.near\";\n\nState.init({\n  search: props.search ?? \"\",\n  content: props.content,\n  tab: props.tab ?? \"home\",\n  accountId: props.accountId,\n  entityId: props.entityId,\n  contributorId: props.contributorId,\n  kind: props.kind,\n  cid: props.cid,\n});\n\nconst isModerator = Near.view(\n  ownerId,\n  \"check_is_moderator\",\n  { account_id: context.accountId },\n  \"final\",\n  false\n);\n\nconst isContributor = Near.view(\n  ownerId,\n  \"check_is_contributor\",\n  { account_id: context.accountId },\n  \"final\",\n  false\n);\n\nconst update = (state) => State.update(state);\n\nconst tabContent = {\n  home: (\n    <Widget\n      src={`${ownerId}/widget/Dashboard`}\n      props={{ content: state.content, search: state.search, update }}\n    />\n  ),\n  contributor: (\n    <Widget\n      src={`${ownerId}/widget/Profile`}\n      props={{\n        content: state.content,\n        search: state.search,\n        accountId: state.accountId,\n        update,\n      }}\n    />\n  ),\n  inbox: (\n    <Widget\n      src={`${ownerId}/widget/Inbox`}\n      props={{ content: state.content, search: state.search, update }}\n    />\n  ),\n  entities: (\n    <Widget\n      src={`${ownerId}/widget/ManageEntities`}\n      props={{ content: state.content, search: state.search, update }}\n    />\n  ),\n  entity: (\n    <Widget\n      src={`${ownerId}/widget/EntityPage`}\n      props={{\n        accountId: state.accountId,\n        search: state.search,\n        content: state.content,\n        update,\n      }}\n    />\n  ),\n  need: (\n    <Widget\n      src={`${ownerId}/widget/NeedPage`}\n      props={{\n        accountId: state.accountId,\n        cid: state.cid,\n        search: state.search,\n        content: state.content,\n        update,\n      }}\n    />\n  ),\n  create: (\n    <Widget\n      src={`${ownerId}/widget/CreatePage`}\n      props={{\n        search: state.search,\n        content: state.content,\n        accountId: props.accountId,\n        kind: state.kind,\n        cid: state.cid,\n        update,\n      }}\n    />\n  ),\n  contributions: (\n    <Widget\n      src={`${ownerId}/widget/ContributionsPage`}\n      props={{\n        search: state.search,\n        content: state.content,\n        update,\n      }}\n    />\n  ),\n  contribution: (\n    <Widget\n      src={`${ownerId}/widget/ContributionPage`}\n      props={{\n        entityId: state.entityId,\n        contributorId: state.contributorId,\n        search: state.search,\n        update,\n      }}\n    />\n  ),\n}[state.tab];\n\nreturn (\n  <div className=\"d-flex flex-row position-relative\">\n    <Widget src={`${ownerId}/widget/NavbarControl`} />\n    <div className=\"d-flex flex-row position-sticky top-0\">\n      <div className=\"flex-grow-1\">\n        <Widget\n          src={`${ownerId}/widget/Sidebar`}\n          props={{ tab: state.tab, update }}\n        />\n      </div>\n      <div className=\"vr mx-3\" style={{ height: \"90vh\" }} />\n    </div>\n    <div className=\"flex-grow-1\" style={{ maxWidth: \"calc(100% - 272px)\" }}>\n      {tabContent}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Index"}
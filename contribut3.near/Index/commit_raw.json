{"tx_hash": "DnojZDZJqLoZPfVQJmv7nfJ1oSYLoFFdgmCDBpXbqXtV", "action_id_social": "FeF2ejNK99HRscHmUvit7pADgXAjwV5hModdVut2NQk9-0-widget", "block_id": 86378840, "block_timestamp": "2023-03-02 09:26:25.365", "signer_id": "contribut3.near", "widget_name": "Index", "source_code": "const ownerId = \"contribut3.near\";\r\n\r\nState.init({\r\n  search: props.search ?? \"\",\r\n  content: props.content,\r\n  tab: props.tab ?? \"home\",\r\n  accountId: props.accountId,\r\n  entityId: props.entityId,\r\n  contributorId: props.contributorId,\r\n  kind: props.kind,\r\n  cid: props.cid,\r\n});\r\n\r\nconst isModerator = Near.view(\r\n  ownerId,\r\n  \"check_is_moderator\",\r\n  { account_id: context.accountId },\r\n  \"final\",\r\n  true\r\n);\r\n\r\nconst isContributor = Near.view(\r\n  ownerId,\r\n  \"check_is_contributor\",\r\n  { account_id: context.accountId },\r\n  \"final\",\r\n  true\r\n);\r\n\r\nconst update = (state) => State.update(state);\r\n\r\nconst tabContent = {\r\n  home: (\r\n    <Widget\r\n      src={`${ownerId}/widget/Dashboard`}\r\n      props={{ content: state.content, search: state.search, update }}\r\n    />\r\n  ),\r\n  contributor: (\r\n    <Widget\r\n      src={`${ownerId}/widget/Profile`}\r\n      props={{\r\n        content: state.content,\r\n        search: state.search,\r\n        accountId: state.accountId,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  inbox: (\r\n    <Widget\r\n      src={`${ownerId}/widget/Inbox`}\r\n      props={{ content: state.content, search: state.search, update }}\r\n    />\r\n  ),\r\n  entities: (\r\n    <Widget\r\n      src={`${ownerId}/widget/ManageEntities`}\r\n      props={{ content: state.content, search: state.search, update }}\r\n    />\r\n  ),\r\n  entity: (\r\n    <Widget\r\n      src={`${ownerId}/widget/EntityPage`}\r\n      props={{\r\n        accountId: state.accountId,\r\n        search: state.search,\r\n        content: state.content,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  need: (\r\n    <Widget\r\n      src={`${ownerId}/widget/NeedPage`}\r\n      props={{\r\n        accountId: state.accountId,\r\n        cid: state.cid,\r\n        search: state.search,\r\n        content: state.content,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  create: (\r\n    <Widget\r\n      src={`${ownerId}/widget/CreatePage`}\r\n      props={{\r\n        search: state.search,\r\n        content: state.content,\r\n        accountId: props.accountId,\r\n        kind: state.kind,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  contributions: (\r\n    <Widget\r\n      src={`${ownerId}/widget/ContributionsPage`}\r\n      props={{\r\n        search: state.search,\r\n        content: state.content,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  contribution: (\r\n    <Widget\r\n      src={`${ownerId}/widget/ContributionPage`}\r\n      props={{\r\n        entityId: state.entityId,\r\n        contributorId: state.contributorId,\r\n        search: state.search,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n}[state.tab];\r\n\r\nreturn (\r\n  <div className=\"d-flex flex-row relative\">\r\n    <div className=\"d-flex flex-row position-sticky top-2\">\r\n      <div className=\"flex-grow-1\">\r\n        <Widget\r\n          src={`${ownerId}/widget/Sidebar`}\r\n          props={{ tab: state.tab, update }}\r\n        />\r\n      </div>\r\n      <div className=\"vr mx-3\" style={{ height: \"90vh\" }} />\r\n    </div>\r\n    <div className=\"flex-grow-1\" style={{ maxWidth: \"100%\" }}>\r\n      {tabContent}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Index"}
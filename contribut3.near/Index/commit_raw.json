{"tx_hash": "HfrjRQc7U5oac7mRJRcenVK7j5CuJSR9eBkae3W6vvoQ", "action_id_social": "6mrtY99dUDb3CyewdPHsLz5yuhDXKN1mpFmSpnchGrgn-0-widget", "block_id": 85930495, "block_timestamp": "2023-02-24 09:48:20.959", "signer_id": "contribut3.near", "widget_name": "Index", "source_code": "const ownerId = \"contribut3.near\";\r\n\r\nState.init({\r\n  search: props.search ?? \"\",\r\n  content: props.content,\r\n  tab: props.tab ?? \"home\",\r\n});\r\n\r\nconst isModerator = Near.view(\r\n  ownerId,\r\n  \"check_is_moderator\",\r\n  { account_id: context.accountId },\r\n  \"final\",\r\n  true\r\n);\r\n\r\nconst isContributor = Near.view(\r\n  ownerId,\r\n  \"check_is_contributor\",\r\n  { account_id: context.accountId },\r\n  \"final\",\r\n  true\r\n);\r\n\r\nconst update = (state) => State.update(state);\r\n\r\nconst tabContent = {\r\n  home: (\r\n    <Widget\r\n      src={`${ownerId}/widget/Dashboard`}\r\n      props={{ content: state.content, search: state.search, update }}\r\n    />\r\n  ),\r\n  contributor: (\r\n    <Widget\r\n      src={`${ownerId}/widget/Profile`}\r\n      props={{\r\n        content: state.content,\r\n        search: state.search,\r\n        accountId: props.accountId,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  inbox: (\r\n    <Widget\r\n      src={`${ownerId}/widget/Inbox`}\r\n      props={{ content: state.content, search: state.search, update }}\r\n    />\r\n  ),\r\n  entities: (\r\n    <Widget\r\n      src={`${ownerId}/widget/ManageEntities`}\r\n      props={{ content: state.content, search: state.search, update }}\r\n    />\r\n  ),\r\n  entity: (\r\n    <Widget\r\n      src={`${ownerId}/widget/EntityPage`}\r\n      props={{\r\n        accountId: props.accountId,\r\n        search: state.search,\r\n        content: state.content,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  need: (\r\n    <Widget\r\n      src={`${ownerId}/widget/NeedPage`}\r\n      props={{\r\n        accountId: props.accountId,\r\n        cid: props.cid,\r\n        search: state.search,\r\n        content: state.content,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  create: (\r\n    <Widget\r\n      src={`${ownerId}/widget/CreatePage`}\r\n      props={{\r\n        search: state.search,\r\n        content: state.content,\r\n        kind: props.kind,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n  contributions: (\r\n    <Widget\r\n      src={`${ownerId}/widget/ContributionsPage`}\r\n      props={{\r\n        search: state.search,\r\n        content: state.content,\r\n        update,\r\n      }}\r\n    />\r\n  ),\r\n}[state.tab];\r\n\r\nreturn (\r\n  <div className=\"d-flex flex-row\">\r\n    <div className=\"d-flex flex-row position-fixed top-0\">\r\n      <div className=\"px-1\">\r\n        <Widget\r\n          src={`${ownerId}/widget/Sidebar`}\r\n          props={{ tab: state.tab, update }}\r\n        />\r\n      </div>\r\n      <div className=\"vr mx-2\" style={{ height: \"90vh\" }} />\r\n    </div>\r\n    <div className=\"w-100\">{tabContent}</div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/contribut3.near/widget/Index"}
{"tx_hash": "N3AthWujiTsCfdSrqBg8ppnFHv3ZNH7r1pxnWprr6fh", "action_id_social": "94yg4QGLWvq7XgoWNvHNGL1DBBg4HgM1kVykiyunZF1k-0-widget", "block_id": 85238905, "block_timestamp": "2023-02-14 21:42:13.172", "signer_id": "calebjacob.near", "widget_name": "Activity", "source_code": "State.init({\n  selectedTab: Storage.privateGet(\"selectedTab\") || \"all\",\n});\n\nconst previousSelectedTab = Storage.privateGet(\"selectedTab\");\n\nif (previousSelectedTab && previousSelectedTab !== state.selectedTab) {\n  State.update({\n    selectedTab: previousSelectedTab,\n  });\n}\n\nlet accounts = undefined;\n\nif (state.selectedTab === \"following\" && context.accountId) {\n  const graph = Social.keys(`${context.accountId}/graph/follow/*`, \"final\");\n  if (graph !== null) {\n    accounts = Object.keys(graph[context.accountId].graph.follow || {});\n    accounts.push(context.accountId);\n  } else {\n    accounts = [];\n  }\n} else {\n  accounts = undefined;\n}\n\nfunction selectTab(selectedTab) {\n  Storage.privateSet(\"selectedTab\", selectedTab);\n  State.update({ selectedTab });\n}\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 0 24px;\n  padding: 0 24px;\n\n  @media (max-width: 1200px) {\n    margin: 0 0 12px;\n    padding: 0 12px;\n  }\n`;\n\nconst H2 = styled.h2`\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181C;\n`;\n\nconst CreatePostWrapper = styled.div`\n  border-top: 1px solid #ECEEF0;\n\n  @media (max-width: 1200px) {\n    border-top: none;\n  }\n`;\n\nconst PillSelect = styled.div`\n  display: inline-flex;\n  align-items: center;\n`;\n\nconst PillSelectButton = styled.button`\n  display: block;\n  border: 1px solid #E6E8EB;\n  border-right: none;\n  padding: 3px 8px;\n  border-radius: 0;\n  font-size: 12px;\n  line-height: 18px;\n  color: ${(p) => (p.selected ? \"#fff\" : \"#687076\")};\n  background: ${(p) => (p.selected ? \"#006ADC !important\" : \"#FBFCFD\")};\n  font-weight: 600;\n  transition: all 200ms;\n\n  &:hover,\n  &:focus {\n    background: #ECEDEE;\n    text-decoration: none;\n  }\n\n  &:first-child {\n    border-radius: 6px 0 0 6px;\n  }\n  &:last-child {\n    border-radius: 0 6px 6px 0;\n    border: 1px solid #E6E8EB;\n  }\n`;\n\nconst FeedWrapper = styled.div`\n  border-top: 1px solid #ECEEF0;\n`;\n\nreturn (\n  <>\n    <Header>\n      <H2>Activity</H2>\n\n      {context.accountId && (\n        <PillSelect>\n          <PillSelectButton\n            type=\"button\"\n            onClick={() => selectTab(\"all\")}\n            selected={state.selectedTab === \"all\"}\n          >\n            All\n          </PillSelectButton>\n\n          <PillSelectButton\n            type=\"button\"\n            onClick={() => selectTab(\"following\")}\n            selected={state.selectedTab === \"following\"}\n          >\n            Following\n          </PillSelectButton>\n        </PillSelect>\n      )}\n    </Header>\n\n    {context.accountId && (\n      <CreatePostWrapper>\n        <Widget src=\"calebjacob.near/widget/CreatePost\" />\n      </CreatePostWrapper>\n    )}\n\n    <FeedWrapper>\n      <Widget src=\"calebjacob.near/widget/Feed\" props={{ accounts }} />\n    </FeedWrapper>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/calebjacob.near/widget/Activity"}
{"tx_hash": "74tDUpRdEWWF3ePZtLEbp1MgfLPv1eArn7bA4futMa1X", "action_id_social": "FgqD72csvNMutL88NxknGip7d1PvZmsFLJpDd7pVPJro-0-widget", "block_id": 85440949, "block_timestamp": "2023-02-17 16:57:34.937", "signer_id": "calebjacob.near", "widget_name": "LatestActivity", "source_code": "const limit = 5;\nlet items = [];\n\nconst followData = Social.index(\"graph\", \"follow\", {\n  limit,\n  order: \"desc\",\n});\n\nconst pokeData = Social.index(\"graph\", \"poke\", {\n  limit,\n  order: \"desc\",\n});\n\nif (pokeData && followData) {\n  const data = [];\n\n  pokeData.forEach((poke) => {\n    data.push({\n      ...poke,\n      type: \"poke\",\n    });\n  });\n\n  followData.forEach((follow) => {\n    data.push({\n      ...follow,\n      type: \"follow\",\n    });\n  });\n\n  data.sort((a, b) => b.blockHeight - a.blockHeight);\n\n  items = data.slice(0, limit);\n}\n\nconst H2 = styled.h2`\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181C;\n  margin: 0 0 24px;\n`;\n\nconst Item = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr 2fr min-content;\n  gap: 12px;\n  align-items: center;\n  margin-bottom: 24px;\n  width: 100%;\n  overflow: hidden;\n\n  > * {\n    min-width: 0\n  }\n\n  a > span {\n    font-size: 12px;\n  }\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 12px;\n  line-height: 18px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n  flex-shrink: 0;\n\n  .bi-hand-index-thumb {\n    display: inline-block;\n    transform: rotate(90deg);\n    margin-left: 4px;\n  }\n\n  .bi-clock {\n    margin: 0;\n  }\n`;\n\nreturn (\n  <>\n    <H2>Activity</H2>\n\n    {items.map((item, i) => (\n      <Item key={i}>\n        <Widget\n          src=\"calebjacob.near/widget/AccountProfileInline\"\n          props={{ accountId: item.accountId }}\n        />\n\n        {item.type === \"follow\" && <Text small>followed</Text>}\n        {item.type === \"poke\" && (\n          <Text small>\n            poked <i className=\"bi bi-hand-index-thumb\"></i>\n          </Text>\n        )}\n\n        <Widget\n          src=\"calebjacob.near/widget/AccountProfileInline\"\n          props={{ accountId: item.value.accountId }}\n        />\n\n        <Text small>\n          <i className=\"bi bi-clock\"></i>\n\n          <Widget\n            src=\"mob.near/widget/TimeAgo\"\n            props={{ blockHeight: item.blockHeight }}\n          />\n        </Text>\n      </Item>\n    ))}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/calebjacob.near/widget/LatestActivity"}
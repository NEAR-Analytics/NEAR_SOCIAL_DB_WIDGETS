{"tx_hash": "3rFAcRu1XFGDa5tfpBw1gTo9ofZaT888uAw5bhuSgvmy", "action_id_social": "5DsGmoWE4Eoq8RPGnbFJxj6faHeUSo2saLCBjHsVsXVr-0-widget", "block_id": 85442936, "block_timestamp": "2023-02-17 17:35:28.264", "signer_id": "calebjacob.near", "widget_name": "LatestActivity", "source_code": "const limit = 5;\nlet items = [];\n\nconst followData = Social.index(\"graph\", \"follow\", {\n  limit,\n  order: \"desc\",\n});\n\nconst pokeData = Social.index(\"graph\", \"poke\", {\n  limit,\n  order: \"desc\",\n});\n\nif (pokeData && followData) {\n  const data = [];\n\n  pokeData.forEach((poke) => {\n    data.push({\n      ...poke,\n      type: \"poke\",\n    });\n  });\n\n  followData.forEach((follow) => {\n    data.push({\n      ...follow,\n      type: \"follow\",\n    });\n  });\n\n  data.sort((a, b) => b.blockHeight - a.blockHeight);\n\n  items = data.slice(0, limit);\n}\n\nconst Wrapper = styled.div`\n  display: grid;\n  gap: 12px;\n`;\n\nconst H2 = styled.h2`\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181C;\n  margin: 0 0 12px;\n`;\n\nconst Item = styled.div`\n  display: grid;\n  gap: 1px;\n`;\n\nconst ItemRow = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr 2fr;\n  gap: 12px;\n  align-items: center;\n  width: 100%;\n  overflow: hidden;\n\n  > * {\n    min-width: 0\n  }\n\n  a > span {\n    font-size: 12px;\n  }\n`;\n\nconst Text = styled.p`\n  margin: 0;\n  font-size: 12px;\n  line-height: 18px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\n  white-space: nowrap;\n  flex-shrink: 0;\n\n  .bi-hand-index-thumb {\n    display: inline-block;\n    transform: rotate(90deg);\n    margin-left: 4px;\n  }\n\n  .bi-clock {\n    margin: 0;\n  }\n`;\n\nreturn (\n  <Wrapper>\n    <H2>Activity</H2>\n\n    {items.map((item, i) => (\n      <Item key={i}>\n        <ItemRow>\n          <Widget\n            src=\"calebjacob.near/widget/AccountProfileInline\"\n            props={{ accountId: item.accountId }}\n          />\n\n          {item.type === \"follow\" && <Text small>followed</Text>}\n          {item.type === \"poke\" && (\n            <Text small>\n              poked <i className=\"bi bi-hand-index-thumb\"></i>\n            </Text>\n          )}\n\n          <Widget\n            src=\"calebjacob.near/widget/AccountProfileInline\"\n            props={{ accountId: item.value.accountId }}\n          />\n        </ItemRow>\n\n        <ItemRow>\n          <Text small>\n            <Widget\n              src=\"mob.near/widget/TimeAgo\"\n              props={{ blockHeight: item.blockHeight }}\n            />{\" \"}\n            ago\n          </Text>\n        </ItemRow>\n      </Item>\n    ))}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/calebjacob.near/widget/LatestActivity"}
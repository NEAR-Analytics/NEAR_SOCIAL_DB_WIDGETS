{"tx_hash": "5Aio8Webu1wFRY7PeUjeKqodxxoSTuA7jGN5SAQqWhCR", "action_id_social": "25gK3m4xvZanSQDS7aqxTSrur1rr7h2C4f2fet4r1C14-0-widget", "block_id": 84864376, "block_timestamp": "2023-02-09 20:25:28.143", "signer_id": "calebjacob.near", "widget_name": "LatestApps", "source_code": "const limit = 5;\n\nconst widgetMetadata = Social.get(`*/widget/*/metadata/**`, \"final\");\nconst widgetBlockheightData = Social.keys(\"*/widget/*/metadata\", \"final\", {\n  return_type: \"BlockHeight\",\n});\nlet apps = [];\n\nif (widgetMetadata && widgetBlockheightData) {\n  const widgets = [];\n\n  Object.keys(widgetBlockheightData).forEach((accountId) => {\n    return Object.keys(widgetBlockheightData[accountId].widget).forEach(\n      (widgetName) => {\n        widgets.push({\n          accountId,\n          widgetName,\n          blockHeight: widgetBlockheightData[accountId].widget[widgetName],\n        });\n      }\n    );\n  });\n\n  widgets.sort((a, b) => b.blockHeight - a.blockHeight);\n\n  apps = widgets.slice(0, limit).map((widget) => {\n    return {\n      ...widget,\n      metadata:\n        widgetMetadata[widget.accountId].widget[widget.widgetName].metadata,\n    };\n  });\n}\n\nconst H2 = styled.h2`\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181C;\n  margin: 0 0 25px;\n`;\n\nconst CardWrapper = styled.div`\n  margin: 0 0 16px;\n`;\n\nreturn (\n  <>\n    <H2>Latest Applications</H2>\n\n    {apps.map((app, i) => (\n      <CardWrapper key={i}>\n        <Widget src=\"calebjacob.near/widget/AppCard\" props={{ app }} />\n      </CardWrapper>\n    ))}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/calebjacob.near/widget/LatestApps"}
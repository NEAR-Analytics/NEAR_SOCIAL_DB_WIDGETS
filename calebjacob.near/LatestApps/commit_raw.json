{"tx_hash": "7Y7VeeAW8PAdu5PaMLDFZw1WyA8dC3jeqpcjqx2bEu4P", "action_id_social": "41fFggCwvrfaGPWbsHNnyTev3dF5t6YekYjYpDRfdGWf-0-widget", "block_id": 84875476, "block_timestamp": "2023-02-09 23:59:33.403", "signer_id": "calebjacob.near", "widget_name": "LatestApps", "source_code": "const limit = 5;\n\nconst widgetMetadata = Social.get(`*/widget/*/metadata/**`, \"final\");\nconst widgetBlockheightData = Social.keys(\"*/widget/*/metadata\", \"final\", {\n  return_type: \"BlockHeight\",\n});\nlet apps = [];\nconst totalApps = Object.keys(widgetMetadata).length;\n\nif (widgetMetadata && widgetBlockheightData) {\n  const widgets = [];\n\n  Object.keys(widgetBlockheightData).forEach((accountId) => {\n    return Object.keys(widgetBlockheightData[accountId].widget).forEach(\n      (widgetName) => {\n        widgets.push({\n          accountId,\n          widgetName,\n          blockHeight: widgetBlockheightData[accountId].widget[widgetName],\n        });\n      }\n    );\n  });\n\n  widgets.sort((a, b) => b.blockHeight - a.blockHeight);\n\n  apps = widgets.slice(0, limit).map((widget) => {\n    return {\n      ...widget,\n      metadata:\n        widgetMetadata[widget.accountId].widget[widget.widgetName].metadata,\n    };\n  });\n}\n\nconst H2 = styled.h2`\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181C;\n  margin: 0 0 25px;\n`;\n\nconst CardWrapper = styled.div`\n  margin: 0 0 16px;\n`;\n\nconst ButtonLink = styled.a`\n  display: block;\n  width: 100%;\n  padding: 8px;\n  height: 32px;\n  background: #FBFCFD;\n  border: 1px solid #D7DBDF;\n  border-radius: 6px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  color: #11181C !important;\n  margin-top: 32px;\n\n  &:hover,\n  &:focus {\n    background: #ECEDEE;\n    text-decoration: none;\n    outline: none;\n  }\n\n  span {\n    color: #687076 !important;\n  }\n`;\n\nreturn (\n  <>\n    <H2>Latest Applications</H2>\n\n    {apps.map((app, i) => (\n      <CardWrapper key={i}>\n        <Widget src=\"calebjacob.near/widget/AppCard\" props={{ app }} />\n      </CardWrapper>\n    ))}\n\n    <ButtonLink href=\"/#/mob.near/widget/Applications\">\n      View All <span>({totalApps})</span>\n    </ButtonLink>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/calebjacob.near/widget/LatestApps"}
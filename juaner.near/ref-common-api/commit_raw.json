{"tx_hash": "FnNToLFxBSLDW6UyTteQJKnJ4bjbBJKjmfLoLBkdVrQz", "action_id_social": "8XB8ijs2PNHBCVrehUWu66N9NmUXyoSKkvsCXHrreqF3-0-widget", "block_id": 89856596, "block_timestamp": "2023-04-18 09:36:33.162", "signer_id": "juaner.near", "widget_name": "ref-common-api", "source_code": "const shrinkToken = (value, decimals) => {\n  return new Big(value).div(new Big(10).pow(decimals));\n};\nconst { onLoad } = props;\nlet accountId = context.accountId;\nif (!accountId) {\n  return <Widget src=\"juaner.near/widget/ref_account-signin\" />;\n}\nconst account = fetch(\"https://rpc.mainnet.near.org\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  body: JSON.stringify({\n    jsonrpc: \"2.0\",\n    id: \"dontcare\",\n    method: \"query\",\n    params: {\n      request_type: \"view_account\",\n      finality: \"final\",\n      account_id: accountId,\n    },\n  }),\n});\nif (account) {\n  const b = account.body.result.amount;\n  const nearBalance = shrinkToken(b || \"0\", 24).toFixed();\n  onLoad &&\n    onLoad({\n      nearBalance,\n    });\n}\nreturn <></>;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/juaner.near/widget/ref-common-api"}
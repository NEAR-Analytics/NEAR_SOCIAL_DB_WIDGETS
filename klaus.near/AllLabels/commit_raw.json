{"tx_hash": "88AuPBD7uexFBQZ9whVnJeW4iio55Ln6tbNvRSe3bmVN", "action_id_social": "4Cgc1Ef4czTaDFvHDiaS9BnA7JpG3k6bteFSCU8N5qWL-0-widget", "block_id": 79181754, "block_timestamp": "2022-11-24 19:45:56.382", "signer_id": "klaus.near", "widget_name": "AllLabels", "source_code": "// AllLabels\r\nconst ownerId = \"klaus.near\";\r\nconst appName = \"ugh\";\r\n\r\nlet tag = props.tag ?? \"*\";\r\nconst data = Social.keys(`*/${appName}/*/tags/${tag}`, \"final\");\r\n\r\nif (!data) {\r\n  return \"Loading\";\r\n}\r\n\r\nconst contracts = {};\r\n\r\nObject.values(data).forEach((account) => {\r\n  Object.keys(account[appName]).forEach((contract) => {\r\n    contracts[contract] = true;\r\n  });\r\n});\r\n\r\nconst allWidgets = Object.keys(contracts).map((accountId) => {\r\n  return (\r\n    <div className=\"mb-2 card\">\r\n      <div className=\"card-body\">\r\n        <div className=\"text-truncate\">\r\n          <Widget src={`${ownerId}/widget/ProfileLine`} props={{ accountId }} />\r\n        </div>\r\n        <Widget src={`${ownerId}/widget/PublicTags`} props={{ accountId }} />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nreturn (\r\n  <>\r\n    <Widget\r\n      src={`${ownerId}/widget/PublicTagEditor`}\r\n      key={`public-tag-editor-${props.accountId}`}\r\n      props={{ contractId: props.accountId }}\r\n    />\r\n    <hr />\r\n\r\n    {tag !== \"*\" && (\r\n      <h4 className=\"ms-3\">\r\n        List of <span className=\"badge rounded-pill bg-primary\">{tag}</span>\r\n      </h4>\r\n    )}\r\n\r\n    {allWidgets}\r\n    <hr />\r\n    {tag !== \"*\" && (\r\n      <>\r\n        <Widget src={`${ownerId}/widget/LabelDetails`} props={{ tag: tag }} />\r\n\r\n        <div className=\"mt-3 mb-5\">\r\n          <a\r\n            className=\"btn btn-outline-primary\"\r\n            href=\"/#/klaus.near/widget/AllLabels\"\r\n          >\r\n            All tags\r\n          </a>\r\n        </div>\r\n      </>\r\n    )}\r\n  </>\r\n);\r\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/klaus.near/widget/AllLabels", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.name": NaN, "metadata.tags.app": NaN, "metadata.tags.tag": NaN}
{"tx_hash": "HeuudVMpnb2ELYvvxXKiA3f88pBqTC1ZicbZPdACyErf", "action_id_social": "BGcLHgKDeLYRNvRTBvKu8tinQb8mrrZyzYNnDkxtGbGV-0-widget", "block_id": 92816436, "block_timestamp": "2023-05-27T08:53:31.636Z", "signer_id": "theprimeai.near", "widget_name": "MenuOpciones", "source_code": "const contract = \"theprimeai.near\";\nconst messages = Near.view(contract, \"get_topics\", {\n  from_index: 0,\n  limit: 10,\n}).reverse();\n\nconsole.log(messages);\n// Use and manipulate state\nState.init({ new_message: \"\" });\n\nconst onInputChange = ({ target }) => {\n  State.update({ new_message: target.value });\n};\n\nconst onBtnClick = () => {\n  if (!state.new_message) {\n    return;\n  }\n\n  Near.call(contract, \"add_topic\", {\n    topic: state.new_message,\n  });\n};\n\nconst notLoggedInWarning = (\n  <p class=\"text-center py-2\">Inicia sesion para poder enviar tu mensaje</p>\n);\n\n// Render\nreturn (\n  <>\n    <div class=\"img-fluid  text-center\">\n      <div class=\"col-lg-12\">\n        <img\n          class=\"float-center\"\n          src=\"https://ipfs.near.social/ipfs/bafkreiha52l7x24ynagm37a2kcw62g6h76upfwhred65dvokrjujp6x7ty\"\n          width=\"600\"\n        />\n      </div>\n    </div>\n    <div class=\"container border border-info p-3\">\n      <h3 class=\"text-center\"></h3>\n      <h4 class=\"text-center\">SELECCIONA ALGUNA ACCI\u00d3N</h4>\n      {context.accountId ? messageForm : notLoggedInWarning}\n      <div class=\"border border-black p-3\">\n        <h3>Lista de tareas</h3>\n        <table className=\"table table-hover table-sm\">\n          <thead>\n            <tr>\n              <th>DESCRIPCI\u00d3N</th>\n              <th>Seleccionar</th>\n            </tr>\n          </thead>\n          <tbody>\n            {messages.map((data, key) => {\n              return (\n                <>\n                  <tr>\n                    <td>SUBIR T\u00d3PICO</td>\n                    <td>\n                      {\" \"}\n                      <button\n                        class=\"btn btn-primary mt-2 bg-white\"\n                        onClick={onBtnClick}\n                      >\n                        <a href=\"#/theprimeai.near/widget/registro\">IR</a>\n                      </button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>IR A VOTAR</td>\n                    <td>\n                      {\" \"}\n                      <button\n                        class=\"btn btn-primary mt-2 bg-white\"\n                        onClick={onBtnClick}\n                      >\n                        <a href=\"#/theprimeai.near/widget/votacion\">IR</a>\n                      </button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>COBRAR RECOMPENSAS</td>\n                    <td>\n                      {\" \"}\n                      <button\n                        class=\"btn btn-primary mt-2 bg-white\"\n                        onClick={onBtnClick}\n                      >\n                        <a href=\"#/theprimeai.near/widget/incentivos\">IR</a>\n                      </button>\n                    </td>\n                  </tr>\n                </>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/theprimeai.near/widget/MenuOpciones", "__row_index": 0}
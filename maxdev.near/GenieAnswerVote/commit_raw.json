{"tx_hash": "4S7aQKv2M1jM8VdT7NAm38mp8fwVEHGfQP57n3v41Cw1", "action_id_social": "H6xxqmBzq7TnPDVGdjLTdrs2bbG52MfudNpkbaL7x7MR-0-widget", "block_id": 83668630, "block_timestamp": "2023-01-24 06:57:56.210", "signer_id": "maxdev.near", "widget_name": "GenieAnswerVote", "source_code": "const ownerId = \"maxdev.near\";\nconst { questionRef, answeredBy } = props;\n\nconst votes = Social.index(\"genie\", `vote/${questionRef}/${answeredBy}`) || [];\nconst upvotes = votes.filter((v) => v.value.dir === 1).length;\nconst downvotes = votes.filter((v) => v.value.dir === -1).length;\n\nreturn (\n  <div className=\"d-flex flex-column gap-1\">\n    {/*JSON.stringify(votes)*/}\n    {/*<div>Upvotes: {upvotes}</div>*/}\n    {/*<div>Downvotes: {downvotes}</div>*/}\n    <div\n      className=\"d-flex flex-row\"\n      style={{\n        width: \"8rem\",\n        borderStyle: \"solid\",\n        borderWidth: \"2px\",\n        borderRadius: \".5rem\",\n      }}\n    >\n      <CommitButton\n        className=\"btn btn-outline-dark col-8\"\n        style={{\n          borderRadius: 0,\n          borderRight: \"2px solid black\",\n          borderLeft: \"0\",\n          borderTop: \"0\",\n          borderBottom: \"0\",\n        }}\n        data={{\n          index: {\n            genie: JSON.stringify([\n              {\n                key: `vote/${questionRef}/${answeredBy}`,\n                value: {\n                  questionRef,\n                  answeredBy,\n                  dir: 1,\n                },\n              },\n              {\n                key: `vote/${answeredBy}`,\n                value: 1,\n              },\n            ]),\n          },\n        }}\n      >\n        <i className=\"bi bi-arrow-up-short\" />\n        {upvotes}\n      </CommitButton>\n      <CommitButton\n        className=\"btn btn-outline-dark border-none border-0 col\"\n        style={{ borderRadius: 0 }}\n        data={{\n          index: {\n            genie: JSON.stringify({\n              key: `vote/${questionRef}/${answeredBy}`,\n              value: {\n                questionRef,\n                answeredBy,\n                dir: -1,\n              },\n            }),\n          },\n        }}\n      >\n        <i className=\"bi bi-arrow-down-short\" />\n        {/*downvotes*/}\n      </CommitButton>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/maxdev.near/widget/GenieAnswerVote"}
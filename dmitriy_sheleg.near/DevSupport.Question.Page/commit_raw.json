{"tx_hash": "6CPZk2ebuRpzZDcSwdqUx4azyLAzSD12d2ujcBo5G3XK", "action_id_social": "EsVzDjbGhyVMczsAgfJBCvEfrEXCFCCbKRFppcqRB4Ut-0-widget", "block_id": 88464900, "block_timestamp": "2023-03-30 22:17:43.306", "signer_id": "dmitriy_sheleg.near", "widget_name": "DevSupport.Question.Page", "source_code": "if (context.loading) {\n  return \"Loading\";\n}\n\nconst accountId = props.accountId;\nconst blockHeight = parseInt(props.blockHeight);\n\nif (accountId === undefined || blockHeight === undefined) {\n  return;\n}\n\nconst adminContract = props.adminContract;\n\nconst admins = Near.view(adminContract, \"get_admins\", {});\n\nconst question = JSON.parse(\n  Social.get(`${accountId}/question/main`, blockHeight) ?? \"null\"\n);\n\nconst notifyAccountId = accountId;\nconst item = {\n  type: \"social\",\n  path: `${accountId}/question/main`,\n  blockHeight,\n};\nconst repliesCount = Social.index(\"answer\", item);\n\nconst questionUrl = `#/dmitriy_sheleg.near/widget/DevSupport.Question.Page?accountId=${accountId}&blockHeight=${blockHeight}`;\nconst shareUrl = `https://near.social${questionUrl}`;\n\nconst footer = (\n  <div className=\"card-header p-2\" style={{ border: \"1px solid #ccc\" }}>\n    <small class=\"text-muted\">\n      <div class=\"row justify-content-between\">\n        <div class=\"col-8\">\n          {/* Upvote Widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Upvote\"\n            props={{ accountId, blockHeight }}\n          />\n\n          {/* Flag question widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Flag\"\n            props={{ accountId, blockHeight }}\n          />\n\n          {/* Answers widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Answers\"\n            props={{ accountId, blockHeight }}\n          />\n\n          {/* Delete widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Delete\"\n            props={{ accountId, blockHeight, admins, adminContract }}\n          />\n        </div>\n\n        <div class=\"col-4\">\n          <div class=\"d-flex justify-content-end\">\n            <Widget\n              src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/BlockToDate\"\n              props={{ blockHeight }}\n            />\n          </div>\n        </div>\n      </div>\n    </small>\n  </div>\n);\n\nconst H2 = styled.h2`\n  font-size: 20px;\n  font-weight: 600;\n  color: #11181C;\n  }\n`;\nconst H4 = styled.h4`\n  font-size: 14px;\n  font-weight: 500;\n  color: #687076;\n\n  a {\n    color: inherit;\n    transition: color .15s ease;\n    &:hover {\n      color: #30A46C;\n      text-decoration: none;\n    }\n\n    & i {\n      transition: color .1s ease-out;\n      color: inherit;\n    }\n  }\n`;\nconst H6 = styled.h6`\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: #687076;\n`;\nconst SidebarWrapper = styled.div`\n  border-left: 1px solid #ECEEF0;\n`;\nconst ShareButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 8px 25px;\n  height: 40px;\n  border-radius: 100px;\n  font-weight: 600;\n  font-size: 12px;\n  text-align: center;\n  cursor: pointer;\n  background: #FBFCFD;\n  border: 1px solid #D7DBDF;\n  color: #006ADC !important;\n  white-space: nowrap;\n\n  &:hover,\n  &:focus {\n    background: #ECEDEE;\n    text-decoration: none;\n    outline: none;\n  }\n\n  i {\n    color: #7E868C;\n  }\n\n  .bi-16 {\n    font-size: 16px;\n  }\n`;\n\nreturn (\n  <div className=\"container pt-2 pb-5\">\n    <H4>\n      <a href=\"https://near.social/#/dmitriy_sheleg.near/widget/DevSuport.Main\">\n        <i class=\"bi bi-arrow-left me-2\" />\n        Back to Discussions\n      </a>\n    </H4>\n\n    <div class=\"row mt-5\">\n      <div class=\"col-8 pe-5\">\n        <Widget\n          src=\"dmitriy_sheleg.near/widget/DevSupport.Question.PreviewDetailed\"\n          props={{\n            accountId,\n            blockHeight,\n            admins,\n            adminContract,\n            question,\n            children: (\n              <>\n                {context.accountId && (\n                  <Widget\n                    src=\"dmitriy_sheleg.near/widget/DevSupport.Answer.Edit\"\n                    props={{\n                      notifyAccountId: accountId,\n                      item,\n                      onComment: () => State.update({ showReply: false }),\n                    }}\n                  />\n                )}\n\n                <H2 className=\"mt-5 mb-4\">{repliesCount.length} Replies</H2>\n                <div class=\"row\">\n                  <div class=\"col-12\">\n                    <Widget\n                      src=\"dmitriy_sheleg.near/widget/DevSupport.Answer.Feed\"\n                      props={{ item, admins, adminContract }}\n                    />\n                  </div>\n                </div>\n              </>\n            ),\n          }}\n        />\n      </div>\n      <SidebarWrapper className=\"col-4 ps-5\">\n        <Widget\n          src=\"dmitriy_sheleg.near/widget/AccountProfileCard\"\n          props={{ accountId }}\n        />\n        <H6 className=\"pt-5 pb-3\">share</H6>\n\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip>Copy URL to clipboard</Tooltip>}\n        >\n          <ShareButton\n            className=\"share-url\"\n            type=\"button\"\n            onMouseLeave={() => {\n              State.update({ copiedShareUrl: false });\n            }}\n            onClick={() => {\n              clipboard.writeText(shareUrl).then(() => {\n                State.update({ copiedShareUrl: true });\n              });\n            }}\n          >\n            {state.copiedShareUrl ? (\n              <i className=\"bi-16 bi bi-check\"></i>\n            ) : (\n              <i className=\"bi-16 bi-link-45deg\"></i>\n            )}\n          </ShareButton>\n        </OverlayTrigger>\n      </SidebarWrapper>\n    </div>\n    {/*{footer}*/}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dmitriy_sheleg.near/widget/DevSupport.Question.Page"}
{"tx_hash": "BvhUoTYtfMhs3DGCnqYPAVc2tirwWrsXJva61kxxNvVV", "action_id_social": "2Gte3k7oa4HjCE3ep6MSCv5PNwWhUk6ufSpSme9jYyMP-0-widget", "block_id": 88251853, "block_timestamp": "2023-03-27 20:14:41.395", "signer_id": "dmitriy_sheleg.near", "widget_name": "DevSupport.Question.Page", "source_code": "if (context.loading) {\n  return \"Loading\";\n}\n\nconst accountId = props.accountId;\nconst blockHeight = parseInt(props.blockHeight);\n\nif (accountId === undefined || blockHeight === undefined) {\n  return;\n}\n\nconst adminContract = props.adminContract;\n\nconst admins = Near.view(adminContract, \"get_admins\", {});\n\nconst question = JSON.parse(\n  Social.get(`${accountId}/question/main`, blockHeight) ?? \"null\"\n);\n\nconst notifyAccountId = accountId;\nconst item = {\n  type: \"social\",\n  path: `${accountId}/question/main`,\n  blockHeight,\n};\n\nconst link = `#/ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Page?accountId=${accountId}&blockHeight=${blockHeight}`;\n\nconst footer = (\n  <div className=\"card-header p-2\" style={{ border: \"1px solid #ccc\" }}>\n    <small class=\"text-muted\">\n      <div class=\"row justify-content-between\">\n        <div class=\"col-8\">\n          {/* Upvote Widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Upvote\"\n            props={{ accountId, blockHeight }}\n          />\n\n          {/* Flag question widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Flag\"\n            props={{ accountId, blockHeight }}\n          />\n\n          {/* Answers widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Answers\"\n            props={{ accountId, blockHeight }}\n          />\n\n          {/* Delete widget */}\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Delete\"\n            props={{ accountId, blockHeight, admins, adminContract }}\n          />\n        </div>\n\n        <div class=\"col-4\">\n          <div class=\"d-flex justify-content-end\">\n            <Widget\n              src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/BlockToDate\"\n              props={{ blockHeight }}\n            />\n          </div>\n        </div>\n      </div>\n    </small>\n  </div>\n);\n\nreturn (\n  <div className=\"container pt-2 pb-5\">\n    <a href=\"https://near.social/#/ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSuport.Main\">\n      Go Back\n    </a>\n\n    <h2 class=\"mt-3\">\n      <a className=\"text-black\" href={link}>\n        {question.title}\n      </a>\n    </h2>\n\n    <Widget\n      src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.LabelsDisplay\"\n      props={{ labels: question.labels }}\n    />\n\n    <div className=\"py-2 text-break\">\n      <Widget\n        src=\"mob.near/widget/MainPage.Post.Content\"\n        props={{ content: { text: question.content.text } }}\n      />\n    </div>\n\n    {question.content.image.ipfs_cid && (\n      <>\n        <div\n          class=\"text-center mt-1 mb-3 mx-auto\"\n          style={{\n            borderBottom: \"1px solid #eee\",\n            maxHeight: \"220px\",\n            maxWidth: \"78vw\",\n            overflow: \"scroll\",\n            borderTop: \"1px solid #eee\",\n          }}\n        >\n          <img\n            src={`https://ipfs.near.social/ipfs/${question.content.image.ipfs_cid}`}\n            alt=\"uploaded\"\n          />\n        </div>\n      </>\n    )}\n\n    {footer}\n\n    <div class=\"mt-3 mb-5\" />\n\n    <h4 class=\"mb-3\"> Community Answers </h4>\n\n    <Widget\n      src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Answer.Feed\"\n      props={{ item, admins, adminContract }}\n    />\n\n    <div class=\"mb-5\" />\n\n    {context.accountId && (\n      <>\n        <hr class=\"w-75 mx-auto mb-5\" />\n        <div class=\"p-4\" style={{ border: \"1px solid rgb(118, 203, 238)\" }}>\n          <h4 class=\"mb-2\"> Your Answer </h4>\n\n          <Widget\n            src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Answer.Edit\"\n            props={{\n              notifyAccountId: accountId,\n              item,\n              onComment: () => State.update({ showReply: false }),\n            }}\n          />\n        </div>\n        <div class=\"mb-5\" />\n      </>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dmitriy_sheleg.near/widget/DevSupport.Question.Page"}
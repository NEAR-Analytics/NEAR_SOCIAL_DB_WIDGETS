{"tx_hash": "6YhzDsEYT9bA6aGpMqixAivVTzJry96kae1jT5WotgHH", "action_id_social": "21eneFwjczsfyo27XEm4ip1hK2mc3mCYiK9nwy9TxUKw-0-widget", "block_id": 88455753, "block_timestamp": "2023-03-30 19:01:48.925", "signer_id": "dmitriy_sheleg.near", "widget_name": "DevSupport.Question.Preview", "source_code": "const accountId = props.accountId;\nconst blockHeight = parseInt(props.blockHeight);\nconst admins = props.admins;\nconst adminContract = props.adminContract;\n\nconst is_hidden = Near.view(adminContract, \"is_hidden\", {\n  id: { account_id: accountId, block_height: blockHeight },\n});\n\nif (is_hidden) {\n  return \"\";\n}\n\nconst question = JSON.parse(\n  Social.get(`${accountId}/question/main`, blockHeight) ?? \"null\"\n);\n\nconst testQuestion = JSON.parse(\n  Social.get(`${accountId}/question`, blockHeight) ?? \"null\"\n);\nconsole.log(\"testQuestion: \", testQuestion);\n\nconst link = `#/dmitriy_sheleg.near/widget/DevSupport.Question.Page?accountId=${accountId}&blockHeight=${blockHeight}&adminContract=${adminContract}`;\n\nconst handleOnMouseEnter = () => {\n  State.update({ show: true });\n};\nconst handleOnMouseLeave = () => {\n  State.update({ show: false });\n};\n\nconst H2 = styled.h2`\n  font-size: 20px;\n  font-weight: 600;\n  color: #11181C;\n\n  a {\n    color: inherit;\n    transition: color .15s ease;\n    &:hover {\n      color: #30A46C;\n      text-decoration: none;\n\n      & + i {\n        visibility: visible;\n      }\n    }\n\n    & + i {\n      transition: visibility .1s ease-out;\n      visibility: hidden;\n      color: #30A46C;\n    }\n  }\n`;\nconst H6 = styled.h6`\n  font-size: 14px;\n  font-weight: 500;\n  color: #687076;\n`;\nconst Trancate = styled.span`\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\nconst TopicName = styled.span`\n  color: #006ADC;\n  font-weight: 500;\n  font-size: 14px;\n  white-space: nowrap;\n`;\nconst CardWrapper = styled.div`\n  z-index: 100;\n  padding: 6px;\n`;\nconst Card = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  gap: 12px;\n  width: 275px;\n  border-radius: 12px;\n  z-index: 1070;\n  background: #fff;\n  border: 1px solid #eceef0;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  padding: 12px;\n`;\n\nconst overlay = (\n  <CardWrapper>\n    <Card onMouseEnter={handleOnMouseEnter} onMouseLeave={handleOnMouseLeave}>\n      Hello\n    </Card>\n  </CardWrapper>\n);\n\nreturn (\n  <div className={`${display} p-3`}>\n    <div class=\"row\">\n      <div class=\"col-1\">\n        <Widget\n          src=\"mob.near/widget/ProfileImage\"\n          props={{\n            accountId,\n            imageClassName: \"rounded-circle w-100 h-100\",\n          }}\n        />\n      </div>\n      <div class=\"col-1\">\n        {/* Upvote Widget */}\n        <Widget\n          src=\"dmitriy_sheleg.near/widget/DevSupport.Question.Button.Upvote\"\n          props={{ accountId, blockHeight }}\n        />\n      </div>\n      <div class=\"col-10\">\n        <div class=\"row\">\n          <div class=\"d-flex justify-content-between\">\n            <H2>\n              <a href={link}>{question.title}</a>\n              <i class=\"bi bi-arrow-right\" />\n            </H2>\n            <OverlayTrigger\n              show={state.show || false}\n              trigger={[\"hover\", \"focus\"]}\n              delay={{ show: 250, hide: 300 }}\n              placement=\"auto\"\n              overlay={overlay}\n            >\n              <div\n                className=\"d-inline-flex\"\n                style=\"baseline\"\n                onMouseEnter={handleOnMouseEnter}\n                onMouseLeave={handleOnMouseLeave}\n              >\n                Some text\n              </div>\n            </OverlayTrigger>\n          </div>\n          <H6>\n            <div class=\"d-flex\">\n              <Trancate>{accountId}</Trancate>\n              &nbsp;in&nbsp;\n              <TopicName>\n                <Widget\n                  src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.LabelsDisplay\"\n                  props={{ labels: question.labels }}\n                />\n              </TopicName>\n              &nbsp;&#8226;&nbsp;\n              <Widget src=\"mob.near/widget/TimeAgo\" props={{ blockHeight }} />\n              &nbsp;ago\n            </div>\n          </H6>\n        </div>\n        <div class=\"row\">\n          <div class=\"col\">\n            <Widget\n              src=\"dmitriy_sheleg.near/widget/DevSupport.Question.Button.Answers\"\n              props={{ accountId, blockHeight }}\n            />\n          </div>\n          <div class=\"col\">\n            <Widget\n              src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Flag\"\n              props={{ accountId, blockHeight }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    {/*\n    <Widget\n      src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.LabelsDisplay\"\n      props={{ labels: question.labels }}\n    />\n  */}\n    {/*\n    <div>\n      <small class=\"text-muted\">\n        <div class=\"row justify-content-between\">\n          <div class=\"col-8\">\n            // Delete widget\n            <Widget\n              src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Button.Delete\"\n              props={{ accountId, blockHeight, admins, adminContract }}\n            />\n          </div>\n        </div>\n      </small>\n    </div>\n    */}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dmitriy_sheleg.near/widget/DevSupport.Question.Preview"}
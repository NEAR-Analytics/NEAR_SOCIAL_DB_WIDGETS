{"tx_hash": "BYEePa7DggxqVRg2DQr8htcayb7mkEdFCAokpWdgPoKF", "action_id_social": "J34gJzn24PgmRck5jfCbydtAyxSRecvEkfNyPyk6rr21-0-widget", "block_id": 90402336, "block_timestamp": "2023-04-25 14:06:55.646", "signer_id": "bos_check.near", "widget_name": "BlockDetails", "source_code": "if (!props.blockHeight) {\n  return (\n    <div>\n      <p>Please provide a block height</p>\n    </div>\n  );\n}\n\nState.init({\n  blockData: null,\n});\n\nconst endPointUrl = props.endPointUrl || \"https://mainnet.aurora.dev\";\n\nconst fetchBlockData = (number) => {\n  const response = fetch(endPointUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      jsonrpc: \"2.0\",\n      method: \"eth_getBlockByNumber\",\n      params: [number, false],\n      id: 1,\n    }),\n  });\n\n  if (!response) return \"\";\n  const data = response?.body?.result;\n\n  if (data) {\n    State.update({\n      blockData: data,\n    });\n  }\n};\n\nif (!endPointUrl) {\n  return (\n    <div>\n      <p>Please provide an endpoint URL</p>\n    </div>\n  );\n}\n\nif (props.blockHeight && !state.blockData) {\n  fetchBlockData(props.blockHeight);\n}\n\nconst BlockDetails = styled.div`\n  border: 1px solid #fff;\n  padding: 20px;\n`;\n\nif (!state.blockData) {\n  return (\n    <div>\n      <p>Loading block data...</p>\n    </div>\n  );\n}\n\nreturn (\n  <BlockDetails>\n    <h1>Block details</h1>\n\n    <div>\n      <p>Block number</p>\n      <p>{state.blockData?.number}</p>\n    </div>\n\n    <div>\n      <p>Block hash</p>\n      <p>{state.blockData?.hash}</p>\n    </div>\n\n    <div>\n      <p>Parent hash</p>\n      <p>{state.blockData?.parentHash}</p>\n    </div>\n\n    <div>\n      <p>Timestamp</p>\n\n      <p>{state.blockData?.timestamp}</p>\n    </div>\n\n    <div>\n      <p>Transactions</p>\n\n      <div>\n        {state.blockData?.transactions?.length > 0 ? (\n          <div>\n            {state.blockData?.transactions?.map((tx, i) => (\n              <p>{tx}</p>\n            ))}\n          </div>\n        ) : (\n          <p>No transactions</p>\n        )}\n      </div>\n    </div>\n  </BlockDetails>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bos_check.near/widget/BlockDetails", "metadata.tags.ethdenver2023": ""}
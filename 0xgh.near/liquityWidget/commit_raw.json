{"tx_hash": "6wcRvNLBC8ziseceXR4nDLLYhDS63i8P3AhRqYzjLwMh", "action_id_social": "EWWGWkWXpg5VGEz8w1tkjnbSmT8fpgc5MUXPn5qccno6-0-widget", "block_id": 93389164, "block_timestamp": "2023-06-03T21:41:48.769Z", "signer_id": "0xgh.near", "widget_name": "liquityWidget", "source_code": "const troveManageABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_activePoolAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"ActivePoolAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_baseRate\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"BaseRateUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_newBorrowerOperationsAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"BorrowerOperationsAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_collSurplusPoolAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"CollSurplusPoolAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_defaultPoolAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"DefaultPoolAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_gasPoolAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"GasPoolAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_lqtyStakingAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"LQTYStakingAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_lqtyTokenAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"LQTYTokenAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_L_ETH\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_L_LUSDDebt\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"LTermsUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_newLUSDTokenAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"LUSDTokenAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_lastFeeOpTime\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"LastFeeOpTimeUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_liquidatedDebt\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_liquidatedColl\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_collGasCompensation\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_LUSDGasCompensation\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Liquidation\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"previousOwner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"OwnershipTransferred\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_newPriceFeedAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"PriceFeedAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_attemptedLUSDAmount\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_actualLUSDAmount\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_ETHSent\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_ETHFee\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Redemption\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_sortedTrovesAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"SortedTrovesAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_stabilityPoolAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"StabilityPoolAddressChanged\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_totalStakesSnapshot\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_totalCollateralSnapshot\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"SystemSnapshotsUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_newTotalStakes\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"TotalStakesUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"_borrower\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_newIndex\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"TroveIndexUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"_borrower\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_debt\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_coll\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum TroveManager.TroveManagerOperation\",\n        name: \"_operation\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"TroveLiquidated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_L_ETH\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_L_LUSDDebt\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"TroveSnapshotsUpdated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"_borrower\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_debt\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_coll\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"_stake\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum TroveManager.TroveManagerOperation\",\n        name: \"_operation\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"TroveUpdated\",\n    type: \"event\",\n  },\n  {\n    inputs: [],\n    name: \"BETA\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"BOOTSTRAP_PERIOD\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"BORROWING_FEE_FLOOR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"CCR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"DECIMAL_PRECISION\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"LUSD_GAS_COMPENSATION\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"L_ETH\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"L_LUSDDebt\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"MAX_BORROWING_FEE\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"MCR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"MINUTE_DECAY_FACTOR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"MIN_NET_DEBT\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"NAME\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"PERCENT_DIVISOR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"REDEMPTION_FEE_FLOOR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"SECONDS_IN_ONE_MINUTE\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    name: \"TroveOwners\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    name: \"Troves\",\n    outputs: [\n      { internalType: \"uint256\", name: \"debt\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"coll\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"stake\", type: \"uint256\" },\n      {\n        internalType: \"enum TroveManager.Status\",\n        name: \"status\",\n        type: \"uint8\",\n      },\n      { internalType: \"uint128\", name: \"arrayIndex\", type: \"uint128\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"_100pct\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"activePool\",\n    outputs: [\n      { internalType: \"contract IActivePool\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"addTroveOwnerToArray\",\n    outputs: [{ internalType: \"uint256\", name: \"index\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"applyPendingRewards\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"baseRate\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address[]\", name: \"_troveArray\", type: \"address[]\" },\n    ],\n    name: \"batchLiquidateTroves\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"borrowerOperationsAddress\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_price\", type: \"uint256\" }],\n    name: \"checkRecoveryMode\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"closeTrove\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"decayBaseRateFromBorrowing\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"_borrower\", type: \"address\" },\n      { internalType: \"uint256\", name: \"_collDecrease\", type: \"uint256\" },\n    ],\n    name: \"decreaseTroveColl\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"_borrower\", type: \"address\" },\n      { internalType: \"uint256\", name: \"_debtDecrease\", type: \"uint256\" },\n    ],\n    name: \"decreaseTroveDebt\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"defaultPool\",\n    outputs: [\n      { internalType: \"contract IDefaultPool\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_LUSDDebt\", type: \"uint256\" }],\n    name: \"getBorrowingFee\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_LUSDDebt\", type: \"uint256\" }],\n    name: \"getBorrowingFeeWithDecay\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getBorrowingRate\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getBorrowingRateWithDecay\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"_borrower\", type: \"address\" },\n      { internalType: \"uint256\", name: \"_price\", type: \"uint256\" },\n    ],\n    name: \"getCurrentICR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getEntireDebtAndColl\",\n    outputs: [\n      { internalType: \"uint256\", name: \"debt\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"coll\", type: \"uint256\" },\n      {\n        internalType: \"uint256\",\n        name: \"pendingLUSDDebtReward\",\n        type: \"uint256\",\n      },\n      { internalType: \"uint256\", name: \"pendingETHReward\", type: \"uint256\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getEntireSystemColl\",\n    outputs: [\n      { internalType: \"uint256\", name: \"entireSystemColl\", type: \"uint256\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getEntireSystemDebt\",\n    outputs: [\n      { internalType: \"uint256\", name: \"entireSystemDebt\", type: \"uint256\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getNominalICR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getPendingETHReward\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getPendingLUSDDebtReward\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_ETHDrawn\", type: \"uint256\" }],\n    name: \"getRedemptionFeeWithDecay\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getRedemptionRate\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getRedemptionRateWithDecay\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_price\", type: \"uint256\" }],\n    name: \"getTCR\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getTroveColl\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getTroveDebt\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_index\", type: \"uint256\" }],\n    name: \"getTroveFromTroveOwnersArray\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getTroveOwnersCount\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getTroveStake\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"getTroveStatus\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"hasPendingRewards\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"_borrower\", type: \"address\" },\n      { internalType: \"uint256\", name: \"_collIncrease\", type: \"uint256\" },\n    ],\n    name: \"increaseTroveColl\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"_borrower\", type: \"address\" },\n      { internalType: \"uint256\", name: \"_debtIncrease\", type: \"uint256\" },\n    ],\n    name: \"increaseTroveDebt\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"isOwner\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"lastETHError_Redistribution\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"lastFeeOperationTime\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"lastLUSDDebtError_Redistribution\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"liquidate\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"_n\", type: \"uint256\" }],\n    name: \"liquidateTroves\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"lqtyStaking\",\n    outputs: [\n      { internalType: \"contract ILQTYStaking\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"lqtyToken\",\n    outputs: [\n      { internalType: \"contract ILQTYToken\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"lusdToken\",\n    outputs: [\n      { internalType: \"contract ILUSDToken\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"owner\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"priceFeed\",\n    outputs: [\n      { internalType: \"contract IPriceFeed\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"uint256\", name: \"_LUSDamount\", type: \"uint256\" },\n      {\n        internalType: \"address\",\n        name: \"_firstRedemptionHint\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"_upperPartialRedemptionHint\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"_lowerPartialRedemptionHint\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_partialRedemptionHintNICR\",\n        type: \"uint256\",\n      },\n      { internalType: \"uint256\", name: \"_maxIterations\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"_maxFeePercentage\", type: \"uint256\" },\n    ],\n    name: \"redeemCollateral\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"removeStake\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    name: \"rewardSnapshots\",\n    outputs: [\n      { internalType: \"uint256\", name: \"ETH\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"LUSDDebt\", type: \"uint256\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_borrowerOperationsAddress\",\n        type: \"address\",\n      },\n      { internalType: \"address\", name: \"_activePoolAddress\", type: \"address\" },\n      { internalType: \"address\", name: \"_defaultPoolAddress\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"_stabilityPoolAddress\",\n        type: \"address\",\n      },\n      { internalType: \"address\", name: \"_gasPoolAddress\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"_collSurplusPoolAddress\",\n        type: \"address\",\n      },\n      { internalType: \"address\", name: \"_priceFeedAddress\", type: \"address\" },\n      { internalType: \"address\", name: \"_lusdTokenAddress\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"_sortedTrovesAddress\",\n        type: \"address\",\n      },\n      { internalType: \"address\", name: \"_lqtyTokenAddress\", type: \"address\" },\n      { internalType: \"address\", name: \"_lqtyStakingAddress\", type: \"address\" },\n    ],\n    name: \"setAddresses\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"_borrower\", type: \"address\" },\n      { internalType: \"uint256\", name: \"_num\", type: \"uint256\" },\n    ],\n    name: \"setTroveStatus\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"sortedTroves\",\n    outputs: [\n      { internalType: \"contract ISortedTroves\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"stabilityPool\",\n    outputs: [\n      { internalType: \"contract IStabilityPool\", name: \"\", type: \"address\" },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalCollateralSnapshot\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalStakes\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalStakesSnapshot\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"updateStakeAndTotalStakes\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"_borrower\", type: \"address\" }],\n    name: \"updateTroveRewardSnapshots\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nconst WidgetWrapper = styled.div`\n  margin: 0.5rem 0 0.5rem 0;\n  width: 400px;\n  height: 460px;\n  // border: #755ddf 1px solid;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n\n  .tab-wrapper {\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-end;\n    background-color: black;\n    border-radius: 10px 10px 0 0;\n    // height: 2rem;\n    padding: 0.5rem 0 0 0.5rem;\n  }\n  .tab {\n    // margin: 0 0.5rem 0 0.5rem;\n    border: none;\n    border-radius: 10px 10px 0 0;\n    // font-size: 1.1rem;\n    padding: 0.1rem 0.75rem 0.1rem 0.75rem;\n    font-weight: 500;\n    &.active {\n      background-color: white;\n    }\n    &.disabled {\n      color: white;\n      background-color: #3a0ca3;\n    }\n    &.notHaveTrove {\n      background-color: #343a40 !important;\n      color: white;\n    }\n  }\n  .widget-wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding: 1rem 1rem 1rem 1rem;\n    flex: 1 0 0;\n  }\n  .wallet-connect {\n    border: 1px solid #3a0ca3;\n    color: #3a0ca3;\n    &:hover {\n      background-color: #3a0ca3;\n      color: white;\n    }\n  }\n  .open-trove-first {\n    width: 100%;\n    font-size: 1.3rem;\n    font-weight: 600;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nState.init({ selectedTab: \"Borrow\" });\nconst troveManageAddress = \"0x0ECDF34731eE8Dd46caa99a1AAE173beD1B32c67\";\nconst troveManageInterface = new ethers.utils.Interface(troveManageABI);\nconst troveCheckHandler = () => {\n  const signer = Ethers.provider().getSigner();\n  signer.getAddress().then((address) => {\n    State.update({ address });\n\n    const encodedForTroveCheck = troveManageInterface.encodeFunctionData(\n      \"getTroveStatus\",\n      [address]\n    );\n    Ethers.provider()\n      .call({\n        to: troveManageAddress,\n        data: encodedForTroveCheck,\n      })\n      .then((raw) => {\n        const receiverBalanceHex = troveManageInterface.decodeFunctionResult(\n          \"getTroveStatus\",\n          raw\n        );\n        const result = receiverBalanceHex[0].toString();\n\n        State.update({ troveStatus: result });\n      });\n  });\n};\nif (Ethers.provider()) {\n  troveCheckHandler();\n}\nreturn (\n  <WidgetWrapper>\n    <div className={`tab-wrapper`}>\n      <button\n        className={`tab ${\n          state.selectedTab === \"Borrow\" ? \"active\" : \"disabled\"\n        }`}\n        onClick={() => {\n          State.update({ selectedTab: \"Borrow\" });\n        }}\n      >\n        Borrow\n      </button>\n      <button\n        className={`tab ${\n          state.selectedTab === \"Manage\" ? \"active\" : \"disabled\"\n        }`}\n        onClick={() => {\n          State.update({ selectedTab: \"Manage\" });\n        }}\n      >\n        Manage\n      </button>\n      <button\n        className={`tab ${\n          state.selectedTab === \"Clearance\" ? \"active\" : \"disabled\"\n        }`}\n        onClick={() => {\n          State.update({ selectedTab: \"Clearance\" });\n        }}\n      >\n        Pay off\n      </button>\n    </div>\n    <div className={`widget-wrapper`}>\n      {state.address ? (\n        state.selectedTab === \"Borrow\" ? (\n          <Widget src={`0xgh.near/widget/liquityComponentBorrow`} />\n        ) : state.selectedTab === \"Manage\" ? (\n          state.troveStatus === \"1\" ? (\n            <Widget src={`0xgh.near/widget/liquityComponentManage`} />\n          ) : (\n            <div className=\"open-trove-first\">Open trove first</div>\n          )\n        ) : state.selectedTab === \"Clearance\" ? (\n          state.troveStatus === \"1\" ? (\n            <Widget src={`0xgh.near/widget/liquityComponentPayoff`} />\n          ) : (\n            <div className=\"open-trove-first\">Open trove first</div>\n          )\n        ) : (\n          \"\"\n        )\n      ) : (\n        <Web3Connect\n          className=\"wallet-connect\"\n          connectLabel=\"Wallet Connect First \ud83d\ude09\"\n        />\n      )}\n    </div>\n  </WidgetWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/0xgh.near/widget/liquityWidget", "__row_index": 3}
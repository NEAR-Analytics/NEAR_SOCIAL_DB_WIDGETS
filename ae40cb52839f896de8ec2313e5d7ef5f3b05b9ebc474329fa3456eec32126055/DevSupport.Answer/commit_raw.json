{"tx_hash": "GqhC1NQJiaka8CUNFm7TrMZt63PmhyHX3cJrfDm9AQLK", "action_id_social": "6FNz11fPddQLWHMdUyUR6MZpH74UoPW8CWbtfp5BGKn3-0-widget", "block_id": 87501291, "block_timestamp": "2023-03-17 14:41:37.452", "signer_id": "ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055", "widget_name": "DevSupport.Answer", "source_code": "const accountId = props.accountId;\nconst blockHeight = parseInt(props.blockHeight);\nconst admins = props.admins || [];\nconst adminContract = props.adminContract;\n\nif (accountId === undefined || blockHeight === undefined) {\n  return;\n}\n\nState.init({ showAnswer: false });\n\nconst answer = JSON.parse(\n  Social.get(`${accountId}/question/answer`, blockHeight) ?? \"null\"\n);\n\nconst is_useful = Near.view(adminContract, \"is_useful\", {\n  id: { account_id: accountId, block_height: blockHeight },\n});\nconst border = is_useful ? \"border-success\" : \"border-black\";\n\nconst item = {\n  type: \"social\",\n  path: `${accountId}/question/main`,\n  blockHeight,\n};\n\nreturn (\n  <>\n    <div className={`border ${border} mt-3 p-3`}>\n      <Widget\n        src=\"mob.near/widget/Profile.ShortInlineBlock\"\n        props={{ accountId, tooltip: false }}\n      />\n      <hr />\n\n      <div class=\"mt-3\">\n        <Widget\n          src=\"mob.near/widget/MainPage.Post.Content\"\n          props={{ content: { text: answer.text } }}\n        />\n      </div>\n\n      <button\n        class=\"btn btn-success\"\n        onClick={() => {\n          State.update({ showAnswer: !state.showAnswer });\n        }}\n      >\n        Answer\n      </button>\n\n      <Widget\n        src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Answer.Button.Valid\"\n        props={{ accountId, blockHeight, admins, adminContract }}\n      />\n\n      {state.showAnswer && (\n        <Widget\n          src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Answer.Edit\"\n          props={{\n            notifyAccountId: accountId,\n            item,\n            onComment: () => State.update({ showReply: false }),\n          }}\n        />\n      )}\n\n      <Widget\n        src=\"ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Answer.Feed\"\n        props={{ item, admins, adminContract, nested: true }}\n      />\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Answer"}
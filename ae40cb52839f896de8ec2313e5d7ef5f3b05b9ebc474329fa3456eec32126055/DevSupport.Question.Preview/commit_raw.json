{"tx_hash": "ErMrZa1EMHhxFUp3Yq6pfkZXz5YSwZ2e7naRaNAwCgWX", "action_id_social": "CYzdtxRxMLnMpYKnLzviFGPGfEQxShA9M3TVUh1VHA8h-0-widget", "block_id": 84211149, "block_timestamp": "2023-01-31 14:42:38.308", "signer_id": "ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055", "widget_name": "DevSupport.Question.Preview", "source_code": "const accountId = props.accountId;\nconst blockHeight =\n  props.blockHeight === \"now\" ? \"now\" : parseInt(props.blockHeight);\n\nconst question = JSON.parse(\n  Social.get(`${accountId}/question/main`, blockHeight) ?? \"null\"\n);\n\nconsole.log(\"A\", question);\n\nconst notifyAccountId = accountId;\nconst item = {\n  type: \"social\",\n  path: `${accountId}/question/main`,\n  blockHeight,\n};\n\nconst link = `#/mob.near/widget/MainPage.Post.Page?accountId=${accountId}&blockHeight=${blockHeight}`;\n\nfunction readableDate(timestamp) {\n  var a = new Date(timestamp);\n  return a.toDateString() + \" \" + a.toLocaleTimeString();\n}\n\nconst timestamp = readableDate(\n  snapshot.timestamp ? snapshot.timestamp / 1000000 : Date.now()\n);\n\nconst postLables = question.labels ? (\n  <div class=\"card-title\">\n    {question.labels.map((label) => {\n      return (\n        <a\n          href={`https://near.social/#/devgovgigs.near/widget/Ideas?label=${label}`}\n        >\n          <span class=\"badge p-0 pe-2 text-primary\">{label}</span>\n        </a>\n      );\n    })}\n  </div>\n) : null;\n\nconst likeBtnClass = \"bi-arrow-up-square\";\n\nconst footer = (\n  <div className=\"card-header\">\n    <small class=\"text-muted\">\n      <div class=\"row justify-content-between\">\n        <div class=\"col-6\">\n          <a href=\"#\" onClick={onLike}>\n            <i class={`bi ${likeBtnClass} me-1`}> </i>\n            Upvote ({post.likes.length ?? 0})\n          </a>\n        </div>\n\n        <div class=\"col-6\">\n          <div class=\"d-flex justify-content-end\">\n            {timestamp}\n            <i class=\"bi bi-clock-history px-2\"></i>\n            {shareButton}\n          </div>\n        </div>\n      </div>\n    </small>\n  </div>\n);\n\nreturn (\n  <div className=\"border p-3\">\n    <h1>{question.title}</h1>\n    {postLables}\n\n    <div className=\"pt-2 text-break\">\n      <Widget\n        src=\"mob.near/widget/MainPage.Post.Content\"\n        props={{ content: { text: question.content.text } }}\n      />\n    </div>\n\n    {footer}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ae40cb52839f896de8ec2313e5d7ef5f3b05b9ebc474329fa3456eec32126055/widget/DevSupport.Question.Preview"}
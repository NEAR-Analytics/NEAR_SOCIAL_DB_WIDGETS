{"tx_hash": "AHxieYVvvMzXnscnyNiqDFG4kZkE9Y1BYiWjDNn2pci3", "action_id_social": "FPixMWo1euf8P1WCSwdPxssomZELfJhQWeYvZfJqSBWU-0-widget", "block_id": 80753748, "block_timestamp": "2022-12-16 04:28:21.923", "signer_id": "urbanite.near", "widget_name": "AstroBountiesParticipantEditor", "source_code": "const myAccountId = props.accountId ?? context.accountId;\nif (!myAccountId) {\n  return \"Please sign in with NEAR wallet \";\n}\n\nconst bountyId = props.bountyId;\nif (!bountyId) {\n  return \"Please provide a bounty id\";\n}\n\nconst data =\n  Social.keys(`*/astrosocial/bounties/${bountyId}/participated`, \"final\") || {};\n\nconst allParticipants = Object.keys(data);\n\nconst participated = !!data[myAccountId];\n\nconst sanitizedBountyId = props.bountyId.replaceAll(\".\", \"\");\nreturn (\n  <div>\n    <div>\n      <a\n        class=\"card-link\"\n        data-bs-toggle=\"collapse\"\n        href={`#collapseAstroParticipantEditor-${sanitizedBountyId}`}\n        role=\"button\"\n        aria-expanded=\"false\"\n        aria-controls={`collapseAstroParticipantEditor-${sanitizedBountyId}`}\n      >\n        <i class={commentBtnClass}> </i> Participants ({allParticipants.length})\n      </a>\n    </div>\n\n    <div\n      class=\"collapse\"\n      id={`collapseAstroParticipantEditor-${sanitizedBountyId}`}\n    >\n      <div>\n        <ul>\n          {allParticipants.map((participant) => (\n            <li className=\"py-2\">\n              <Widget\n                src=\"urbanite.near/widget/ProfileLine\"\n                props={{\n                  accountId: participant,\n                  hideAccountId: true,\n                  tooltip: true,\n                }}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      <CommitButton\n        style={{ backgroundColor: \"thistle\", borderColor: \"white\" }}\n        data={{\n          astrosocial: {\n            bounties: {\n              [bountyId]: {\n                participated: !participated ? true : null,\n              },\n            },\n          },\n        }}\n      >\n        {participated ? \"I want to leave :(\" : \"I want to participate!\"}\n      </CommitButton>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/urbanite.near/widget/AstroBountiesParticipantEditor"}
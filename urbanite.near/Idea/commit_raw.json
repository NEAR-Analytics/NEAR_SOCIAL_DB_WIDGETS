{"tx_hash": "CjpiTKNtDwaVwmy2bctH4cg6HgrUCaZRndGWjZq3CFtf", "action_id_social": "12FHUWivcVvBSGQXxBFdCBA8BRx2m2gRgxMLvfYDHaTw-0-widget", "block_id": 80142288, "block_timestamp": "2022-12-07 22:04:23.900", "signer_id": "urbanite.near", "widget_name": "Idea", "source_code": "const idea_id = props.idea_id ? parseInt(props.idea_id) : 0;\nconst idea = props.idea ?? Near.view(\"nearideas.near\", \"get_idea\", { idea_id });\n\nconst onReportClick = () => {\n  Near.call(\"nearideas.near\", \"review\", {\n    idea_id: parseInt(idea.idea_id),\n    status: \"Reported\",\n  });\n};\n\nconst onDonateClick = (amount) => {\n  const gas = 300 * 1000000000;\n  const deposit = parseInt(amount) + \"000000000000000000000000\";\n  Near.call(\n    \"nearideas.near\",\n    \"donate\",\n    {\n      idea_id: parseInt(idea.idea_id),\n    },\n    gas,\n    deposit\n  );\n};\n\nreturn (\n  <div>\n    <h3>\n      {idea.name} ({idea.status})\n    </h3>\n    <p>Submitted: {idea.submitter_id}</p>\n    <p>Reviewer: {idea.reviewer_id}</p>\n    <p>{idea.description}</p>\n    <p>Amount: {idea.amount / 1000000000000000000000000} NEAR</p>\n    <p>\n      <a\n        className=\"btn btn-outline-primary ms-2\"\n        href={`#/root.near/widget/CreateSubmission?idea_id=${idea.idea_id}`}\n      >\n        Create submission\n      </a>\n      {idea.reviewer_id === context.accountId ? (\n        <a\n          className=\"btn btn-outline-primary ms-2\"\n          onClick={() => onReportClick()}\n        >\n          Report\n        </a>\n      ) : (\n        \"\"\n      )}\n      <a\n        className=\"btn btn-outline-primary ms-2\"\n        onClick={() => onDonateClick(1)}\n      >\n        Donate 1N\n      </a>\n    </p>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/urbanite.near/widget/Idea"}
{"tx_hash": "HPJz7puu9N7RwCkuAGrfCC9veuruJ1ZuDwELc6Wp6Xt1", "action_id_social": "7aHttKkrGecgPVP22yYsyUrjPBDXhcw4eUerHknA2xRh-0-widget", "block_id": 80665501, "block_timestamp": "2022-12-14 23:49:52.535", "signer_id": "urbanite.near", "widget_name": "ListAstroBounties", "source_code": "const bounties = fetch(\n  \"https://search.testnet.app.astrodao.com/bounty/_search?size=20&from=0\",\n  {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: {\n        bool: {\n          must: [\n            {\n              simple_query_string: {\n                query: \"*\",\n                fields: [\"accounts\"],\n              },\n            },\n          ],\n          must_not: [],\n          should: [],\n        },\n      },\n      sort: [\n        {\n          createTimestamp: {\n            order: \"desc\",\n          },\n        },\n      ],\n    }),\n  }\n);\n\nconsole.log(bounties.body.hits);\n\nif (bounties.body.hits.hits.length == 0) {\n  return \"Loading...\";\n}\n\nreturn (\n  <>\n    <h2>Astro Bounties | V1</h2>\n    <Widget src=\"edwardkcyu.near/widget/AstroFeedback\" />\n    <Widget\n      src=\"mob.near/widget/ComponentSearch\"\n      props={{\n        filterTag: \"app\",\n        placeholder: \"\ud83d\udd0d Search Bounties\",\n        limit: 10,\n        onChange: ({ result }) => State.update({ apps: result }),\n      }}\n    />\n    <ol>\n      {bounties\n        ? bounties.body.hits.hits.map((bounty) => {\n            const bountyId = bounty._source.id;\n            return (\n              <li>\n                <div>\n                  <h3>\n                    <b>DAO:</b> {bounty._source.daoId}\n                  </h3>\n                  <p>\n                    <b>Summary:</b> {bounty._source.description}\n                  </p>\n                  <p>\n                    <b>Amount:</b>{\" \"}\n                    <Widget\n                      src=\"urbanite.near/widget/YoctoNEARConverter\"\n                      props={{ amount: bounty._source.amount }}\n                    />\n                  </p>\n                  <Widget\n                    src=\"edwardkcyu.near/widget/AstroBountiesCommentEditor\"\n                    props={{ bountyId }}\n                  />\n                </div>\n              </li>\n            );\n          })\n        : \"\"}\n    </ol>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/urbanite.near/widget/ListAstroBounties"}
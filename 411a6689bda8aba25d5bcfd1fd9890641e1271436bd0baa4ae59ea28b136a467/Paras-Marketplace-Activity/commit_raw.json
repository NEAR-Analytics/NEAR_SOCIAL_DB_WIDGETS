{"tx_hash": "64sY7Tr4FTNHZ45tDQ4DKmBLxoqM8n7zd9rrL4z2Kf8z", "action_id_social": "8sDR51bi9MxHDB5haFdAhUqkdgviK8dWEQnT9jqacPTu-0-widget", "block_id": 86761121, "block_timestamp": "2023-03-07 13:09:55.415", "signer_id": "411a6689bda8aba25d5bcfd1fd9890641e1271436bd0baa4ae59ea28b136a467", "widget_name": "Paras-Marketplace-Activity", "source_code": "const bgStyle = {\n  background:\n    \"radial-gradient(64.28% 58.47% at 27.26% 59.61%,rgba(67,118,254,.55) 0,rgba(67,118,254,0) 100%)\",\n  filter: \"blur(95px)\",\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  transform: \"matrix(-1,0,0,-1,0,0)\",\n  zIndex: 0,\n  width: \"100%\",\n  height: \"100%\",\n};\n\nconst wStyle = {\n  maxHeight: \"800px\",\n  overflow: \"scroll\",\n  background: \"blue\",\n  color: \"white\",\n  padding: \"0 25px 25px 25px\",\n};\n\nconst tableStyle = {\n  display: \"table\",\n  width: \"100%\",\n  borderCollapse: \"separate\",\n  borderSpacing: \"0px\",\n  fontSize: \"14px\",\n};\n\nconst tdStyle = {\n  textOverflow: \"ellipsis\",\n  overflow: \"hidden\",\n  whiteSpace: \"nowrap\",\n  padding: \"16px\",\n  maxWidth: \"130px\",\n  borderBottom: \"1px solid rgb(81, 81, 81)\",\n};\n\nconst theadStyle = {\n  position: \"sticky\",\n  top: 0,\n  background: \"rgb(13, 15, 36)\",\n  padding: \"16px\",\n  textAlign: \"left\",\n  lineHeight: \"12px\",\n};\n\nconst linkStyle = {\n  margin: \"0px\",\n  textDecoration: \"underline rgba(1, 199, 251, 0.4)\",\n  color: \"rgb(1, 199, 251)\",\n  fontWeight: 600,\n};\n\nconst apiUrl1 =\n  \"https://api.flipsidecrypto.com/api/v2/queries/fe213752-a832-4f0b-a08a-52e85ae53798/data/latest\";\n\nconst apiUrl2 =\n  \"https://api.flipsidecrypto.com/api/v2/queries/a371f03d-ccdf-4e58-81cb-1c1aaff87b27/data/latest\";\n\nlet parasActivity = fetch(apiUrl1, {\n  subscribe: true,\n  method: \"GET\",\n  headers: {\n    Accept: \"*/*\",\n  },\n});\n\nlet parasMetrics = fetch(apiUrl2, {\n  subscribe: true,\n  method: \"GET\",\n  headers: {\n    Accept: \"*/*\",\n  },\n});\n\nconst pM = parasMetrics.body[0];\n\nfunction numberWithCommas(x) {\n  return JSON.stringify(x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nlet allRows = [];\nfor (let i = 0; i < parasActivity.body.length; i++) {\n  console.log(parasActivity.body.length);\n  const pA = parasActivity.body[i];\n  const txDate = pA.EVENT_TIMESTAMP;\n  allRows.push(\n    <tr>\n      <td style={tdStyle}>\n        <a\n          style={linkStyle}\n          href={`https://paras.id${pA.CONTRACT_SUFFIX}`}\n          target=\"_blank\"\n        >\n          {pA.NFT_NAME}\n        </a>\n      </td>\n      <td style={tdStyle}>\n        <a\n          style={linkStyle}\n          href={`https://nearblocks.io/txns/${pA.TX_HASH}`}\n          target=\"_blank\"\n        >\n          {pA.ACTION}\n        </a>\n      </td>\n      <td style={tdStyle}>{txDate}</td>\n      <td style={tdStyle}>\n        {numberWithCommas(parseInt(pA.AMOUNT))}\n        <img\n          src=\"https://s2.coinmarketcap.com/static/img/coins/64x64/6535.png\"\n          height=\"20px\"\n          width=\"20px\"\n        ></img>\n      </td>\n      <td style={tdStyle}>{pA.CREATED_BY}</td>\n      <td style={tdStyle}>{pA.SOLD_TO}</td>\n    </tr>\n  );\n}\n\nreturn (\n  <div class=\"d-grid gap-5\" style={{ fontFamily: \"Arial\" }}>\n    <div>\n      <div style={bgStyle}></div>\n      <div style={wStyle}>\n        <h2 style={{ paddingTop: \"25px\", paddingBottom: \"25px\" }}>\n          Paras Marketplace Activity <span class=\"fs-6\"> Last 7 days</span>\n        </h2>\n        <p>\n          Powered By:{\"\"}\n          <img\n            src=\"https://www.gitbook.com/cdn-cgi/image/width=40,height=40,fit=contain,dpr=2,format=auto/https%3A%2F%2F1048384174-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fspaces%252F-LdEnDLYh6Su5z7LbnEZ%252Favatar.png%3Fgeneration%3D1575431493257333%26alt%3Dmedia\"\n            height=\"20px\"\n            width=\"20px\"\n          ></img>\n          <a\n            style={linkStyle}\n            href=\"https://flipsidecrypto.xyz/edit/queries/fe213752-a832-4f0b-a08a-52e85ae53798\"\n            target=\"_blank\"\n          >\n            Flipsidecrypto\n          </a>\n        </p>\n        <table style={tableStyle}>\n          <thead>\n            <tr>\n              <th style={theadStyle}>NFT</th>\n              <th style={theadStyle}>ACTION</th>\n              <th style={theadStyle}>ACTION TIMESTAMP</th>\n              <th style={theadStyle}>AMOUNT</th>\n              <th style={theadStyle}>CREATED BY</th>\n              <th style={theadStyle}>SOLD TO</th>\n            </tr>\n          </thead>\n          <tbody>{allRows}</tbody>\n        </table>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-3\">\n        <div\n          class=\"card text-white bg-success mb-3\"\n          style={{ maxWidth: \"14rem\" }}\n        >\n          <div class=\"card-body\">\n            <p class=\"card-title\" style={{ fontSize: \"12px\" }}>\n              Total NFTs Sold in 30 Days\n            </p>\n            <p class=\"card-text fs-4\">\n              {numberWithCommas(parseInt(pM.TOTAL_NFT_SOLD))}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-3\">\n        <div\n          class=\"card text-white bg-success mb-3\"\n          style={{ maxWidth: \"14rem\" }}\n        >\n          <div class=\"card-body\">\n            <p class=\"card-title\" style={{ fontSize: \"12px\" }}>\n              Total Gross Sales in 30 Days\n            </p>\n            <p class=\"card-text fs-4\">\n              $\n              {JSON.parse(\n                numberWithCommas(parseFloat(pM.TOTAL_GROSS_SALES).toFixed(2))\n              )}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-3\">\n        <div\n          class=\"card text-white bg-success mb-3\"\n          style={{ maxWidth: \"14rem\" }}\n        >\n          <div class=\"card-body\">\n            <p class=\"card-title\" style={{ fontSize: \"12px\" }}>\n              Total Sold Collections in 30 Days\n            </p>\n            <p class=\"card-text fs-4\">\n              {numberWithCommas(parseInt(pM.TOTAL_SOLD_COLLECTIONS))}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-3\">\n        <div\n          class=\"card text-white bg-success mb-3\"\n          style={{ maxWidth: \"14rem\" }}\n        >\n          <div class=\"card-body\">\n            <p class=\"card-title\" style={{ fontSize: \"12px\" }}>\n              Total NFT Listings in 30 Days\n            </p>\n            <p class=\"card-text fs-4\">\n              {numberWithCommas(parseInt(pM.TOTAL_LISTINGS))}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/411a6689bda8aba25d5bcfd1fd9890641e1271436bd0baa4ae59ea28b136a467/widget/Paras-Marketplace-Activity"}
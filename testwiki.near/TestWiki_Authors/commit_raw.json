{"tx_hash": "DfiszvaeJcciGxgXXZmUcPh98GebzNRL7eCQSzdF5CY9", "action_id_social": "BTAKQndq4eykzu1mhzbkAxW7e8YoTWDBaN9eTEZBCx9J-0-widget", "block_id": 82864181, "block_timestamp": "2023-01-13 15:15:52.725", "signer_id": "testwiki.near", "widget_name": "TestWiki_Authors", "source_code": "State.init({});\n\nconst accountsNum = Near.view(\"testwiki.near\", \"get_num_accounts\");\n\nconst accounts = Near.view(\"testwiki.near\", \"get_accounts_paged\");\n\nconst getAuthorArticles = (authorId) => {\n  if (authorId) {\n    return Near.view(\"testwiki.near\", \"get_account\", {\n      account_id: authorId,\n    });\n  }\n  return [];\n};\n\nconst handleArticle = (e, articleId) => {\n  State.update({ ...state, articleId: articleId, authorId: undefined });\n};\n\nconst handleAuthor = (e, authorId) => {\n  State.update({ ...state, articleId: undefined, authorId });\n  console.log(\"handleAuthor\");\n};\n// use link for author to get author's articles\n// <a\n//   href=\"\"\n//   style={{ textDecoration: \"underline\" }}\n//   onClick={(e) => handleAuthor(e, accountId)}\n// >\n// </a>\n\nreturn (\n  <div>\n    <h1>Authors</h1>\n    <div>Total: {accountsNum} authors</div>\n    <ul>\n      {accounts &&\n        accounts.map(([accountId, account]) => (\n          <li key={accountId}>\n            <span>\n              {accountId} -\n              {account.articles.length > 0 && (\n                <span>\n                  {\" \"}\n                  {account.articles.length} article\n                  {account.articles.length > 1 ? \"s\" : \"\"}\n                </span>\n              )}\n            </span>\n          </li>\n        ))}\n    </ul>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/testwiki.near/widget/TestWiki_Authors"}
{"tx_hash": "DwUKvPpsAAoke274Ex64xP8o61EVbVdSXAJuVeVFpSZN", "action_id_social": "H4jrwHf4P8QLCxY18rUG7enKmkiamu4giQ88jWKYytmR-1-widget", "block_id": 85308691, "block_timestamp": "2023-02-15 22:32:16.635", "signer_id": "euclid.near", "widget_name": "genadropMinter", "source_code": "let accountId = context.accountId;\r\n\r\nif (!accountId) {\r\n  return \"Please connect your NEAR wallet :)\";\r\n}\r\n\r\nconst profile = socialGetr(`${accountId}/profile`);\r\n\r\nif (profile === null) {\r\n  return \"Loading...\";\r\n}\r\n\r\nconst handleProposal = () => {\r\n  if (!(state.description && state.kind)) {\r\n    return;\r\n  }\r\n  const proposal = {\r\n    description: state.description,\r\n    kind: state.kind,\r\n    member_id: state.member_id,\r\n    role: state.role,\r\n  };\r\n  {\r\n    const gas = 200000000000000;\r\n    const deposit = 10000000000000000000000;\r\n    Near.call([\r\n      {\r\n        contractName: \"global.sputnik-dao.near\",\r\n        methodName: \"add_proposal\",\r\n        args: {\r\n          proposal: {\r\n            description: state.description,\r\n            kind: {\r\n              AddMemberToRole: {\r\n                member_id: state.member_id,\r\n                role: state.role,\r\n              },\r\n            },\r\n          },\r\n        },\r\n        gas: gas,\r\n        deposit: deposit,\r\n      },\r\n    ]);\r\n  }\r\n};\r\n\r\ninitState({\r\n  description: \"\",\r\n  kind: \"\",\r\n});\r\n\r\nconst onChangeKind = (kind) => {\r\n  State.update({\r\n    kind,\r\n  });\r\n};\r\n\r\nconst onChangeDesc = (description) => {\r\n  State.update({\r\n    description,\r\n  });\r\n};\r\n\r\nconst onChangeRole = (role) => {\r\n  State.update({\r\n    role,\r\n  });\r\n};\r\n\r\nconst onChangeMember = (member_id) => {\r\n  State.update({\r\n    member_id,\r\n  });\r\n};\r\n\r\nreturn (\r\n  <div>\r\n    <Widget src=\"mob.near/widget/ProfileOnboarding\" />\r\n    <div></div>\r\n    <div>\r\n      <h3>Proposal Description</h3>\r\n      <input type=\"text\" onChange={(e) => onChangeDesc(e.target.value)} />\r\n    </div>\r\n    <div className=\"mb-3\"></div>\r\n    <div className=\"flex-grow-1 d-none\">\r\n      <h3>Proposal Kind</h3>\r\n      <p>Available Options:</p>\r\n      <ul>\r\n        <li>ChangeConfig</li>\r\n        <li>ChangePolicy</li>\r\n        <li>AddMemberToRole</li>\r\n        <li>RemoveMemberFromRole</li>\r\n        <li>FunctionCall</li>\r\n        <li>UpgradeSelf</li>\r\n        <li>UpgradeRemote</li>\r\n        <li>Transfer</li>\r\n        <li>SetStakingContract</li>\r\n        <li>AddBounty</li>\r\n        <li>BountyDone</li>\r\n        <li>Vote</li>\r\n        <li>FactoryInfoUpdate</li>\r\n        <li>ChangePolicyAddOrUpdateRole</li>\r\n        <li>ChangePolicyRemoveRole</li>\r\n        <li>ChangePolicyUpdateDefaultVotePolicy</li>\r\n        <li>ChangePolicyUpdateParameters</li>\r\n      </ul>\r\n      <input type=\"text\" onChange={(e) => onChangeKind(e.target.value)} />\r\n    </div>\r\n    <div className=\"mb-3\"></div>\r\n    <div>\r\n      <h3>New Member ID</h3>\r\n      <input type=\"text\" onChange={(e) => onChangeMember(e.target.value)} />\r\n    </div>\r\n    <div className=\"mb-3\"></div>\r\n    <div>\r\n      <h3>Role / Group Name</h3>\r\n      <input type=\"text\" onChange={(e) => onChangeRole(e.target.value)} />\r\n    </div>\r\n    <div className=\"mb-3\"></div>\r\n    <div>\r\n      <button onClick={handleProposal}>Submit Proposal</button>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": NaN, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/euclid.near/widget/genadropMinter", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.app": NaN, "metadata.tags.genadrop": NaN, "metadata.tags.ipfs": NaN, "metadata.tags.mint": NaN, "metadata.tags.nft": NaN, "metadata.tags.mintbase": NaN, "metadata.tags.nft-minter": NaN, "metadata.tags.onboard": NaN, "metadata.tags.onboard-dao": NaN, "metadata.tags.onboarddao": NaN, "metadata.tags.dapp": NaN, "branch.draft.": NaN, "branch.draft": NaN}
{"tx_hash": "EDuAEDQhZjwiAu7Q4PRPVb32KrPmd5JHfQXoA14fhWAf", "action_id_social": "5HrmccCcJibm4TnzEUkNKXYcNQ558q6GEF9mb1Hbouk2-0-widget", "block_id": 88511717, "block_timestamp": "2023-03-31 14:42:26.917", "signer_id": "saidulbadhon.near", "widget_name": "ProfileSidebar", "source_code": "const accountId = props.accountId || context.accountId;\r\n\r\nif (!accountId) return \"Login or send accountId in the props\";\r\n\r\nconst profile = Social.getr(`${accountId}/profile`);\r\n\r\nconst name = profile?.name;\r\nconst image = profile?.image;\r\n\r\nconst url = image.ipfs_cid\r\n  ? `https://ipfs.near.social/ipfs/${image?.ipfs_cid}`\r\n  : \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\r\n\r\n// const cssFont = fetch(\r\n//   \"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap\"\r\n// ).body;\r\n\r\n// const css = fetch(\r\n//   \"https://raw.githubusercontent.com/cryptosynk/near-social-profile/main/css/mainLight.css\"\r\n// ).body;\r\n\r\n// const Theme = styled.div`\r\n//   font-family: \"Open Sans\", sans-serif;\r\n//   ${cssFont}\r\n//   ${css}\r\n// `;\r\n\r\n// if (!cssFont || !css) return \"Loading fonts & css\";\r\n\r\nState.init({\r\n  showEditProfile: false,\r\n});\r\n\r\nreturn (\r\n  <div\r\n    style={{\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      gap: 16,\r\n      paddingInline: 16,\r\n    }}\r\n  >\r\n    <div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <img\r\n          style={{\r\n            maxWidth: 250,\r\n            width: \"100%\",\r\n            minWidth: 150,\r\n            aspectRatio: \"1 / 1\",\r\n            objectFit: \"cover\",\r\n            borderRadius: \"50%\",\r\n            outline: \"2px solid #dbdcdd\",\r\n          }}\r\n          src={url}\r\n          alt=\"profile\"\r\n        />\r\n        <div style={{ paddingBlock: 8 }}>\r\n          <h2 style={{ textAlign: \"center\", color: props.theme.textColor }}>\r\n            {name}\r\n          </h2>\r\n          <p style={{ textAlign: \"center\", color: props.theme.textColor3 }}>\r\n            @{accountId}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <p\r\n        style={{\r\n          textAlign: \"center\",\r\n          color: props.theme.textColor,\r\n          fontWeight: 400,\r\n          fontSize: \"1rem\",\r\n        }}\r\n      >\r\n        {profile?.description}\r\n      </p>\r\n    </div>\r\n\r\n    {state.showEditProfile ? (\r\n      <>\r\n        <Widget\r\n          src=\"saidulbadhon.near/widget/ProfileSidebar.Editor\"\r\n          props={{ showEditProfile }}\r\n        />\r\n\r\n        <button\r\n          style={{ marginBottom: 20, backgroundColor: props.theme.buttonColor }}\r\n          onClick={() => {\r\n            State.update({\r\n              showEditProfile: false,\r\n            });\r\n          }}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </>\r\n    ) : (\r\n      <>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            width: \"100%\",\r\n          }}\r\n        >\r\n          <Widget\r\n            src=\"zahidulislam.near/widget/Profile.SocialLinks\"\r\n            props={{ profile }}\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            State.update({\r\n              showEditProfile: true,\r\n            });\r\n          }}\r\n        >\r\n          Edit Profile\r\n        </button>\r\n\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\r\n          <Widget\r\n            src=\"mob.near/widget/FollowStats\"\r\n            props={{ accountId, theme: props?.theme }}\r\n          />\r\n\r\n          <Widget\r\n            src=\"zahidulislam.near/widget/Profile.IconButton\"\r\n            props={{\r\n              icon: \"https://cdn-icons-png.flaticon.com/512/3179/3179068.png\",\r\n              label: profile?.location ?? \"Add Location\",\r\n              theme: props?.theme,\r\n            }}\r\n          />\r\n        </div>\r\n      </>\r\n    )}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/ProfileSidebar"}
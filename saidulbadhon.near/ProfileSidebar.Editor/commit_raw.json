{"tx_hash": "HPAUAsXH1FoSxPEkSLFHKfYMAsz8Na1aeCBvf777WZsU", "action_id_social": "GWZcQQ4Na8i2RMA6A4gHJFp9L51xGFvLDtu2HU7YKd73-0-widget", "block_id": 88512673, "block_timestamp": "2023-03-31 15:01:37.361", "signer_id": "saidulbadhon.near", "widget_name": "ProfileSidebar.Editor", "source_code": "const accountId = props.accountId || context.accountId;\r\n\r\nif (!accountId) return \"Login or send accountId in the props\";\r\n\r\nconst profile = Social.getr(`${accountId}/profile`);\r\n\r\nconst name = profile?.name;\r\nconst image = profile?.image;\r\n\r\nconst url =\r\n  (image.ipfs_cid\r\n    ? `https://ipfs.near.social/ipfs/${image?.ipfs_cid}`\r\n    : image?.url) || \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\r\n\r\nif (profile === null) {\r\n  return \"Loading\";\r\n}\r\n\r\ninitState({\r\n  profile: profile ?? {},\r\n  linktree: profile.linktree ?? {},\r\n  img: { cid: profile.image.ipfs_cid },\r\n  description: profile.description ?? \"\",\r\n  location: profile.location ?? \"\",\r\n});\r\n\r\nprofile = {\r\n  name: state.profile.name,\r\n  image: {},\r\n  linktree: state.linktree,\r\n  description: state.description,\r\n  location: state.location,\r\n};\r\n\r\nif (state.img.cid) {\r\n  profile.image.ipfs_cid = state.img.cid;\r\n} else if (state.profile.image.url) {\r\n  profile.image.url = state.profile.image.url;\r\n}\r\n\r\nconst styles = {\r\n  inputContainer: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: 4,\r\n  },\r\n  inputLabel: {\r\n    padding: 0,\r\n    margin: 0,\r\n    color: props.theme.textColor3,\r\n  },\r\n  input: {\r\n    width: \"100%\",\r\n    backgroundColor: \"transparent\",\r\n    minHeight: 30,\r\n    border: `1px solid ${theme.borderColor}`,\r\n    borderRadius: 4,\r\n    resize: \"vertical\",\r\n    paddingInline: 8,\r\n    color: props.theme.textColor2,\r\n  },\r\n\r\n  buttonSuccess: {\r\n    fontWeight: 500,\r\n    // border: \"1px solid #d0d7de\",\r\n    width: \"100%\",\r\n    height: 40,\r\n    borderRadius: 4,\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.2s ease-in-out\",\r\n    backgroundColor: \"#2ea043\",\r\n    color: props.theme.buttonTextColor,\r\n  },\r\n};\r\n\r\nreturn (\r\n  <div\r\n    style={{\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      gap: 8,\r\n      width: \"100%\",\r\n    }}\r\n  >\r\n    <div style={styles.inputContainer}>\r\n      <p style={styles.inputLabel}>Profile Picture:</p>\r\n\r\n      <IpfsImageUpload\r\n        image={state.img}\r\n        style={{\r\n          fontWeight: 500,\r\n          // border: \"1px solid #d0d7de\",\r\n          width: \"100%\",\r\n          cursor: \"pointer\",\r\n          height: 40,\r\n          padding: 0,\r\n          borderRadius: 4,\r\n          backgroundColor: props.theme.buttonColor,\r\n          color: props.theme.buttonTextColor,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      />\r\n    </div>\r\n\r\n    <div style={styles.inputContainer}>\r\n      <p style={styles.inputLabel}>Name:</p>\r\n\r\n      <input style={styles.input} type=\"text\" value={state.profile.name} />\r\n    </div>\r\n\r\n    <div style={styles.inputContainer}>\r\n      <p style={styles.inputLabel}>Description:</p>\r\n      <input style={styles.input} type=\"text\" value={state.description} />\r\n    </div>\r\n\r\n    <div style={styles.inputContainer}>\r\n      <p style={styles.inputLabel}>Location:</p>\r\n      <input style={styles.input} type=\"text\" value={state.location} />\r\n    </div>\r\n\r\n    <div\r\n      style={{\r\n        paddingTop: 40,\r\n        display: \"flex\",\r\n        gap: 10,\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      <h3 style={{ color: props.theme.textColor }}>Social accounts</h3>\r\n      <div style={styles.inputContainer}>\r\n        <p style={styles.inputLabel}>Twitter:</p>\r\n\r\n        <input\r\n          style={styles.input}\r\n          type=\"text\"\r\n          value={state.linktree.twitter}\r\n        />\r\n      </div>\r\n\r\n      <div style={styles.inputContainer}>\r\n        <p style={styles.inputLabel}>Github:</p>\r\n        <input style={styles.input} type=\"text\" value={state.linktree.github} />\r\n      </div>\r\n\r\n      <div style={styles.inputContainer}>\r\n        <p style={styles.inputLabel}>Telegram:</p>\r\n        <input\r\n          style={styles.input}\r\n          type=\"text\"\r\n          value={state.linktree.telegram}\r\n        />\r\n      </div>\r\n\r\n      <div style={styles.inputContainer}>\r\n        <p style={styles.inputLabel}>Website:</p>\r\n        <input\r\n          style={styles.input}\r\n          type=\"text\"\r\n          value={state.linktree.website}\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        gap: 20,\r\n        marginTop: 20,\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <CommitButton style={styles.buttonSuccess} data={{ profile }}>\r\n        Save profile\r\n      </CommitButton>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/ProfileSidebar.Editor"}
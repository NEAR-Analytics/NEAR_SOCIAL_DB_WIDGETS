{"tx_hash": "9HdF7nm95dR65hsZXjoThiLJffAsSt7j3sQ6b2AeVSbG", "action_id_social": "H6vbLM2FgYKWTgYZzF2DPdr7JuiuDEj2RkBsQHViJpBL-0-widget", "block_id": 88595461, "block_timestamp": "2023-04-01 17:52:14.467", "signer_id": "saidulbadhon.near", "widget_name": "SearchPage.ComponentItem", "source_code": "const [accountId, widget, widgetName] = props.src.split(\"/\");\nconst metadata = Social.get(\n  `${accountId}/widget/${widgetName}/metadata/**`,\n  \"final\"\n);\nconst tags = Object.keys(metadata.tags || {});\nconst detailsUrl = `/#/adminalpha.near/widget/ComponentDetailsPage?src=${accountId}/widget/${widgetName}`;\nconst appUrl = `/#/${accountId}/widget/${widgetName}`;\nconst accountUrl = `/#/adminalpha.near/widget/ProfilePage?accountId=${accountId}`;\n\nfunction makeUpperCase(sentence) {\n  let words = sentence.split(/[\\s-]+/); // split on spaces or hyphens\n  for (let i = 0; i < words.length; i++) {\n    words[i] = words[i][0].toUpperCase() + words[i].substr(1);\n    if (words[i].includes(\"-\")) {\n      // capitalize after hyphen\n      let hyphenIndex = words[i].indexOf(\"-\");\n      words[i] =\n        words[i].substr(0, hyphenIndex + 1) +\n        words[i][hyphenIndex + 1].toUpperCase() +\n        words[i].substr(hyphenIndex + 2);\n    }\n  }\n  return words.join(\" \");\n}\n\nconst MainContainer = styled.div`\n  width: 100%;\n  height: 100%;\n\n  border: 1px ${props.theme.borderColor} solid;\n  border-radius: 4px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n  position: relative;\n\n  background-color: ${props.theme.backgroundColor};\n`;\nconst TopSection = styled.div`\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Logo = styled.div`\n  width: 100%;\n  aspect-ratio: 1 / 1;\n\n  border-radius: 4px;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n  border-bottom: 1px ${props.theme.borderColor} solid;\n  overflow: hidden;\n  zindex: 9;\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst BottomSection = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  margin: 8px;\n  width: calc(100% - 16px);\n  box-sizing: border-box;\n`;\n\nreturn (\n  <MainContainer>\n    <Widget\n      src=\"saidulbadhon.near/widget/SearchPage.ComponentItem.TimeAgo\"\n      props={{\n        blockHeight: props.blockHeight,\n        keyPath: `${accountId}/widget/${widgetName}`,\n        style: { color: props.theme.textColor2, margin: 0 },\n        theme: props.theme,\n      }}\n    />\n    <TopSection>\n      <Logo>\n        <Widget\n          src=\"mob.near/widget/Image\"\n          props={{\n            image: metadata.image,\n            fallbackUrl:\n              \"https://ipfs.near.social/ipfs/bafkreifc4burlk35hxom3klq4mysmslfirj7slueenbj7ddwg7pc6ixomu\",\n            alt: metadata.name,\n          }}\n        />\n      </Logo>\n\n      <a\n        href={detailsUrl}\n        style={{\n          marginTop: 16,\n          fontSize: 20,\n          fontWeight: 600,\n          color: props.theme.textColor,\n          textDecoration: \"none\",\n          textAlign: \"canter\",\n\n          wordBreak: \"break-all\",\n          textAlign: \"center\",\n          paddingInline: 8,\n        }}\n      >\n        {metadata.name || widgetName}\n      </a>\n\n      <a\n        href={detailsUrl}\n        style={{\n          fontSize: 14,\n          fontWeight: 400,\n          color: props.theme.textColor3,\n          textDecoration: \"none\",\n          marginBottom: 8,\n          paddingInline: 8,\n        }}\n      >\n        @{accountId}\n      </a>\n\n      <div\n        style={{\n          display: \"flex\",\n          gap: 8,\n          flexWrap: \"wrap\",\n          padding: \"0 8px\",\n\n          justifyContent: \"center\",\n        }}\n      >\n        {tags.length > 0 &&\n          tags.map((tag, index) => (\n            <p\n              style={{\n                marginBottom: 0,\n                backgroundColor:\n                  props.theme.name === \"dark\"\n                    ? \"rgba(255,255,255,.075)\"\n                    : \"rgba(0,0,0,.075)\",\n                color: props.theme.textColor,\n                padding: \"4px 8px\",\n                borderRadius: 4,\n                fontSize: 12,\n              }}\n            >\n              {makeUpperCase(tag)}\n            </p>\n          ))}\n      </div>\n    </TopSection>\n\n    <BottomSection>\n      <button\n        href={detailsUrl}\n        style={{\n          backgroundColor: props.theme.buttonColor + 33,\n          color: props.theme.buttonColor,\n          border: \"none\",\n          fontWeight: 600,\n          borderRadius: 4,\n        }}\n      >\n        View Details\n      </button>\n      <button\n        href={appUrl}\n        style={{\n          backgroundColor: props.theme.buttonColor,\n          color: props.theme.buttonTextColor,\n          border: \"none\",\n          fontWeight: 600,\n          borderRadius: 4,\n        }}\n      >\n        Open\n      </button>\n    </BottomSection>\n  </MainContainer>\n);\n", "metadata": null, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/SearchPage.ComponentItem", "branch.draft": NaN}
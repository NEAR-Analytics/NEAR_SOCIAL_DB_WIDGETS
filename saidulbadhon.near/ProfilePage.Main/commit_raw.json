{"tx_hash": "5cckhutimxTiAzTAQ81GbKuFRCyKvd9CryKN8FKHVNv7", "action_id_social": "rgFGskWE9Euyx3caiCT5RHHqyiZUNwTpdDbFyWFDxK1-0-widget", "block_id": 88891518, "block_timestamp": "2023-04-05 17:13:50.150", "signer_id": "saidulbadhon.near", "widget_name": "ProfilePage.Main", "source_code": "const accountId = props.accountId || context.accountId;\r\n\r\nif (!accountId) return \"Login or send accountId in the props\";\r\n\r\nconst profile = Social.getr(`${accountId}/profile`);\r\n\r\nconst allWidgetsHistoryChangesBlocks = Social.keys(\r\n  `${accountId}/widget/*`,\r\n  \"final\",\r\n  {\r\n    return_type: \"History\",\r\n  }\r\n);\r\n\r\nif (allWidgetsHistoryChangesBlocks === null) return \"Loading...\";\r\n\r\nconst widget = allWidgetsHistoryChangesBlocks[accountId].widget;\r\n\r\nconst totalCommits = Object.keys(widget)\r\n  .map((key) => widget[key])\r\n  .flat();\r\n\r\nconst widgets = Social.getr(`${accountId}/widget`) ?? {};\r\n\r\nconst cssFont = fetch(\r\n  \"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap\"\r\n).body;\r\n\r\nconst css = fetch(\r\n  \"https://raw.githubusercontent.com/cryptosynk/near-social-profile/main/css/mainLight.css\"\r\n).body;\r\n\r\nconst theme = \"light\";\r\n\r\nconst Theme = styled.div`\r\n  font-family: \"Open Sans\", sans-serif;\r\n  ${cssFont}\r\n  ${css}\r\n`;\r\n\r\nreturn (\r\n  <Theme>\r\n    <div className=\"rightSection\">\r\n      <div>\r\n        <h2>Widgets</h2>\r\n\r\n        {Object.keys(widgets)?.length > 0 ? (\r\n          <div className=\"widgetsContainer\">\r\n            {Object.keys(widgets)?.map((item, index) => (\r\n              <Widget\r\n                src=\"zahidulislam.near/widget/Profile.WidgetItem\"\r\n                props={{\r\n                  name: item,\r\n                  accountId,\r\n                  commits:\r\n                    allWidgetsHistoryChangesBlocks[accountId].widget[item],\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <p\r\n            style={{\r\n              padding: 20,\r\n              textAlign: \"center\",\r\n              color: \"rgba(0,0,0,.75)\",\r\n            }}\r\n          >\r\n            {profile?.name} does not have any widget.\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <h2>{totalCommits.length} contributions</h2>\r\n        <div style={{ marginTop: 20 }} />\r\n        <Widget\r\n          src=\"zahidulislam.near/widget/Profile.Contributions\"\r\n          props={{ theme: props.theme }}\r\n        />\r\n      </div>\r\n    </div>\r\n  </Theme>\r\n);\r\n", "metadata": null, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/ProfilePage.Main", "branch.draft": NaN}
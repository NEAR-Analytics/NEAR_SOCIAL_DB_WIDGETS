{"tx_hash": "BEo9hn4jAW5bJrV8NqZuhLRpAUfktZhHAuCvNyeUjsfA", "action_id_social": "6c8Gdw1QDpktD5UTeKDRim3Vg74kZkszwCsH1Mq6jbDw-0-widget", "block_id": 93156912, "block_timestamp": "2023-05-31T20:16:40.375Z", "signer_id": "saidulbadhon.near", "widget_name": "s3.buildspace.leftSide", "source_code": "const theme = props.theme;\n\nState.init({\n  showDialog: false,\n  imageUrl: \"\",\n  name: \"\",\n  house: \"spectreseek\",\n  message: \"\",\n  session: \"s3\",\n  year: \"2023\",\n});\n\nconst styles = {\n  inputContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 4,\n  },\n  inputLabel: {\n    padding: 0,\n    margin: 0,\n    color: props.theme.textColor3,\n  },\n  input: {\n    width: \"100%\",\n    backgroundColor: \"transparent\",\n    minHeight: 40,\n    border: `1px solid ${theme.borderColor}`,\n    borderRadius: 4,\n    resize: \"vertical\",\n    paddingInline: 8,\n    color: theme.textColor,\n  },\n\n  buttonSuccess: {\n    fontWeight: 500,\n    width: \"100%\",\n    height: 40,\n    borderRadius: 4,\n    cursor: \"pointer\",\n    transition: \"all 0.2s ease-in-out\",\n    backgroundColor: theme.buttonColor,\n    border: `1px solid ${theme.buttonColor}`,\n    color: theme.buttonTextColor,\n  },\n};\n\nconst handleSubmit = () => {\n  // console.log(\"SUBMIT\");\n\n  const body = {\n    imageUrl: state.imageUrl?.cid,\n    name: state.name,\n    house: state.house,\n    message: state.message,\n    session: state.session,\n    year: state.year,\n  };\n\n  asyncFetch(\n    `https://perzvjxfz9.execute-api.us-east-1.amazonaws.com/production/api/v1/buildspace`,\n    {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    }\n  )\n    .then((res) => {\n      State.update({\n        imageUrl: \"\",\n        name: \"\",\n        house: \"\",\n        message: \"\",\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      State.update({ showDialog: false });\n    });\n};\n\nconst H1Wrapper = styled.h1`\n  font-size: 84px;\n\n  @media screen and (max-width: 800px)  {\n    font-size: 64px;\n  }\n`;\n\nreturn (\n  <>\n    {state.showDialog ? (\n      <div\n        style={{\n          height: \"100%\",\n          maxHeight: \"100dvh\",\n          maxWidth: 400,\n          width: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          gap: 32,\n          position: \"relative\",\n        }}\n      >\n        <div style={styles.inputContainer}>\n          <p style={styles.inputLabel}>Image URL:</p>\n\n          <IpfsImageUpload\n            image={state.imageUrl}\n            style={{\n              fontWeight: 500,\n              // border: \"1px solid #d0d7de\",\n              width: \"100%\",\n              cursor: \"pointer\",\n              height: 40,\n              padding: 0,\n              borderRadius: 4,\n              backgroundColor: props.theme.buttonColor,\n              color: props.theme.buttonTextColor,\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          />\n        </div>\n\n        <div style={styles.inputContainer}>\n          <p style={styles.inputLabel}>Name:</p>\n\n          <input\n            style={styles.input}\n            type=\"text\"\n            placeholder=\"Jon Deo\"\n            value={state.name}\n          />\n        </div>\n\n        <div style={styles.inputContainer}>\n          <p style={styles.inputLabel}>House:</p>\n\n          <select\n            style={{ ...styles.input, backgroundColor: theme.backgroundColor }}\n            value={state.house}\n            onChange={(event) => State.update({ house: event.target.value })}\n          >\n            <option value=\"spectreseek\">Spectreseek</option>\n            <option value=\"alterok\">Alterok</option>\n            <option value=\"gaudmire\">Gaudmire</option>\n            <option value=\"erevald\">Erevald</option>\n          </select>\n        </div>\n\n        <div style={styles.inputContainer}>\n          <p style={styles.inputLabel}>Message:</p>\n\n          <textarea\n            className=\"form-control\"\n            placeholder=\"Write your message here\"\n            rows=\"7\"\n            style={styles.input}\n            type=\"text\"\n            onInput={(event) => {\n              State.update({ message: event.target.value });\n            }}\n            value={state.message}\n          />\n        </div>\n\n        <div\n          style={{\n            display: \"flex\",\n            gap: 20,\n            marginTop: 20,\n            width: \"100%\",\n          }}\n        >\n          <button\n            style={{\n              ...styles.buttonSuccess,\n              backgroundColor: theme.textColor3 + 33,\n              borderColor: theme.textColor3 + 33,\n              color: theme.textColor,\n            }}\n            onClick={() =>\n              State.update({\n                showDialog: false,\n              })\n            }\n          >\n            Back\n          </button>\n\n          <button style={styles.buttonSuccess} onClick={() => handleSubmit()}>\n            Save\n          </button>\n        </div>\n      </div>\n    ) : (\n      <div\n        style={{\n          height: \"100%\",\n          minHeight: \"100vh\",\n          maxHeight: \"100vh\",\n          top: 0,\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"flex-start\",\n          gap: 32,\n          position: \"relative\",\n        }}\n      >\n        <div style={{ width: 150, position: \"absolute\", top: 16, left: 0 }}>\n          <img\n            width=\"100%\"\n            src=\"https://nearpad-images.s3.amazonaws.com/buildspace.png\"\n            alt=\"logoo\"\n          />\n        </div>\n        <div>\n          <h1\n            style={{\n              color: \"#FFF\",\n              lineHeight: 1,\n              fontWeight: 700,\n            }}\n          >\n            #nw s3\n          </h1>\n          <H1Wrapper\n            style={{\n              color: \"#FFF\",\n              lineHeight: 1,\n              fontWeight: 800,\n              // width: \"11ch\",\n            }}\n          >\n            YEARBOOK\n          </H1Wrapper>\n        </div>\n\n        <div style={{ display: \"flex\", gap: 16 }}>\n          <button\n            style={{\n              backgroundColor: theme.buttonTextColor,\n              color: \"#000\",\n              fontSize: 24,\n              fontWeight: 600,\n              padding: \"12px 32px\",\n              border: \"none\",\n\n              borderRadius: 40,\n            }}\n            onClick={() => {\n              State.update({\n                showDialog: true,\n              });\n            }}\n          >\n            Sign Now\n          </button>\n\n          <button\n            style={{\n              backgroundColor: \"transparent\",\n              color: theme.buttonTextColor,\n              fontSize: 24,\n              fontWeight: 500,\n              padding: \"12px 32px\",\n              border: \"none\",\n\n              borderRadius: 40,\n            }}\n            onClick={() => {\n              props.handleBrowseButton();\n            }}\n          >\n            Browse\n          </button>\n        </div>\n      </div>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/s3.buildspace.leftSide", "__row_index": 33}
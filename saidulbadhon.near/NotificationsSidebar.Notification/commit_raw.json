{"tx_hash": "AenKQap2HnHLyg2aRKKFug3gjqNHgVFUhtn5Hbmjy6JU", "action_id_social": "7mc53AW4nUMzWXt3SZrVXiYdooNo4WgS8tEST42XkXcg-0-widget", "block_id": 89052097, "block_timestamp": "2023-04-07 19:50:26.156", "signer_id": "saidulbadhon.near", "widget_name": "NotificationsSidebar.Notification", "source_code": "const { value } = props;\r\nconst { type } = value;\r\nconst item = value?.item || {};\r\nconst path = item.path || \"\";\r\n\r\nconst isComment = path.indexOf(\"/post/comment\") > 0 || type === \"comment\";\r\nconst isPost = !isComment && path.indexOf(\"/post/main\") > 0;\r\nconst likedPost = type === \"like\" && isPost;\r\nconst likedComment = type === \"like\" && isComment;\r\nlet postUrl = `/#/adminalpha.near/widget/PostPage?accountId=${\r\n  props.accountId\r\n}&${isComment ? \"commentBlockHeight\" : \"blockHeight\"}=${props.blockHeight}`;\r\n\r\nif (type === \"like\") {\r\n  const parentAccountId = path.split(\"/\")[0];\r\n  const parentBlockHeight = item.blockHeight;\r\n  postUrl = `/#/adminalpha.near/widget/PostPage?accountId=${parentAccountId}&${\r\n    isComment ? \"commentBlockHeight\" : \"blockHeight\"\r\n  }=${parentBlockHeight}`;\r\n}\r\n\r\nconst supportedTypes = [\r\n  \"poke\",\r\n  \"like\",\r\n  \"follow\",\r\n  \"unfollow\",\r\n  \"comment\",\r\n  \"mention\",\r\n];\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 24px;\r\n  border: none || 1px solid #eceef0;\r\n  box-shadow: none;\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  transition: background-color 200ms;\r\n    backgroundColor: ${props.theme.ui};\r\n\r\n\r\n  &:hover {\r\n    background: ${props.theme.ui2};\r\n  }\r\n\r\n  > *:first-child {\r\n    width: 200px;\r\n    border-right: 1px solid #eceef0;\r\n    padding-right: 24px;\r\n  }\r\n\r\n  > *:last-child {\r\n    margin-left: auto;\r\n  }\r\n\r\n    flex-direction: column;\r\n    align-items: start;\r\n    gap: 8px;\r\n\r\n    > *:first-child {\r\n      width: 100%;\r\n      border-right: none;\r\n      padding-right: 0;\r\n    }\r\n\r\n    > *:last-child {\r\n      margin-left: 0;\r\n    }\r\n    div * {\r\n       color: ${props.theme.textColor2};\r\n   \r\n    }\r\n`;\r\n\r\nconst Text = styled.p`\r\n  margin: 0;\r\n  line-height: 1.5rem;\r\n  color: ${props.theme.textColor}!important;\r\n  font-weight: 400;\r\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\r\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"\")};\r\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"\")};\r\n  white-space: ${(p) => (p.ellipsis ? \"nowrap\" : \"\")};\r\n  overflow-wrap: anywhere;\r\n\r\n  b {\r\n    font-weight: 600;\r\n  color: ${props.theme.textColor}!important;\r\n  }\r\n\r\n  &[href] {\r\n    font-weight: 600;\r\n  color: ${props.theme.textColor}!important;\r\n    display: inline-flex;\r\n    gap: 0.25rem;\r\n\r\n    &:hover,\r\n    &:focus {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Button = styled.a`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  padding: 8px 16px;\r\n  height: 32px;\r\n  border-radius: 100px;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 15px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  background: #fbfcfd;\r\n  border: 1px solid #d7dbdf;\r\n  color: #006adc !important;\r\n  white-space: nowrap;\r\n\r\n  &.button--primary {\r\n    width: 100%;\r\n    color: #006adc !important;\r\n\r\n    @media (max-width: 1200px) {\r\n      width: auto;\r\n    }\r\n  }\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background: #ecedee;\r\n    text-decoration: none;\r\n    outline: none;\r\n  }\r\n\r\n  i {\r\n    color: #7e868c;\r\n  }\r\n\r\n  .bi-16 {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nif (type && type.startsWith(\"devgovgigs/\")) {\r\n  return (\r\n    <Widget src=\"mob.near/widget/Notification.Item.DevGov\" props={props} />\r\n  );\r\n}\r\n\r\nif (!supportedTypes.includes(type)) return <></>;\r\n\r\nreturn (\r\n  <Wrapper>\r\n    <div>\r\n      <Widget\r\n        src=\"adminalpha.near/widget/AccountProfile\"\r\n        props={{ accountId: props.accountId }}\r\n      />\r\n    </div>\r\n\r\n    <Text bold>\r\n      {type === \"follow\" && <>Followed you</>}\r\n      {type === \"unfollow\" && <>Unfollowed you</>}\r\n      {type === \"poke\" && <>Poked you</>}\r\n      <Text as=\"a\" href={postUrl}>\r\n        {type === \"like\" && likedPost && <>Liked your post</>}\r\n        {type === \"like\" && likedComment && <>Liked your comment</>}\r\n        {type === \"comment\" && <>Commented on your post</>}\r\n        {type === \"mention\" && <>Mentioned you</>}\r\n      </Text>\r\n      <Widget\r\n        src=\"mob.near/widget/TimeAgo\"\r\n        props={{ blockHeight: props.blockHeight }}\r\n      />{\" \"}\r\n      ago\r\n    </Text>\r\n\r\n    <div>\r\n      {(type === \"follow\" || type === \"unfollow\") && (\r\n        <Widget\r\n          src=\"adminalpha.near/widget/FollowButton\"\r\n          props={{ accountId: props.accountId }}\r\n        />\r\n      )}\r\n\r\n      {type === \"poke\" && (\r\n        <Widget\r\n          src=\"adminalpha.near/widget/PokeButton\"\r\n          props={{ accountId: props.accountId, back: true, primary: true }}\r\n        />\r\n      )}\r\n\r\n      {(type === \"like\" || type === \"comment\" || type === \"mention\") && (\r\n        <Button href={postUrl}>View {isComment ? \"Comment\" : \"Post\"}</Button>\r\n      )}\r\n    </div>\r\n  </Wrapper>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/NotificationsSidebar.Notification"}
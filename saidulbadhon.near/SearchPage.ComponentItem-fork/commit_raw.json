{"tx_hash": "8X3tMvW5MNXZ9qxdrLP7hsmjZ9cUug2H6VAzAayyR75D", "action_id_social": "9NJm5mqL8uewMa9LgTkjibVap8tnKKrVJApatmmr53ZR-0-widget", "block_id": 94190488, "block_timestamp": "2023-06-14T16:40:35.196Z", "signer_id": "saidulbadhon.near", "widget_name": "SearchPage.ComponentItem-fork", "source_code": "const [accountId, widget, widgetName] = props.src.split(\"/\");\nconst metadata = Social.get(\n  `${accountId}/widget/${widgetName}/metadata/**`,\n  \"final\"\n);\nconst tags = Object.keys(metadata.tags || {});\nconst detailsUrl = `/components/${accountId}/widget/${widgetName}/details`;\nconst appUrl = `/components/${accountId}/widget/${widgetName}`;\nconst accountUrl = `/adminalpha.near/widget/ProfilePage?accountId=${accountId}`;\n\nfunction makeUpperCase(sentence) {\n  let words = sentence.split(/[\\s-]+/); // split on spaces or hyphens\n  for (let i = 0; i < words.length; i++) {\n    words[i] = words[i][0].toUpperCase() + words[i].substr(1);\n    if (words[i].includes(\"-\")) {\n      // capitalize after hyphen\n      let hyphenIndex = words[i].indexOf(\"-\");\n      words[i] =\n        words[i].substr(0, hyphenIndex + 1) +\n        words[i][hyphenIndex + 1].toUpperCase() +\n        words[i].substr(hyphenIndex + 2);\n    }\n  }\n  return words.join(\" \");\n}\n\nconst MainContainer = styled.div`\n  width: 100%;\n\n  display: flex;\n  gap: 8px;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n  position: relative;\n  padding: 8px 8px;\n\n  background-color:  ${\n    props.selectedItem === accountId + \"/widget/\" + widgetName\n      ? props.theme.ui2\n      : props.theme.backgroundColor\n  };\n  &:hover{\n    background-color: ${props.theme.ui2};\n    outline:none;\n    border:none;\n  }\n`;\n\nconst TopSection = styled.div`\n  width: 100%;\n  height:100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n`;\n\nconst Logo = styled.div`\n  width: 75px;\n  min-width:75px;\n  height:75px;\n  aspect-ratio: 1 / 1;\n  cursor: pointer;\n\n  border-radius: 4px;\n  overflow: hidden;\n  zindex: 9;\n\n  img {\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nconst BottomSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  box-sizing: border-box;\n`;\n\nconst Button = styled.button`\n  background-color: ${props.theme.buttonColor};\n  color: ${props.theme.buttonTextColor};\n  width: 100%;\n  height:30px;\n  width:30px;\n  outline:none;\n  transition: all .2s ease-in-out;\n\n  border: none;\n  font-weight: 600;\n  border-radius: 4px;\n\n  &:hover{\n    background-color: ${props.theme.buttonColor}cc;\n    outline:none;\n    border:none;\n  }\n  \n  &:active{\n    background-color: ${props.theme.buttonColor}aa;\n  }\n`;\nconst Button2 = styled.button`\n  background-color: ${props.theme.buttonColor}22;\n  color: ${props.theme.buttonColor};\n  width: 100%;\n  height: 30px;\n  width: 30px;\n  border-radius:4px;\n\n  outline:none;\n  transition: all .2s ease-in-out;\n\n  border: none;\n  font-weight: 600;\n\n  &:hover{\n    background-color: ${props.theme.buttonColor}44;\n  color: ${props.theme.buttonColor};\n    outline:none;\n    border:none;\n  }\n  \n  &:active{\n    background-color: ${props.theme.buttonColor};\n   color: ${props.theme.buttonTextColor};\n }\n`;\n\nreturn (\n  <MainContainer>\n    <Logo\n      onClick={() =>\n        props?.onDetailsUrlClick(`${accountId}/widget/${widgetName}`)\n      }\n    >\n      <Widget\n        src=\"mob.near/widget/Image\"\n        props={{\n          image: metadata.image,\n          fallbackUrl:\n            \"https://ipfs.near.social/ipfs/bafkreifc4burlk35hxom3klq4mysmslfirj7slueenbj7ddwg7pc6ixomu\",\n          alt: metadata.name,\n        }}\n      />\n    </Logo>\n\n    <TopSection>\n      <p\n        href={detailsUrl}\n        style={{\n          fontSize: 14,\n          fontWeight: 600,\n          color: props.theme.textColor,\n          textDecoration: \"none\",\n          padding: 0,\n          margin: 0,\n          wordBreak: \"break-all\",\n          textAlign: \"left\",\n          cursor: \"pointer\",\n        }}\n        onClick={() =>\n          props?.onDetailsUrlClick(`${accountId}/widget/${widgetName}`)\n        }\n      >\n        {metadata.name || widgetName}\n      </p>\n\n      <p\n        style={{\n          fontSize: 13,\n          fontWeight: 500,\n          color: props.theme.textColor3,\n          textDecoration: \"none\",\n          padding: 0,\n          margin: 0,\n          wordBreak: \"break-all\",\n          textAlign: \"left\",\n          cursor: \"pointer\",\n        }}\n        onClick={() =>\n          props?.onDetailsUrlClick(`${accountId}/widget/${widgetName}`)\n        }\n      >\n        @{accountId}\n      </p>\n\n      <div\n        style={{ cursor: \"pointer\" }}\n        onClick={() =>\n          props?.onDetailsUrlClick(`${accountId}/widget/${widgetName}`)\n        }\n      >\n        <Widget\n          src=\"saidulbadhon.near/widget/SearchPage.ComponentItem.TimeAgo\"\n          props={{\n            blockHeight: props.blockHeight,\n            keyPath: `${accountId}/widget/${widgetName}`,\n            style: {\n              color: props.theme.textColor3,\n              margin: 0,\n              fontSize: 11,\n              fontWeight: 400,\n            },\n            theme: props.theme,\n          }}\n        />\n      </div>\n      {tags.length > 0 && tags.length > 0 && (\n        <div\n          style={{\n            display: \"flex\",\n            gap: 4,\n            flexWrap: \"wrap\",\n            marginTop: 8,\n\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {tags.map((tag, index) => {\n            return (\n              index <= 1 && (\n                <p\n                  style={{\n                    marginBottom: 0,\n                    backgroundColor:\n                      props.theme.name === \"dark\"\n                        ? \"rgba(255,255,255,.075)\"\n                        : \"rgba(0,0,0,.075)\",\n                    color: props.theme.textColor,\n                    padding: \"0px 3px\",\n                    fontWeight: 500,\n                    borderRadius: 4,\n                    fontSize: 11,\n                  }}\n                >\n                  {makeUpperCase(tag)}\n                </p>\n              )\n            );\n          })}\n          {tags.length >= 2 && (\n            <p\n              style={{\n                marginBottom: 0,\n                backgroundColor:\n                  props.theme.name === \"dark\"\n                    ? \"rgba(255,255,255,.075)\"\n                    : \"rgba(0,0,0,.075)\",\n                color: props.theme.textColor,\n                padding: \"0px 3px\",\n                fontWeight: 500,\n                borderRadius: 4,\n                fontSize: 11,\n              }}\n              title={tags?.map((element, index) => {\n                if (index >= 2) {\n                  return ` ${makeUpperCase(element)}`;\n                }\n              })}\n            >\n              +{tags.length - 2} more\n            </p>\n          )}\n        </div>\n      )}\n    </TopSection>\n\n    <BottomSection>\n      {/*<Button\n        data-toggle=\"tooltip\"\n        data-placement=\"top\"\n        title=\"Copy Widget\"\n        onClick={() =>\n          props?.onCopyButtonClick(`${accountId}/widget/${widgetName}`)\n        }\n      >\n        <i class=\"bi bi-clipboard-check\"></i>\n      </Button>\n\n      <a href={appUrl} target=\"_blank\">\n        <Button2\n          type=\"button\"\n          data-toggle=\"tooltip\"\n          data-placement=\"top\"\n          title=\"Open Component\"\n        >\n          <i class=\"bi bi-box-arrow-up-right\"></i>\n        </Button2>\n      </a>\n      */}\n\n      {/*// <Button\n      //   data-toggle=\"tooltip\"\n      //   data-placement=\"top\"\n      //   title=\"Copy Widget\"\n      //   onClick={() =>\n      //     props?.onCopyButtonClick(`${accountId}/widget/${widgetName}`)\n      //   }\n      // >\n      //   <i class=\"bi bi-clipboard-check\"></i>\n      // </Button>*/}\n\n      <a href={`/#/editor/${accountId}/widget/${widgetName}`} target=\"_blank\">\n        <Button\n          data-toggle=\"tooltip\"\n          data-placement=\"top\"\n          title=\"Copy Widget\"\n          onClick={() =>\n            props?.onCopyButtonClick(`${accountId}/widget/${widgetName}`)\n          }\n        >\n          <i class=\"bi bi-git\"></i>\n        </Button>\n      </a>\n\n      <Button2\n        data-toggle=\"tooltip\"\n        data-placement=\"top\"\n        title=\"Copy Widget\"\n        onClick={() =>\n          props?.onCopyButtonClick(`${accountId}/widget/${widgetName}`)\n        }\n      >\n        <i class=\"bi bi-clipboard-check\"></i>\n      </Button2>\n\n      {/*<a href={appUrl} target=\"_blank\">\n        <Button2\n          type=\"button\"\n          data-toggle=\"tooltip\"\n          data-placement=\"top\"\n          title=\"Open Component\"\n        >\n          <i class=\"bi bi-box-arrow-up-right\"></i>\n        </Button2>\n      </a>\n      */}\n    </BottomSection>\n  </MainContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/SearchPage.ComponentItem-fork", "__row_index": 2}
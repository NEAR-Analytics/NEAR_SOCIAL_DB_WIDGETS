{"tx_hash": "EmCzw4xqTSZiD8T4Cri2k3bZ9HNebqwCWec7nFdb5r3o", "action_id_social": "5nhba2XgoeUDwzCkMk1dAmNVsPPJAdtnFRx7g5sWGPGe-0-widget", "block_id": 92905015, "block_timestamp": "2023-05-28T12:47:53.472Z", "signer_id": "saidulbadhon.near", "widget_name": "s3.buildspace.browser", "source_code": "const theme = props.theme;\n\nState.init({\n  images: [],\n  showBrowser: false,\n  selectedHouse: \"\",\n  users: [],\n});\nconst res = fetch(\n  \"https://t4zr86bzl5.execute-api.us-east-1.amazonaws.com/production/api/v1/buildspace\"\n);\n\nif (!res.body)\n  return (\n    <div style={{ height: \"100vh\", width: \"100%\", backgroundColor: \"#000\" }} />\n  );\n\nconst handleUpdateHouse = (houseName) => {\n  let xUsers = [];\n\n  res.body?.map((i) => {\n    if (i.house === houseName) {\n      xUsers.push(i);\n    }\n  });\n\n  State.update({\n    selectedHouse: state.selectedHouse === houseName ? \"\" : houseName,\n\n    users: xUsers,\n  });\n};\n\nreturn (\n  <div className=\"s3BuildspaceHome\">\n    <div\n      style={{\n        minHeight: \"100vh\",\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n        backgroundColor: \"#000\" || theme.backgroundColor,\n        color: \"#FFF\",\n\n        backgroundColor:\n          (state.selectedHouse === \"spectreseek\" && \"#eb413b22\") ||\n          (state.selectedHouse === \"alterok\" && \"#5499ff22\") ||\n          (state.selectedHouse === \"erevald\" && \"#10fc5522\") ||\n          (state.selectedHouse === \"gaudmire\" && \"#f5e03a22\") ||\n          \"#000000\",\n      }}\n    >\n      <div\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          maxWidth: 1250,\n          padding: 16,\n          display: \"flex\",\n          gap: 16,\n          flexDirection: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"center\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            position: \"relative\",\n            width: \"100%\",\n          }}\n        >\n          <button\n            style={{\n              position: \"absolute\",\n              left: 0,\n              backgroundColor: \"transparent\",\n              borderColor: \"transparent\",\n            }}\n            onClick={() => props.handleBrowseButton()}\n          >\n            \ud83e\udc08\n          </button>\n          <div>\n            <h1 style={{ fontWeight: 700, textAlign: \"center\" }}>\n              #nw s3 YEARBOOK | state: {state.selectedHouse}\n            </h1>\n\n            <p\n              style={{\n                fontWeight: 500,\n                color: theme.textColor2,\n                textAlign: \"center\",\n              }}\n            >\n              {res.body?.length} builders\n            </p>\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            position: \"relative\",\n            width: \"100%\",\n            gap: 8,\n          }}\n        >\n          <button\n            style={{\n              backgroundColor: \"#eb413b33\",\n              color: \"#eb413b\",\n              border: \"none\",\n            }}\n            onClick={() => {\n              handleUpdateHouse(\"spectreseek\");\n            }}\n          >\n            Spectreseek\n          </button>\n          <button\n            style={{\n              backgroundColor: \"#5499ff33\",\n              color: \"#5499ff\",\n              border: \"none\",\n            }}\n            onClick={() => {\n              handleUpdateHouse(\"alterok\");\n            }}\n          >\n            Alterok\n          </button>\n          <button\n            style={{\n              backgroundColor: \"#10fc5533\",\n              color: \"#10fc55\",\n              border: \"none\",\n            }}\n            onClick={() => {\n              handleUpdateHouse(\"erevald\");\n            }}\n          >\n            Erevald\n          </button>\n          <button\n            style={{\n              backgroundColor: \"#f5e03a33\",\n              color: \"#f5e03a\",\n              border: \"none\",\n            }}\n            onClick={() => {\n              handleUpdateHouse(\"gaudmire\");\n            }}\n          >\n            Gaudmire\n          </button>\n        </div>\n\n        <div\n          style={{\n            width: \"100%\",\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fill, minmax(200px, 1fr))\",\n            gap: 16,\n            height: \"100%\",\n          }}\n        >\n          {state.selectedHouse.length > 2\n            ? state.users?.map((card, index) => (\n                <Widget\n                  src=\"saidulbadhon.near/widget/s3.buildspace.browser.card\"\n                  props={{\n                    theme,\n                    card,\n                  }}\n                />\n              ))\n            : res.body?.map((card, index) => (\n                <div>\n                  <p>NOT MATCH, {console.log(state)}</p>\n\n                  <Widget\n                    src=\"saidulbadhon.near/widget/s3.buildspace.browser.card\"\n                    props={{\n                      theme,\n                      card,\n                    }}\n                  />\n                </div>\n              ))}\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/saidulbadhon.near/widget/s3.buildspace.browser", "__row_index": 26}
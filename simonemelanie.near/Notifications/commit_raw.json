{"tx_hash": "8GsMYRzAvPeru8SQgbt4VZimb8N1azVQayP7uY8CKEff", "action_id_social": "Gx7oDQxUTuswRrHt9Hm6ikwhCJ1DFvQP8VM6zgo9LwyZ-0-widget", "block_id": 79491863, "block_timestamp": "2022-11-29 00:18:57.556", "signer_id": "simonemelanie.near", "widget_name": "Notifications", "source_code": "const card = {\n  background: \"linear-gradient(to right, #fc4491, #ff952b)\",\n  border: \"1px solid black\",\n  borderRadius: \"5px\",\n  textAlign: \"center\",\n  margin: \"5px 0\",\n};\n\nconst container = {};\n\nconst accountId = context.accountId;\n\nif (context.loading) {\n  return \"Loading\";\n}\n\nif (!accountId) {\n  return \"Sign in with NEAR Wallet\";\n}\n\nconst notifications = Social.index(\"notify\", accountId, { order: \"desc\" });\n\nif (notifications == null) {\n  return \"Loading\";\n}\n\nif (notifications.length == 0) {\n  return \"No notifications\";\n}\n\nStorage.set(\"lastBlockHeight\", notifications[0].blockHeight);\n\nconst notificationsArray = [];\n\nnotifications.forEach((notification) => {\n  let renderCard = (\n    <div style={card}>\n      <p>\n        <strong>{notification.accountId}</strong> followed you\n      </p>\n    </div>\n  );\n  if (notification.value.type == \"follow\") {\n    renderCard = (\n      <div style={card}>\n        <p>\n          <strong>{notification.accountId}</strong> followed you\n        </p>\n      </div>\n    );\n    notificationsArray.push(renderCard);\n  }\n});\n\nreturn <div style={container}>{notificationsArray}</div>;\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/simonemelanie.near/widget/Notifications", "metadata.description": NaN, "metadata.image.url": NaN, "metadata.name": NaN, "metadata.tags.feed": NaN, "metadata.tags.notification": NaN, "metadata.tags.widget": NaN}
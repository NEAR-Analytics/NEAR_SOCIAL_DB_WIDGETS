{"tx_hash": "GwwNJQpaArscwxu4rJjrVz7LFnE4NFBCu7t5XNtx8y7d", "action_id_social": "8QRi557qwPskSPkSjxZ4HisdT7TDJ8pAJirU8GWRHyY2-0-widget", "block_id": 80206124, "block_timestamp": "2022-12-08 18:52:21.988", "signer_id": "devgovgigs.near", "widget_name": "Submission", "source_code": "const ownerId = \"devgovgigs.near\";\nconst submission = props.submission;\nconst submission_id = submission.id;\n\nfunction readableDate(UNIX_timestamp) {\n  var a = new Date(parseInt(UNIX_timestamp) / 1000000);\n  return a.toDateString() + \" \" + a.toLocaleTimeString();\n}\n\nconst timestamp = readableDate(\n  submission.timestamp ? submission.timestamp / 1000000 : Date.now()\n);\n\nconst sponsorships = props.isPreview\n  ? null\n  : Near.view(ownerId, \"get_sponsorships\", {\n      submission_id,\n    });\n\nconst sponsorshipsList = props.isPreview ? null : (\n  <div class=\"row\">\n    <a\n      class=\"card-link\"\n      data-bs-toggle=\"collapse\"\n      href={`#collapseSponsorshipEditor${submission_id}`}\n      role=\"button\"\n      aria-expanded=\"false\"\n      aria-controls={`collapseSponsorshipEditor${submission_id}`}\n    >\n      Add Sponsorship\n    </a>\n\n    <div class=\"collapse\" id={`collapseSponsorshipEditor${submission_id}`}>\n      <Widget\n        src={`${ownerId}/widget/SponsorshipEditor`}\n        props={{ sponsorship: { submission_id } }}\n      />\n    </div>\n    <div class=\"span8 offset4\">\n      {sponsorships\n        ? sponsorships.map((sponsorship) => {\n            return (\n              <Widget\n                src={`${ownerId}/widget/Sponsorship`}\n                props={{ sponsorship }}\n              />\n            );\n          })\n        : \"\"}\n    </div>\n  </div>\n);\n\nconst Card = styled.div`\n  &:hover {\n    background: #eee;\n  }\n`;\n\nreturn (\n  <div className=\"row\">\n    <Card className=\"mb-2 card\">\n      <div className=\"card-body\">\n        <h5 class=\"card-title\">Submission: {submission.name}</h5>\n        <p class=\"card-text\">{submission.description}</p>\n        <p class=\"card-text\">\n          <small class=\"text-muted\">\n            {timestamp}\n            <Widget\n              src={`mob.near/widget/ProfileLine`}\n              props={{ accountId: submission.author_id }}\n            />\n          </small>\n        </p>\n        {sponsorshipsList}\n      </div>\n    </Card>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devgovgigs.near/widget/Submission"}
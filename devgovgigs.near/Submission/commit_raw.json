{"tx_hash": "BoDCt78CREuFNeMC1rof2h9dN9sboUqQQmTvJxF2cmep", "action_id_social": "EHh9d3xtxnBjiT1Cq62nNDDVMRSY9C51S2AH5qhJoHa7-0-widget", "block_id": 80521690, "block_timestamp": "2022-12-13 01:01:21.497", "signer_id": "devgovgigs.near", "widget_name": "Submission", "source_code": "const ownerId = \"devgovgigs.near\";\nconst submission = props.submission;\nconst submission_id = submission.id;\n\nfunction readableDate(timestamp) {\n  var a = new Date(timestamp);\n  return a.toDateString() + \" \" + a.toLocaleTimeString();\n}\n\nconst timestamp = readableDate(\n  submission.timestamp ? submission.timestamp / 1000000 : Date.now()\n);\n\nconst sponsorships = props.isPreview\n  ? null\n  : Near.view(ownerId, \"get_sponsorships\", {\n      submission_id,\n    });\n\nconst comments = props.isPreview\n  ? null\n  : Near.view(ownerId, \"get_comments\", {\n      post_type: \"Submission\",\n      post_id: submission_id,\n    });\n\nconst buttonsFooter = props.isPreview ? null : (\n  <div class=\"row\">\n    <div class=\"row\">\n      <div class=\"col-2\">\n        <a\n          class=\"card-link\"\n          data-bs-toggle=\"collapse\"\n          href={`#collapseSponsorshipEditor${submission_id}`}\n          role=\"button\"\n          aria-expanded=\"false\"\n          aria-controls={`collapseSponsorshipEditor${submission_id}`}\n        >\n          <i class=\"bi bi-cash-coin\"> </i> Sponsor\n        </a>\n      </div>\n      <div class=\"col-2\" onClick={onLike}>\n        <a class=\"bi bi-heart\" role=\"button\">\n          {\" \"}\n          Like\n        </a>\n      </div>\n      <div class=\"col-2\">\n        <a\n          class=\"card-link\"\n          data-bs-toggle=\"collapse\"\n          href={`#collapseCommentEditor${submission_id}`}\n          role=\"button\"\n          aria-expanded=\"false\"\n          aria-controls={`collapseCommentEditor${submission_id}`}\n        >\n          <i class=\"bi bi-chat\"> </i> Comment\n        </a>\n      </div>\n    </div>\n    <div class=\"collapse\" id={`collapseSponsorshipEditor${submission_id}`}>\n      <Widget\n        src={`${ownerId}/widget/SponsorshipEditor`}\n        props={{ sponsorship: { submission_id } }}\n      />\n    </div>\n    <div class=\"collapse\" id={`collapseCommentEditor${submission_id}`}>\n      <Widget\n        src={`${ownerId}/widget/CommentEditor`}\n        props={{ comment: { post_type: \"Submission\", post_id: submission_id } }}\n      />\n    </div>\n  </div>\n);\n\nconst sponsorshipsList = props.isPreview ? null : (\n  <div class=\"row\">\n    <div>\n      {sponsorships\n        ? sponsorships.map((sponsorship) => {\n            return (\n              <Widget\n                src={`${ownerId}/widget/Sponsorship`}\n                props={{ sponsorship }}\n              />\n            );\n          })\n        : \"\"}\n    </div>\n  </div>\n);\n\nconst commentsList = props.isPreview ? null : (\n  <div class=\"row\">\n    <div>\n      {comments\n        ? comments.map((comment) => {\n            return (\n              <Widget src={`${ownerId}/widget/Comment`} props={{ comment }} />\n            );\n          })\n        : \"\"}\n    </div>\n  </div>\n);\n\nconst Card = styled.div`\n  &:hover {\n    box-shadow: rgba(3, 102, 214, 0.3) 0px 0px 0px 3px;\n  }\n`;\n\nreturn (\n  <Card className=\"card my-2 border-secondary\">\n    <div className=\"card-header\">\n      <small class=\"text-muted\">\n        <div class=\"row justify-content-between\">\n          <div class=\"col-4\">\n            <Widget\n              src={`mob.near/widget/ProfileLine`}\n              props={{ accountId: submission.author_id }}\n            />\n          </div>\n          <div class=\"col-4\">\n            <div class=\"d-flex justify-content-end\">{timestamp}</div>\n          </div>\n        </div>\n      </small>\n    </div>\n    <div className=\"card-body\">\n      <h5 class=\"card-title\">\n        <div className=\"row justify-content-between\">\n          <div class=\"col-10\">\n            <i class=\"bi bi-rocket\"> </i>Submission: {submission.name}\n          </div>\n          <div class=\"col-2 \">\n            <div class=\"d-flex justify-content-evenly\">\n              <div class=\"bi bi-heart-fill\">{submission.likes.length}</div>\n\n              <div class=\"bi bi-chat-fill\">{comments.length}</div>\n            </div>\n          </div>\n        </div>\n      </h5>\n      <Markdown class=\"card-text\" text={submission.description}></Markdown>\n      {buttonsFooter}\n      {sponsorshipsList}\n      {commentsList}\n    </div>\n  </Card>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devgovgigs.near/widget/Submission"}
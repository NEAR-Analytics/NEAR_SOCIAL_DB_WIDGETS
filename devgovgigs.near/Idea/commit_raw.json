{"tx_hash": "3yL3EdeBxp5E3yCGDeTdiBGhR66xtzoX9LQmi4gS9RT5", "action_id_social": "QEd6CgKihbS7v3rQggBXmEBHnTUb31RqLCwbEKQPZuw-0-widget", "block_id": 80144817, "block_timestamp": "2022-12-07 22:53:26.423", "signer_id": "devgovgigs.near", "widget_name": "Idea", "source_code": "const idea_id = props.idea_id ? parseInt(props.idea_id) : 0;\nconst idea =\n  props.idea ?? Near.view(\"devgovgigs.near\", \"get_idea\", { idea_id });\n\nfunction readableDate(timestamp) {\n  var a = new Date(timestamp);\n  return a.toDateString() + \" \" + a.toLocaleTimeString();\n}\n\nconst timestamp = readableDate(\n  idea.timestamp ? idea.timestamp / 1000000 : Date.now()\n);\n\nconst submissions = Near.view(\"devgovgigs.near\", \"get_submissions\", {\n  idea_id,\n});\n\nconst submissionHeader = submissions.length > 0 ? <h3>Submissions</h3> : null;\n\nreturn (\n  <div className=\"row\">\n    <div className=\"mb-2 card\">\n      <div className=\"card-body\">\n        <div>\n          <Widget\n            src={`mob.near/widget/ProfileLine`}\n            props={{ accountId: idea.submitter_id }}\n          />\n        </div>\n        <div>{timestamp}</div>\n        <hr />\n        <h4>{idea.name}</h4>\n        <p>{idea.description}</p>\n        {submissionHeader}\n        <div class=\"row\">\n          <div class=\"span8 offset4\">\n            {submissions\n              ? submissions.map((submission) => {\n                  return (\n                    <Widget\n                      src=\"devgovgigs.near/widget/Submission\"\n                      props={{ submission }}\n                    />\n                  );\n                })\n              : \"\"}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devgovgigs.near/widget/Idea"}
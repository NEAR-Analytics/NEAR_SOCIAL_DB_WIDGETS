{"tx_hash": "HxdUPwQfrkidKskbAE8d2cEPAyhCHHZopvNqu1P3FWJp", "action_id_social": "AwqVoWJi24pDfACTXZS4euWsi2PmXXZYuK1DGcxLVn8v-0-widget", "block_id": 80203491, "block_timestamp": "2022-12-08 18:00:46.428", "signer_id": "devgovgigs.near", "widget_name": "Idea", "source_code": "const ownerId = \"devgovgigs.near\";\n\nconst idea_id = props.idea.id ? parseInt(props.idea.id) : 0;\nconst idea = props.idea ?? Near.view(ownerId, \"get_idea\", { idea_id });\n\nfunction readableDate(timestamp) {\n  var a = new Date(timestamp);\n  return a.toDateString() + \" \" + a.toLocaleTimeString();\n}\n\nconst timestamp = readableDate(\n  idea.timestamp ? idea.timestamp / 1000000 : Date.now()\n);\n\nconst submissions = props.isPreview\n  ? null\n  : Near.view(ownerId, \"get_submissions\", {\n      idea_id,\n    });\n\nconst submissionsList = props.isPreview ? null : (\n  <div class=\"row\">\n    <div class=\"collapse\" id={`collapseSubmissionEditor${idea_id}`}>\n      <Widget src={`${ownerId}/widget/SubmissionEditor`} props={{ idea_id }} />\n    </div>\n    <div>\n      {submissions\n        ? submissions.map((submission) => {\n            return (\n              <Widget\n                src={`${ownerId}/widget/Submission`}\n                props={{ submission }}\n              />\n            );\n          })\n        : \"\"}\n    </div>\n  </div>\n);\n\nconst Card = styled.div`\n  &:hover {\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;\n  }\n`;\n\nreturn (\n  <div className=\"row\">\n    <Card className=\"card\">\n      <div className=\"card-body\">\n        <h5 class=\"card-title\">Idea: {idea.name}</h5>\n        <p class=\"card-text\">{idea.description}</p>\n        <p class=\"card-text\">\n          <small class=\"text-muted\">\n            {timestamp}{\" \"}\n            <Widget\n              src={`mob.near/widget/ProfileLine`}\n              props={{ accountId: idea.author_id }}\n            />\n          </small>\n        </p>\n\n        <a\n          class=\"card-link\"\n          data-bs-toggle=\"collapse\"\n          href={`#collapseSubmissionEditor${idea_id}`}\n          role=\"button\"\n          aria-expanded=\"false\"\n          aria-controls={`collapseSubmissionEditor${idea_id}`}\n        >\n          Add Submission\n        </a>\n        {submissionsList}\n      </div>\n    </Card>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devgovgigs.near/widget/Idea"}
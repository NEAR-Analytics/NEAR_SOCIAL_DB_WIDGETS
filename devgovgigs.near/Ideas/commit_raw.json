{"tx_hash": "8uyqqFNybuVm3TvYGgDZYmvhRQcMsWRfG6EeuaQfuwKE", "action_id_social": "7H2LZzxMuxMBZmdnXn8X1ZAjMYpy7gXBDT2v85gaHRCw-0-widget", "block_id": 82289986, "block_timestamp": "2023-01-06 00:02:46.515", "signer_id": "devgovgigs.near", "widget_name": "Ideas", "source_code": "const ownerId = \"devgovgigs.near\";\nconst postId = \"Root\";\nconst allPosts = Near.view(ownerId, \"get_all_post_ids\").reverse();\nconst allTopPosts = Near.view(ownerId, \"get_children_ids\").reverse();\n\nconst postIds = props.label\n  ? Near.view(ownerId, \"get_posts_by_label\", { label: props.label }).reverse()\n  : props.recency == \"all\"\n  ? allPosts\n  : allTopPosts;\n\ninitState({\n  postIds,\n});\n\nconst home = \"https://near.social/#/devgovgigs.near/widget/Ideas\";\n\nconst labels = Near.view(ownerId, \"get_all_labels\");\nconst wrappedLabels = labels.map((l) => {\n  return { name: l };\n});\n\nconst onLabelSelected = (selectedLabels) => {\n  if (selectedLabels.length == 1) {\n    let newPostIds = Near.view(ownerId, \"get_posts_by_label\", {\n      label: selectedLabels[0].name,\n    }).reverse();\n\n    State.update({\n      postIds: newPostIds,\n    });\n  }\n};\n\n// TODO: Sort ideas based on how much in total USD equivalent was pledged through sponsorships.\n// TODO: Sort ideas based on a criteria that includes social activity, like attestations.\n\nconst Card = styled.div`\n  &:hover {\n    box-shadow: rgba(3, 102, 214, 0.3) 0px 0px 0px 3px;\n  }\n\n`;\n\nconst editorsFooter = props.isPreview ? null : (\n  <div class=\"row\" id={`accordion${postId}`}>\n    <div\n      class=\"collapse\"\n      id={`collapseCommentEditor${postId}`}\n      data-bs-parent={`#accordion${postId}`}\n    >\n      <Widget\n        src={`${ownerId}/widget/PostEditor`}\n        props={{\n          postType: \"Comment\",\n          parentId: null,\n        }}\n      />\n    </div>\n    <div\n      class=\"collapse\"\n      id={`collapseIdeaEditor${postId}`}\n      data-bs-parent={`#accordion${postId}`}\n    >\n      <Widget\n        src={`${ownerId}/widget/PostEditor`}\n        props={{\n          postType: \"Idea\",\n          parentId: null,\n        }}\n      />\n    </div>\n    <div\n      class=\"collapse\"\n      id={`collapseSubmissionEditor${postId}`}\n      data-bs-parent={`#accordion${postId}`}\n    >\n      <Widget\n        src={`${ownerId}/widget/PostEditor`}\n        props={{\n          postType: \"Submission\",\n          parentId: null,\n        }}\n      />\n    </div>\n    <div\n      class=\"collapse\"\n      id={`collapseAttestationEditor${postId}`}\n      data-bs-parent={`#accordion${postId}`}\n    >\n      <Widget\n        src={`${ownerId}/widget/PostEditor`}\n        props={{\n          postType: \"Attestation\",\n          parentId: null,\n        }}\n      />\n    </div>\n    <div\n      class=\"collapse\"\n      id={`collapseSponsorshipEditor${postId}`}\n      data-bs-parent={`#accordion${postId}`}\n    >\n      <Widget\n        src={`${ownerId}/widget/PostEditor`}\n        props={{\n          postType: \"Sponsorship\",\n          parentId: null,\n        }}\n      />\n    </div>\n  </div>\n);\n\nconst controls = (\n  <div class=\"card border-secondary mb-2\">\n    <div class=\"nav navbar navbar-expand-lg bg-body-tertiary\">\n      <div class=\"container-fluid\">\n        <div class=\"navbar-brand\">\n          <Widget\n            src=\"mob.near/widget/ProfileImage\"\n            props={{\n              metadata,\n              accountId,\n              widgetName,\n              style: { height: \"2.5em\", width: \"2.5em\", minWidth: \"2.5em\" },\n              className: \"me-2\",\n            }}\n          />\n        </div>\n        <div class=\"nav navbar-brand h1\">Create</div>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarText\">\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link active\"\n                aria-current=\"page\"\n                href=\"#\"\n                data-bs-toggle=\"collapse\"\n                href={`#collapseIdeaEditor${postId}`}\n                role=\"button\"\n                aria-expanded=\"false\"\n                aria-controls={`collapseIdeaEditor${postId}`}\n              >\n                <i class=\"bi-lightbulb-fill\"> </i>\n                Idea\n              </a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link active\"\n                href=\"#\"\n                data-bs-toggle=\"collapse\"\n                href={`#collapseSubmissionEditor${postId}`}\n                role=\"button\"\n                aria-expanded=\"false\"\n                aria-controls={`collapseSubmissionEditor${postId}`}\n              >\n                <i class=\"bi-rocket-fill\"> </i>\n                Solution\n              </a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link active\"\n                href=\"#\"\n                data-bs-toggle=\"collapse\"\n                href={`#collapseAttestationEditor${postId}`}\n                role=\"button\"\n                aria-expanded=\"false\"\n                aria-controls={`collapseAttestationEditor${postId}`}\n              >\n                <i class=\"bi-check-circle-fill\"> </i>\n                Attestation\n              </a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link active\"\n                href=\"#\"\n                data-bs-toggle=\"collapse\"\n                href={`#collapseSponsorshipEditor${postId}`}\n                role=\"button\"\n                aria-expanded=\"false\"\n                aria-controls={`collapseSponsorshipEditor${postId}`}\n              >\n                <i class=\"bi-cash-coin\"> </i>\n                Sponsorship\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n    {editorsFooter}\n  </div>\n);\n\nconst navbar = (\n  <div class=\"card border-secondary\">\n    <div class=\"nav navbar navbar-expand-lg bg-body-tertiary\">\n      <div class=\"container-fluid\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" href={home}>\n              <i class=\"bi-house-fill\"> </i>\n              Home\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" href={`${home}?recency=all`}>\n              <i class=\"bi-fire\"> </i>\n              Recent\n            </a>\n          </li>\n\n          <li class=\"nav-item active\">\n            <Typeahead\n              id=\"basic-typeahead-single\"\n              labelKey=\"name\"\n              onChange={onLabelSelected}\n              options={wrappedLabels}\n              placeholder=\"Search\"\n            />\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n);\n\nreturn (\n  <div>\n    {controls}\n    {navbar}\n    <Widget\n      src={`${ownerId}/widget/IdeasList`}\n      props={{ postIds: state.postIds }}\n    />\n  </div>\n);\n\n<li class=\"nav-item dropdown\">\n  <a\n    class=\"nav-link active\"\n    href=\"#\"\n    role=\"button\"\n    data-bs-toggle=\"dropdown\"\n    aria-expanded=\"false\"\n  >\n    <i class=\"bi bi-filter\"></i>\n    Topics\n  </a>\n  <ul class=\"dropdown-menu\">\n    {labels\n      ? labels.map((l) => {\n          return (\n            <li>\n              <a class=\"dropdown-item\" href={`${home}?label=${l}`}>\n                {l}\n              </a>\n            </li>\n          );\n        })\n      : null}\n  </ul>\n</li>;\n", "metadata": NaN, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/devgovgigs.near/widget/Ideas", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.developer-governance": NaN, "metadata.tags.app": NaN, "branch.draft.": NaN, "branch.draft": NaN, "metadata.image.url": NaN}
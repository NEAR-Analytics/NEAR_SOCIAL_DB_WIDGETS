{"tx_hash": "FRdezBVwNz2Lr5FKECoNyj8XshfcagQxzKJ2Sq19qxmb", "action_id_social": "4erX7mw3gKSZcazrwDEp2oimjsXzvQEKzHtqdkxVHECB-1-widget", "block_id": 79182866, "block_timestamp": "2022-11-24 20:07:43.398", "signer_id": "whtt.near", "widget_name": "NearStake", "source_code": "initState({ amount: \"1\", poolId: \"zavodil.poolv1.near\" });\n\nconst onStakeClick = () => {\n  const gas = 300 * 1000000000000;\n  // TODO: doesn't support floats right now due to limitation of JS integers\n  const deposit = parseInt(state.amount) + \"000000000000000000000000\";\n  console.log(gas, deposit);\n  Near.call(state.poolId, \"deposit_and_stake\", {}, gas, deposit);\n};\n\nconst abi =\n  '[{\"constant\":true,\"inputs\":[],\"name\":\"proxyType\",\"outputs\":[{\"name\":\"proxyTypeId\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isDepositable\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"implementation\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"appId\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"kernel\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_kernel\",\"type\":\"address\"},{\"name\":\"_appId\",\"type\":\"bytes32\"},{\"name\":\"_initializePayload\",\"type\":\"bytes\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"ProxyDeposit\",\"type\":\"event\"}]';\n\nreturn (\n  <div>\n    <h1>Stake NEAR</h1>\n    <p>\n      Pool: <input value={state.poolId} />\n    </p>\n    <p>\n      Amount: <input type=\"number\" value={state.amount} />\n    </p>\n    <a onClick={onStakeClick}>Stake</a>\n  </div>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/whtt.near/widget/NearStake", "metadata.name": NaN, "metadata.tags.app": NaN}
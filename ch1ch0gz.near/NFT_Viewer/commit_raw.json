{"tx_hash": "Ab6DihH9db2RM7sew9MctzTbrabwjKGJMu8DJts2w2Yx", "action_id_social": "Hn91QSkazT5Hozim6yY7HfZ6cmuUQREgzFPKEgwhxZGJ-0-widget", "block_id": 94626173, "block_timestamp": "2023-06-20T16:19:24.072Z", "signer_id": "ch1ch0gz.near", "widget_name": "NFT_Viewer", "source_code": "initState({\n  nftData: [],\n  address: \"\",\n});\n// Contract address\n//const address = \"ch1ch0gz.eth\";\n\nlet requestOptions = {\n  method: \"get\",\n  redirect: \"follow\",\n};\n\nconst fetchData = (address) => {\n  // Alchemy URL\n\n  const baseURL = `https://eth-mainnet.g.alchemy.com/v2/pO2FSYkeXP28d_ezEqBdkYLNZc4Fa_0Y`;\n  const url = `${baseURL}/getNFTs/?owner=${address}`;\n\n  State.update({ nftData: [] });\n\n  asyncFetch(url, requestOptions)\n    .then((response) => {\n      const nfts = response.body.ownedNfts.map((n) => {\n        const nft = {\n          src: n.metadata.image,\n          title: n.metadata.name,\n        };\n        if (nft.src === undefined) {\n          nft.src = n.metadata.image_data;\n        } else if (nft.src.startsWith(\"ipfs\")) {\n          nft.src = `https://ipfs.near.social/ipfs/` + nft.src.substring(7);\n        }\n\n        return nft;\n      });\n\n      State.update({ nftData: nfts });\n    })\n    .catch((error) => console.log(\"error\", error));\n};\nreturn (\n  <>\n    <div class=\"mb-3\">\n      <label>Enter the address</label>\n      <input\n        value={address}\n        placeholder=\"\"\n        onChange={(event) => State.update({ address: event.target.value })}\n      />\n      <button onClick={() => fetchData(state.address)}>\n        Fetch a NFT Collection\n      </button>\n    </div>\n    <div className=\"mt-3\">\n      <h5>NFT Collection</h5>\n      {state.nftData.map((n) => {\n        return (\n          <div\n            style={{ width: \"300px\", display: \"inline-block\", margin: \"6px\" }}\n          >\n            <img\n              src={n.src}\n              title={n.title}\n              style={{ maxWidth: \"300px\", maxHeight: \"300px\" }}\n            />\n            <p style={{ width: \"300px\", display: \"inline-block\" }}>{n.title}</p>\n          </div>\n        );\n      })}\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ch1ch0gz.near/widget/NFT_Viewer", "__row_index": 0}
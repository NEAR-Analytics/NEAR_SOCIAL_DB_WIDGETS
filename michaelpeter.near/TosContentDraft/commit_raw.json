{"tx_hash": "CGM7JTjBodnyZkGYFbfv6dbVwuvrUR9PuTUcBui18Ztw", "action_id_social": "3wHwWjM9Uao7CoHBnRNUdzhkRX5gHWHV232sbTPeAdEZ-0-widget", "block_id": 85819670, "block_timestamp": "2023-02-22 21:38:04.497", "signer_id": "michaelpeter.near", "widget_name": "TosContentDraft", "source_code": "//options: default, terms, privacy, community\nState.init({ show: \"default\", terms: null, privacy: null, community: null });\n\nconst termsCidPath =\n  \"bafybeieqhkr6kxqc5v3fmuieuiaeh6qb57pk6nyy575n7yglfdmx6ophla/terms.md\";\nconst privacyCidPath =\n  \"bafybeib6csg3j4mudfyhcb7akpfmxtlzqluqp4jmt5va5iumjucrqwhhkq/privacy.md\";\nconst communityCidPath = \"TODO\";\n\nasyncFetch(`https://ipfs.near.social/ipfs/${termsCidPath}`).then((res) => {\n  State.update({ terms: res.body });\n});\nasyncFetch(`https://ipfs.near.social/ipfs/${privacyCidPath}`).then((res) => {\n  State.update({ privacy: res.body });\n});\n// asyncFetch(`https://ipfs.near.social/ipfs/${termsCidPath}`).then((res) => {\n//   State.update({ terms: res.body });\n// });\n\nconst DocBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  row-gap: 0.5rem;\n  border: solid 1px lightgrey;\n  border-radius: 0.75rem;\n  padding: 1rem;\n  &:hover {\n    color: var(--bs-green);\n    border-color: var(--bs-green);\n  }\n`;\n\nconst DocTitle = styled.div`\ndisplay: flex;\nflex-direction: row;\ncolumn-gap: 0.5rem;\nfont-weight: bold;\nalign-items: center;\n`;\n\nconst DocSummary = styled.span`\ncolor: grey\n`;\n\nconst Arrow = styled.i`\n  color: var(--bs-green);\n  font-size: 1.25rem;\n`;\n\n// const DocFullDisplay = styled.div`\n//   display: flex;\n//   flex\n// `;\n\nconst DocContent = styled.div`\n  overflow-y: scroll;\n`;\n\nreturn (\n  <div className=\"d-flex flex-column gap-3 justify-content-center\">\n    {state.show === \"default\" && (\n      <>\n        <h3>Terms, Privacy, and Community Guidelines</h3>\n        <p>\n          To continue using alpha.near.org, please read and agree to the\n          following terms and policies:\n        </p>\n        <DocBox\n          onClick={() => {\n            State.update({ show: \"terms\" });\n          }}\n        >\n          <DocTitle>\n            Terms of Service\n            <Arrow className=\"bi bi-arrow-right\" />\n          </DocTitle>\n          <DocSummary>Summary</DocSummary>\n        </DocBox>\n        <DocBox>\n          <DocTitle>\n            Privacy Policy\n            <Arrow className=\"bi bi-arrow-right\" />\n          </DocTitle>\n          <DocSummary>Summary</DocSummary>\n        </DocBox>\n        <DocBox>\n          <DocTitle>\n            Community Guidelines\n            <Arrow className=\"bi bi-arrow-right\" />\n          </DocTitle>\n          <DocSummary>Summary</DocSummary>\n        </DocBox>\n      </>\n    )}\n    {state.show === \"terms\" && (\n      <>\n        <button\n          onClick={() => {\n            State.update({ show: \"default\" });\n          }}\n          className=\"btn btn-outline-success\"\n          style={{ width: \"6rem\" }}\n        >\n          <i className=\"bi bi-arrow-left\" />\n          Back\n        </button>\n        <DocContent>\n          <Markdown text={state.terms} />\n        </DocContent>\n      </>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/michaelpeter.near/widget/TosContentDraft"}
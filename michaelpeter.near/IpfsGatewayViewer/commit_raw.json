{"tx_hash": "A61MbvaWakSrB69iWPyFyJYdCRDG8t5gBhhACJkyQbpb", "action_id_social": "4QRmJ2Th6awvu3KF5WRqb1in9Utj9MxpEmf89wfqbFvu-0-widget", "block_id": 86491371, "block_timestamp": "2023-03-03 21:42:58.761", "signer_id": "michaelpeter.near", "widget_name": "IpfsGatewayViewer", "source_code": "State.init({ gateway: 0, cid: \"\" });\n\nconst gateways = [\n  {\n    name: \"ipfs.io\",\n    path: \"https://ipfs.io/ipfs/<cid>\",\n  },\n  {\n    name: \"dweb.link\",\n    path: \"https://dweb.link/ipfs/<cid>\",\n  },\n  {\n    name: \"web3.storage\",\n    path: \"https://w3s.link/ipfs/<cid>\",\n  },\n  {\n    name: \"Cloudflare\",\n    path: \"https://cloudflare-ipfs.com/ipfs/<cid>\",\n  },\n];\n\n// TODO replace buttons with radios for accessibility\n// once radios work in VM\nreturn (\n  <div className=\"d-flex flex-column gap-2 w-100 h-100\">\n    <div className=\"d-flex flex-row justify-content-center gap-2\">\n      {gateways.map((g, i) => {\n        return (\n          <button\n            className={`btn${state.gateway === i ? \" btn-success\" : \"\"}`}\n            key={g.name}\n            onClick={() => {\n              State.update({ gateway: i });\n            }}\n          >\n            {g.name}\n          </button>\n        );\n      })}\n    </div>\n\n    <div className=\"d-flex flex-row\">\n      <input\n        placeholder=\"CID\"\n        value={state.cid}\n        onChange={(e) => State.update({ cid: e.target.value })}\n      />\n      <button\n        style={{ width: \"3rem\" }}\n        className=\"btn\"\n        onClick={() => State.update({ cid: \"\" })}\n      >\n        <i className=\"bi bi-x\" />\n      </button>\n    </div>\n    {state.cid && (\n      <>\n        <div style={{ display: \"flex\", flexGrow: 1 }}>\n          <iframe\n            style={{ width: \"100%\", height: \"100%\" }}\n            src={gateways[state.gateway].path.replace(\"<cid>\", state.cid)}\n          />\n        </div>\n        <div className=\"d-flex flex-row justify-content-end\">\n          <a href={gateways[state.gateway].path.replace(\"<cid>\", state.cid)}>\n            Open <i className=\"bi bi-box-arrow-up-right\" />\n          </a>\n        </div>\n      </>\n    )}\n  </div>\n);\n", "metadata": null, "widget_modules_used": null, "widget_url": "https://near.social/#/michaelpeter.near/widget/IpfsGatewayViewer", "branch.draft.": NaN, "branch": NaN, "branch.draft": NaN}
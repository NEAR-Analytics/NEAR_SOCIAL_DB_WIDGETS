{"tx_hash": "AKL9JDocuRh6EAzWJgZpMs9agi1qrLKr14yEMua9XiyU", "action_id_social": "9MSeFZJBEpxUUqvqc5Zt4csxFRF9rYNG6Vr4eozH3xX5-0-widget", "block_id": 86492125, "block_timestamp": "2023-03-03 21:57:20.673", "signer_id": "michaelpeter.near", "widget_name": "IpfsGatewayViewer", "source_code": "State.init({ gateway: 0, cid: \"\" });\n\nconst gateways = [\n  {\n    name: \"ipfs.io\",\n    path: \"https://ipfs.io/ipfs/<cid>\",\n  },\n  {\n    name: \"dweb.link\",\n    path: \"https://dweb.link/ipfs/<cid>\",\n  },\n  {\n    name: \"web3.storage\",\n    path: \"https://w3s.link/ipfs/<cid>\",\n  },\n  {\n    name: \"Cloudflare\",\n    path: \"https://cloudflare-ipfs.com/ipfs/<cid>\",\n  },\n];\n\n// TODO replace buttons with radios for accessibility\n// once radios work in VM\nreturn (\n  <div\n    className=\"d-flex flex-column gap-2 w-100\"\n    style={{ height: \"30rem\", maxHeight: \"100%\" }}\n  >\n    <div\n      className=\"d-flex flex-row justify-content-center gap-2\"\n      style={{ flexGrow: 0 }}\n    >\n      {gateways.map((g, i) => {\n        return (\n          <button\n            className={`btn${state.gateway === i ? \" btn-success\" : \"\"}`}\n            key={g.name}\n            onClick={() => {\n              State.update({ gateway: i });\n            }}\n          >\n            {g.name}\n          </button>\n        );\n      })}\n    </div>\n\n    <div className=\"d-flex flex-row\" style={{ flexGrow: 0 }}>\n      <input\n        placeholder=\"CID\"\n        value={state.cid}\n        onChange={(e) => State.update({ cid: e.target.value })}\n      />\n      <button\n        style={{ width: \"3rem\" }}\n        className=\"btn\"\n        onClick={() => State.update({ cid: \"\" })}\n      >\n        <i className=\"bi bi-x\" />\n      </button>\n    </div>\n    {state.cid && (\n      <div className=\"d-flex flex-column gap-1\" style={{ flexGrow: 1 }}>\n        <iframe\n          style={{ width: \"100%\", height: \"100%\", borderRadius: \"5px\" }}\n          src={gateways[state.gateway].path.replace(\"<cid>\", state.cid)}\n        />\n        <div className=\"d-flex flex-row justify-content-end\">\n          <a href={gateways[state.gateway].path.replace(\"<cid>\", state.cid)}>\n            Open <i className=\"bi bi-box-arrow-up-right\" />\n          </a>\n        </div>\n      </div>\n    )}\n  </div>\n);\n", "metadata": null, "widget_modules_used": null, "widget_url": "https://near.social/#/michaelpeter.near/widget/IpfsGatewayViewer", "branch.draft.": NaN, "branch": NaN, "branch.draft": NaN}
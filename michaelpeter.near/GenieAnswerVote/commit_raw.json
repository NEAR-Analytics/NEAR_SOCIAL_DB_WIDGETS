{"tx_hash": "EoScSeGTq9ihLzyHKehf1gGeMVE8R9NDXN4QxS4Lk5Th", "action_id_social": "DWFAVewqHHg1Go9h8A7ki4sGfEuucPGguNEswdWr4byx-0-widget", "block_id": 80669342, "block_timestamp": "2022-12-15 01:03:48.209", "signer_id": "michaelpeter.near", "widget_name": "GenieAnswerVote", "source_code": "const { questionRef, answeredBy } = props;\n\nconst votes = Social.index(\"genie\", `vote/${questionRef}/${answeredBy}`) || [];\nconst upvotes = votes.filter((v) => v.value.dir === 1).length;\nconst downvotes = votes.filter((v) => v.value.dir === -1).length;\n\nreturn (\n  <div className=\"d-flex flex-column gap-1\">\n    {JSON.stringify(votes)}\n    <div>Upvotes: {upvotes}</div>\n    <div>Downvotes: {downvotes}</div>\n    <div className=\"d-flex flex-row gap-1\">\n      <CommitButton\n        data={{\n          index: {\n            genie: JSON.stringify({\n              key: `vote/${questionRef}/${answeredBy}`,\n              value: {\n                questionRef,\n                answeredBy,\n                dir: 1,\n              },\n            }),\n          },\n        }}\n      >\n        Upvote\n      </CommitButton>\n      <CommitButton\n        data={{\n          index: {\n            genie: JSON.stringify({\n              key: `vote/${questionRef}/${answeredBy}`,\n              value: {\n                questionRef,\n                answeredBy,\n                dir: -1,\n              },\n            }),\n          },\n        }}\n      >\n        Downvote\n      </CommitButton>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/michaelpeter.near/widget/GenieAnswerVote"}
{"tx_hash": "2N4JpT8jqG6WMSx8tqAqpLAUcwxarmBPkYG43QrA74wh", "action_id_social": "EocSYKKATjvxbsGHnxqKeAtrt9N163EPJQmnAf6i69Rz-0-widget", "block_id": 80727916, "block_timestamp": "2022-12-15 20:11:33.197", "signer_id": "michaelpeter.near", "widget_name": "GenieQuestionView", "source_code": "const { questionRef, searchString } = props;\n\nState.init({ questionRef, refInput });\n\nif (!state.questionRef) {\n  return (\n    <div className=\"d-flex flex-column gap-1\">\n      <p>No question ref was passed in props, enter one here:</p>\n      <div className=\"d-flex gap-3 align-items-center\">\n        <i class=\"bi bi-search\" />\n        <div class=\"input-group input-group-lg\">\n          <input\n            type=\"text\"\n            className=\"form-control border border-opacity-10\"\n            value={state.questionRef}\n            placeholder=\"Your wish is my command\"\n            onChange={(e) => {\n              State.update({ refInput: e.target.value });\n            }}\n          />\n        </div>\n        <button\n          className=\"btn btn-primary btn-lg\"\n          onClick={() => {\n            State.update({ questionRef: state.refInput });\n          }}\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  );\n}\n\nconst asker = state.questionRef.split(\"--\")[0];\n\nconst question = Social.getr(\n  `${asker}/experimental/genie/questions/${state.questionRef}`\n);\n\n// return nothing if data does not meet schema\nif (!question?.title || !question?.content) {\n  return <></>;\n}\n\n// return nothing if question does not meet search criteria\nif (\n  searchString &&\n  !question.title.includes(searchString) &&\n  !question.content.includes(searchString)\n) {\n  return <></>;\n}\n\nreturn (\n  <div className=\"d-flex flex-column gap-1\">\n    <div className=\"d-flex align-items-center\">\n      <div\n        style={{ width: \"100%\" }}\n        className=\"d-flex align-items-center justify-content-between\"\n      >\n        <div className=\"d-flex align-items-center gap-2\">\n          <div\n            style={{\n              backgroundColor: \"#000\",\n              width: \"24px\",\n              height: \"24px\",\n              borderRadius: \"50%\",\n            }}\n          ></div>\n          <div className=\"d-flex flex-column\">\n            <h6>{asker}</h6>\n            {state.questionRef}\n          </div>\n        </div>\n        <div>timestamp</div>\n      </div>\n    </div>\n    <h3>{question.title}</h3>\n    <h3>{question.content}</h3>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/michaelpeter.near/widget/GenieQuestionView"}
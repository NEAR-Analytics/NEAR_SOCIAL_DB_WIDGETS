{"tx_hash": "C9Eskto9pvtUyePdcbX8PgWRo6oXdcn56eju2ooRfwJp", "action_id_social": "73yAEd3YD8cb4ymgwpgKPLhYPhr1g4EF31oNNJtTQpGF-0-widget", "block_id": 85874565, "block_timestamp": "2023-02-23 15:55:40.515", "signer_id": "michaelpeter.near", "widget_name": "Moderate", "source_code": "const moderatorAccount = props?.moderatorAccount || \"michaelpeter.near\";\nState.init({ inputContent: \"\" });\n\nconst filterUserList = Social.get(\n  `${moderatorAccount}/moderate/users`,\n  \"optimistic\",\n  {\n    subscribe: true,\n  }\n);\n\nconst filtered = filterUserList ? JSON.parse(filterUserList) : [];\nreturn (\n  <div className=\"d-flex flex-column gap-5\">\n    <table className=\"table\">\n      <th>Filtered users</th>\n      <tbody>\n        {filtered.map((f) => (\n          <tr key={f}>\n            <td>{f}</td>\n            <td>\n              <CommitButton\n                className=\"btn btn-danger\"\n                data={{\n                  moderate: {\n                    users: filtered.filter((j) => j !== f),\n                  },\n                }}\n              >\n                <i className=\"bi bi-x\" />\n              </CommitButton>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n    <div className=\"d-flex flex-row gap-2\">\n      <input\n        type=\"text\"\n        value={state.inputContent}\n        onChange={(e) => {\n          State.update({ inputContent: e.target.value });\n        }}\n        placeholder=\"Comma-separated list of accounts\"\n      />\n      <CommitButton\n        data={{\n          moderate: {\n            users: filtered.concat(\n              state.inputContent.split(\",\").map((i) => i.trim())\n            ),\n          },\n        }}\n        onCommit={() => {\n          State.update({ inputContent: \"\" });\n        }}\n      >\n        Add to filter\n      </CommitButton>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/michaelpeter.near/widget/Moderate"}
{"tx_hash": "F7vfK1H29N8nQNpQXKH4uJLdnTwQx8cP7iz8fPbcxBwX", "action_id_social": "7uMR2MZsjZKyhevcK2DAiDRd4RsFzazvXm9h22Pie2q3-0-widget", "block_id": 92023660, "block_timestamp": "2023-05-16T23:01:24.939Z", "signer_id": "harmonic1.near", "widget_name": "NFTViewer", "source_code": "const accountId = context.accountId || null;\n\nconst data = fetch(\"https://graph.mintbase.xyz\", {\n  method: \"POST\",\n  headers: {\n    \"mb-api-key\": \"omni-site\",\n    \"Content-Type\": \"application/json\",\n    \"x-hasura-role\": \"anonymous\",\n  },\n  body: JSON.stringify({\n    query: `\n    query MyQuery($accountId: String){\n          mb_views_nft_tokens(\n                    where: {nft_contract_id: {_eq: \"nft.harmonic1.near\"}, owner: {_eq: $accountId}}\n                    limit: 10\n                    ) {\n                    title\n                    description\n                    nft_contract_id\n                    media\n                    token_id\n            }\n        }\n`,\n    variables: {\n      accountId: accountId,\n    },\n  }),\n});\n\nif (!data.ok) {\n  return \"Loading\";\n}\n\nconst size = \"10em\";\n\nconst containerStyle = {\n  maxWidth: \"500px\",\n  margin: \"0 auto\",\n  padding: \"2rem\",\n  backgroundColor: \"#f5f5f5\",\n};\n\nconst labelStyle = {\n  display: \"block\",\n  fontWeight: \"bold\",\n  marginBottom: \"0.5rem\",\n};\n\nreturn data !== null && accountId !== null ? (\n  <>\n    <div style={containerStyle}>\n      <h1>NFT Viewer</h1>\n      <p style={labelStyle}>Your NFTs from nft.harmonic1.near Contract.</p>\n      <div className=\"d-flex gap-4 flex-wrap\">\n        {data.body.data?.mb_views_nft_tokens.map((listing, i) => {\n          return (\n            <div className=\"my-3 d-flex flex-column gap-1\">\n              <Widget\n                src=\"mob.near/widget/NftImage\"\n                props={{\n                  nft: {\n                    tokenId: listing.token_id,\n                    contractId: listing.nft_contract_id,\n                  },\n                  style: {\n                    width: size,\n                    height: size,\n                    objectFit: \"cover\",\n                    minWidth: size,\n                    minHeight: size,\n                    maxWidth: size,\n                    maxHeight: size,\n                    overflowWrap: \"break-word\",\n                  },\n                  thumbnail: \"thumbnail\",\n                  className: \"\",\n                  fallbackUrl:\n                    \"https://ipfs.near.social/ipfs/bafkreihdiy3ec4epkkx7wc4wevssruen6b7f3oep5ylicnpnyyqzayvcry\",\n                }}\n              />\n              {listing.title}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  </>\n) : (\n  <div style={containerStyle}>\n    <h1>NFT Viewer</h1>\n    <p style={labelStyle}>\n      Loading... <br />\n      (If you are not logged in, please do.)\n    </p>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harmonic1.near/widget/NFTViewer", "__row_index": 0}
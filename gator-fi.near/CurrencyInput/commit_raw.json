{"tx_hash": "BPcUR4ExAGXm4nXE73DnVsABzjtvMtwVU7JajHMbZAcY", "action_id_social": "E7LHa3DAzF1B6e5jmjPbPfmuhyn7yMRqj9DDi2w1NMvg-0-widget", "block_id": 93563201, "block_timestamp": "2023-06-06T05:12:47.680Z", "signer_id": "gator-fi.near", "widget_name": "CurrencyInput", "source_code": "State.init({\n    dialogVisible: false,\n    filterInput: \"\",\n    token: null,\n    modelValue: \"\",\n})\n\nconst token = props.token || state.token;\nconst setToken = props.setToken || ((x) => State.update({ token: x }));\nconst modelValue = props.modelValue || state.modelValue;\nconst setModelValue = props.setModelValue || ((x) => State.update({ modelValue: x }));\nconst autoFocus = props.autoFocus;\n\nconst tokenListJson = fetch(`https://gist.githubusercontent.com/kizzx2/af1f39667c46a07ae83acf25d3791912/raw/c7244e14940cbf6e0977f95e36fe36d981cf3214/ref-list.json`).body;\nif (!tokenListJson) return \"\";\n\nconst tokenList = JSON.parse(tokenListJson);\n\nconst filteredTokenList = tokenList.tokens.filter((x) =>\n    x.name.toLowerCase().includes(state.filterInput.toLowerCase()) ||\n    x.symbol.toLowerCase().includes(state.filterInput.toLowerCase())\n);\n\nfunction handleTokenSelect(x) {\n    State.update({ dialogVisible: false });\n    setToken(x);\n}\n\nconst Styled = styled.div`\n.currency-input {\n  background: #f7f8fa;\n  display: flex;\n  border-radius: 16px;\n  padding: 16px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n  font-size: 18px;\n}\n\n.currency-input:hover {\n    outline: 1px solid lightgray;\n}\n\n.currency-input .currency-button-container {\n    border-radius: 16px;\n    min-width: 120px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding-left: 12px;\n    padding-right: 12px;\n}\n\n.currency-input .currency-button-container:hover {\n    background: rgb(206, 208, 217);\n}\n\n.currency-input .currency-button-container img {\n    width: 24px;\n    height: 24px;\n    margin-right: 8px;\n}\n\n.currency-input .currency-button-container .pi.pi-chevron-down {\n    font-size: 12px;\n    margin-left: 8px;\n}\n\n.currency-input input {\n    width: 100%;\n    flex: 1;\n    text-align: right;\n    border: none;\n    text-align: right;\n    background-color: transparent;\n    font-size: 28px;\n}\n\n.currency-input input:focus, .currency-input input:active {\n    outline: none;\n}\n\n.currency-input input[type='number'] {\n    -moz-appearance: textfield;\n}\n\n.currency-input input::-webkit-inner-spin-button,\n.currency-input input::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n.DialogOverlay {\n  background: rgba(0 0 0 / 0.5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: grid;\n  place-items: center;\n  overflow-y: auto;\n}\n\n.DialogContent {\n  min-width: 300px;\n  background: white;\n  padding: 30px;\n  border-radius: 4px;\n}\n\n.DialogContent .token-search-input-container input {\n\twidth: 100%;\n\tborder: 1px solid lightgray;\n\tborder-radius: 16px;\n\tpadding: 16px;\n}\n\n.DialogContent .token-search-input-container input:hover,\n.DialogContent .token-search-input-container input:focus {\n\tborder: 1px solid gray;\n\toutline: none;\n}\n\n.DialogContent .token-list {\n\theight: 480px;\n\tpadding: 0;\n}\n\n.DialogContent .token-list .token-list-row {\n\tdisplay: flex;\n\tpadding-left: 24px;\n\tpadding-right: 24px;\n}\n\n.DialogContent .token-list .token-list-row.token-list-row-disabled {\n\topacity: 0.5;\n}\n\n.DialogContent .token-list .token-list-row:not(.token-list-row-disabled) {\n\tcursor: pointer;\n}\n\n.DialogContent .token-list .token-list-row:not(.token-list-row-disabled):hover {\n\tbackground-color: #edeef2;\n}\n\n.DialogContent .token-list .token-list-row .token-list-row-img-container {\n\twidth: 24px;\n\theight: 24px;\n\tmargin-right: 16px;\n\tmargin-top: 16px;\n\tmargin-bottom: 16px;\n}\n\n.DialogContent .token-list .token-list-row .token-list-row-img-container img {\n\twidth: 100%;\n}\n\n.DialogContent .token-list .token-list-row .token-list-row-info {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n}\n\n.DialogContent .token-list .token-list-row .token-list-row-info .token-list-row-name {\n\tcolor: #6e727d;\n}\n`;\n\nreturn <Styled>\n  <Dialog.Root open={state.dialogVisible} onOpenChange={(x) => State.update({ dialogVisible: x })}>\n    <div className=\"currency-input\">\n      <Dialog.Trigger>\n        <div\n          class=\"currency-button-container\"\n        >\n          {token && <>\n            <img src={token.logoURI} alt={token.name} />\n            { token.symbol }\n          </>}\n          {!token && <>Select a token</>}\n          <i class=\"pi pi-chevron-down\" />\n        </div>\n      </Dialog.Trigger>\n      <input\n        placeholder=\"0.0\"\n        v-model=\"modelValue\"\n        value={modelValue}\n        onInput={(e) => setModelValue(e.target.value)}\n        type=\"number\"\n        min=\"0.0\"\n        autoFocus={autoFocus}\n      />\n    </div>\n\n\n    <Dialog.Overlay className=\"DialogOverlay\">\n      <Dialog.Content className=\"DialogContent\">\n        <Dialog.Title>\n          <div style={{width: '100%'}}>\n            <h4 class=\"text-grey-darken-2 mb-3\">Select a Token</h4>\n            <div class=\"token-search-input-container\">\n              <input placeholder=\"Token Name\" autofocus\n                onInput={(e) => State.update({filterInput: e.target.value})} />\n            </div>\n          </div>\n        </Dialog.Title>\n        <ul class=\"token-list\">\n          {filteredTokenList.map((token) => <li\n            class=\"token-list-row\"\n            key={token.address}\n            onClick={() => handleTokenSelect(token)}\n          >\n            <div class=\"token-list-row-img-container\">\n              <img src={token.logoURI} />\n            </div>\n            <div class=\"token-list-row-info\">\n              <div class=\"token-list-row-symbol\">{ token.symbol }</div>\n              <div class=\"token-list-row-name\">{ token.name }</div>\n            </div>\n          </li>)}\n        </ul>\n      </Dialog.Content>\n    </Dialog.Overlay>\n  </Dialog.Root>\n</Styled>;", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/gator-fi.near/widget/CurrencyInput", "__row_index": 1}
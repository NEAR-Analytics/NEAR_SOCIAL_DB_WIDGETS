{"tx_hash": "2ineYn3N3JrsGsJkmYRKAw9SDiHiZJ2C9B4datqPHMzA", "action_id_social": "c2imqFE9C7fhknyf8SkW2pB1GCFyAtvuHZcm59hXXQY-0-widget", "block_id": 93881943, "block_timestamp": "2023-06-10T10:29:30.675Z", "signer_id": "joksnet.near", "widget_name": "DeTable", "source_code": null, "metadata": null, "branch": {"draft": {"": "const signer = Ethers.send(\"eth_requestAccounts\")[0];\n\nconsole.log(\"signer\", signer);\n\nif (!state.chainId && signer) {\n  Ethers.provider()\n    .getNetwork()\n    .then((chainIdData) => {\n      if (chainIdData?.chainId) {\n        State.update({ chainId: chainIdData.chainId });\n      }\n    });\n}\n\nfunction connectWallet() {\n  const accounts = Ethers.send(\"eth_requestAccounts\", []);\n  console.log(\"accounts\", accounts);\n  if (!accounts || accounts.length === 0) {\n    State.update({ error: \"Could not connect to wallet\" });\n  } else {\n    const account = accounts[0];\n    State.update({ account });\n  }\n}\n\nif (state.error) {\n  return (\n    <p style={{ backgroundColor: \"red\", color: \"white\" }}>\n      Something happen: {state.error}\n    </p>\n  );\n}\n\nif (!state.chainId || !signer) {\n  return (\n    <p>\n      Please signin:\n      <button onClick={connectWallet}>Connect Wallet</button>\n    </p>\n  );\n}\nif (state.chainId !== 100) {\n  return <p>Switch to Gnosis</p>;\n}\n\nreturn (\n  <p>\n    Chain: {state.chainId} | Account: {sender}\n  </p>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/joksnet.near/widget/DeTable", "__row_index": 5}
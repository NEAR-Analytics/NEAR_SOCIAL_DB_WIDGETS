{"tx_hash": "7shYDZNAC2vekFCQdcmKh4Q677sbWbw4ErKASnBT5BXv", "action_id_social": "Hi8CkrjoG6HpbninBeb1CgTe2DFs38A7zNyY1Cpkp17V-0-widget", "block_id": 80603260, "block_timestamp": "2022-12-14 03:28:26.177", "signer_id": "edwardkcyu.near", "widget_name": "AstroBountiesCommentEditor", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"Please sign in with NEAR wallet\";\n}\n\nState.init({ comment: \"\" });\nconst bountyId = props.bountyId;\n\nconst comments = JSON.parse(\n  Social.get(`${accountId}/bounties/${bountyId}/comments`) || \"[]\"\n);\n\nreturn (\n  <div>\n    <div>\n      <a\n        class=\"card-link\"\n        data-bs-toggle=\"collapse\"\n        href={`#collapseCommentEditorComment-${bountyId}`}\n        role=\"button\"\n        aria-expanded=\"false\"\n        aria-controls={`collapseCommentEditorComment-${bountyId}`}\n      >\n        <i class={commentBtnClass}> </i> Comment ({comments.length ?? 0})\n      </a>\n    </div>\n\n    <div class=\"collapse\" id={`collapseCommentEditorComment-${bountyId}`}>\n      <div>\n        <ul>\n          {comments.map((comment) => (\n            <li>\n              {comment.accountId}: {comment.comment}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      <div className=\"mb-2\">\n        <textarea\n          cols=\"50\"\n          rows=\"5\"\n          value={state.comment}\n          onChange={(event) => {\n            State.update({ comment: event.target.value });\n          }}\n        />\n      </div>\n      <CommitButton\n        data={{\n          bounties: {\n            [bountyId]: {\n              comments: [...comments, { accountId, comment: state.comment }],\n            },\n          },\n        }}\n      >\n        Submit\n      </CommitButton>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/edwardkcyu.near/widget/AstroBountiesCommentEditor"}
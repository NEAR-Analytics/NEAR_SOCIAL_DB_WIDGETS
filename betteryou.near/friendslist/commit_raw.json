{"tx_hash": "HPBhykdpsjpBUAcQoewdd45eENieYkgbLqtdDis3BdYU", "action_id_social": "GakA1QcMbVWfeGoHS9kgbyTtfCXm2HdjRRCpakev43gU-0-widget", "block_id": 80811324, "block_timestamp": "2022-12-16 23:16:57.977", "signer_id": "betteryou.near", "widget_name": "friendslist", "source_code": "const accountId = props.accountId ?? context.accountId;\n\n// There is no social graph in DEV - so use the hardcoded list:\n//const items = [\"bazbar.testnet\", \"mm-near.testnet\", \"baduser\"];\n\nconst following = Social.keys(`${accountId}/graph/follow/*`, \"final\", {\n  return_type: \"BlockHeight\",\n  values_only: true,\n});\n\nconst items = following\n  ? Object.keys(following[accountId].graph.follow || {})\n  : null;\n\n/*\nconst testnetWidgets = {\n    itemscroll: \"nft12.testnet/widget/ItemScroll\",\n    profileLine: \"bazbar.testnet/widget/ProfileLine\",\n    allUserChallenges: \"bazbar.testnet/widget/all_user_challenges\",\n};*/\n\nconst mainnetWidgets = {\n  itemscroll: \"mob.near/widget/ItemFeed\",\n  profileLine: \"mob.near/widget/ProfileLine\",\n  allUserChallenges: \"betteryou.near/widget/all_user_challenges\",\n};\n\nconst widgets = mainnetWidgets;\n\nconst renderItem = (a) => (\n  <div key={JSON.stringify(a)} className=\"mb-2\">\n    <Widget\n      src={widgets[\"profileLine\"]}\n      props={{ accountId: a, hideAccountId: true, tooltip: true }}\n    />\n\n    <span className=\"text-muted\">challenge:</span>\n    <Widget\n      src={widgets[\"allUserChallenges\"]}\n      props={{ accountId: a, hideLogo: true }}\n    />\n  </div>\n);\n\nreturn (\n  <div>\n    <img src=\"https://user-images.githubusercontent.com/91919554/207791330-aa5bc143-b51d-49b0-a0be-eae26365f1f2.png\" />\n    <Widget src={widgets[\"itemscroll\"]} props={{ items, renderItem }} />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/betteryou.near/widget/friendslist"}
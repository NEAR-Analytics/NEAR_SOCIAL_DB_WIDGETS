{"tx_hash": "EBfuMHdafpcp1Dt9Vi7rnMjbgg6efgLZHZ4pYBcjN9Tf", "action_id_social": "Fb1SRfb2W84Xi2u7bLffvT2qWKMEsYP6cdD4FpBLTPCs-0-widget", "block_id": 83862659, "block_timestamp": "2023-01-26 20:49:11.096", "signer_id": "v3rify.near", "widget_name": "Index", "source_code": "initState({\r\n  query: props.query ?? \"\",\r\n  result: 0,\r\n  show: false,\r\n});\r\n\r\nif (!props.show) {\r\n  Near.asyncView(\r\n    \"v3rify.near\",\r\n    \"get_verification\",\r\n    { entry_id: state.query },\r\n    \"final\"\r\n  ).then((result) => State.update({ result, show: true }));\r\n}\r\n\r\nconst result = state.show ? (\r\n  <div\r\n    style={{\r\n      position: \"absolute\",\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      opacity: 0.8,\r\n      backgroundColor: \"grey\",\r\n    }}\r\n  >\r\n    <div className=\"card\" style={{ opacity: 1 }}>\r\n      <div className=\"card-header\">\r\n        <span>Verification score for {state.query}</span>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {state.result === null\r\n          ? \"There is no entry for this query\"\r\n          : `The verification score is: ${state.result}`}\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        {state.result === null ? (\r\n          <a\r\n            role=\"button\"\r\n            className=\"btn btn-primary\"\r\n            href={`https://near.social/#/v3rify.near/widget/Submit?entryId=${state.query}`}\r\n          >\r\n            Submit a verification\r\n          </a>\r\n        ) : (\r\n          <a\r\n            role=\"button\"\r\n            className=\"btn btn-primary\"\r\n            href=\"#\"\r\n            onClick={() => State.update({ show: false })}\r\n          >\r\n            OK\r\n          </a>\r\n        )}\r\n        <a\r\n          role=\"button\"\r\n          className=\"btn btn-secondary\"\r\n          href=\"#\"\r\n          onClick={() => State.update({ show: false })}\r\n        >\r\n          Close\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n) : null;\r\n\r\nreturn (\r\n  <div style={{ height: \"80vh\" }}>\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <label htmlFor=\"search\">Check:</label>\r\n        <input\r\n          type=\"text\"\r\n          role=\"search\"\r\n          id=\"search\"\r\n          placeholder=\"near.org\"\r\n          value={state.query}\r\n          onChange={(e) => State.update({ query: e.target.value })}\r\n        />\r\n\r\n        <a\r\n          role=\"button\"\r\n          className=\"btn btn-primary mt-2\"\r\n          href={`https://near.social/#/v3rify.near/widget/Index?query=${state.query}`}\r\n        >\r\n          Check\r\n        </a>\r\n      </div>\r\n    </div>\r\n    {result}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/v3rify.near/widget/Index"}
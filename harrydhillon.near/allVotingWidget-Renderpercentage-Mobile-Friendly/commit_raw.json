{"tx_hash": "H63tU3LhoHMzqcqwJZATaAG4PfwzUA2b7DmiTZP6BMSr", "action_id_social": "5atE2HGJNEVEPoggyG82isBLKD3tPBxg1Payy9U6LhXt-0-widget", "block_id": 92018358, "block_timestamp": "2023-05-16T21:22:49.408Z", "signer_id": "harrydhillon.near", "widget_name": "allVotingWidget-Renderpercentage-Mobile-Friendly", "source_code": "const ResponsiveText = styled.span`\n  @media screen and (max-width: 1024px)  {\n      font-size: 11px;\n  }\n`;\nconst ResponsiveTextOption = styled.p`\n  whitespace: pre-wrap;\n  margin-bottom: 2px !important;\n  @media screen and (max-width: 1024px)  {\n      font-size: 11px;\n  }\n`;\nconst TopMarginPercentage = styled.span`\n  margin: 0.5rem 0px 0.4rem 0.3rem;\n  @media screen and (max-width: 1024px)  {\n      margin: 0.6rem 0px 0.4rem 0.3rem;\n      font-size: 11px;\n  }\n`;\n\nconst VoteButton = styled.button`\n  border-radius: 20px;\n  border: none;\n  display: flex;\n  padding: 0;\n  position: relative;\n  background: #f3f3f2;\n  width: 100%;\n  margin-bottom: 14px;\n  cursor: pointer;\n\n  .button {\n    border-radius: 20px;\n    padding: 12px 20px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 15px;\n    transition: all 0.4s ease-in-out;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    min-width: 90px;\n    width: 90px;\n\n    @media (max-width: 600px) {\n      justify-content: start;\n    }\n  }\n\n  .vote {\n    opacity: 0;\n    transition: all 0.4s ease-in-out;\n    max-width: 0;\n    display: block;\n    margin-right: 3px;\n    position: relative;\n    z-index: 1;\n  }\n\n  .votes {\n    text-align: right;\n    padding: 12px 16px;\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    color: rgb(27, 27, 24);\n  }\n\n  .preview {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    border-radius: 20px;\n    transition: all 0.4s ease-in-out;\n    z-index: 0;\n  }\n\n  &:hover {\n    .button {\n      width: 100%;\n    }\n    .vote {\n      opacity: 1;\n      max-width: 100px;\n    }\n  }\n\n`;\n\nconsole.log(props, \"final check\");\n\nreturn (\n  <div>\n    <div className=\"align-content-center\">\n      {/* Set the width of the next div to make the bar grow. At the same, use the same value to fill the span tag */}\n      {!props.canVote && (\n        <ResponsiveTextOption\n          style={{\n            marginTop: 15,\n            fontWeight: \"500\",\n          }}\n        >\n          {props.option} \u2022\n          <TopMarginPercentage\n            className=\"text-secondary\"\n            style={{\n              fontWeight: \"400\",\n              marginTop: \"0.8rem\",\n            }}\n          >\n            (\n            {\n              props.countVotes(props.questionNumber, props.questionType)[\n                props.optionNumber\n              ]\n            }{\" \"}\n            votes)\n          </TopMarginPercentage>\n        </ResponsiveTextOption>\n      )}\n      {!props.canVote ? (\n        <>\n          <div\n            style={{\n              display: \"flex\",\n              alignContent: \"center\",\n\n              color: `${props.getFontColor(props.optionNumber)}`,\n              width: \"100%\",\n              height: \"2.4rem\",\n              borderRadius: `${props.getBorderRadious(\n                props.questionNumber,\n                props.optionNumber\n              )}`,\n              overflow: \"hidden\",\n              position: \"relative\",\n            }}\n          >\n            <div\n              style={{\n                height: \"100%\",\n                padding: \"0.01em 22px 0.01em 11px\",\n                display: \"block\",\n                width: `${props.calculatePercentageOfOption(\n                  props.countVotes(props.questionNumber, props.questionType),\n                  props.optionNumber\n                )}%`,\n                textAlign: \"center\",\n                overflow: \"visible\",\n                whiteSpace: \"nowrap\",\n                textAlign: \"left\",\n                backgroundColor: `${props.getBgColor(\n                  props.optionNumber,\n                  true\n                )}`,\n                borderRadius: \"4px\",\n              }}\n            ></div>\n            <TopMarginPercentage\n              style={{\n                minWidth: \"max-content\",\n                fontWeight: \"500\",\n                position: \"absolute\",\n                right: \"1.7rem\",\n              }}\n            >\n              {props.calculatePercentageOfOption(\n                props.countVotes(props.questionNumber, props.questionType),\n                props.optionNumber\n              )}\n              %\n            </TopMarginPercentage>\n          </div>\n          <VoteButton\n            style={{\n              backgroundColor: `${props.getBgColor(props.optionNumber, false)}`,\n            }}\n          >\n            <span\n              style={{\n                width: `${props.calculatePercentageOfOption(\n                  props.countVotes(props.questionNumber, props.questionType),\n                  props.optionNumber\n                )}%`,\n              }}\n              className=\"button\"\n            >\n              <span className=\"vote\">Vote </span> Yes\n            </span>\n            <span className=\"votes\">\n              <span className=\"preview\" />\n              {totalYesVotes} Votes (\n              {Math.round((totalYesVotes / totalVotes) * 100 || 0)}%)\n            </span>\n          </VoteButton>\n        </>\n      ) : (\n        <>\n          <input\n            className=\"form-check-input\"\n            id={`${props.questionNumber}-${props.optionNumber}`}\n            name={`${props.questionNumber}-${props.questionType}`}\n            key={`${props.questionNumber}-${props.optionNumber}-${props.state.vote}`}\n            style={props.getInputStyles(\n              props.questionType,\n              props.questionNumber,\n              props.optionNumber\n            )}\n            type={props.questionType == \"2\" ? \"checkbox\" : \"radio\"}\n            value={props.optionNumber}\n            checked={\n              props.questionType == \"2\"\n                ? props.state.vote[props.questionNumber].includes(\n                    props.optionNumber + \"\"\n                  )\n                : props.state.vote[props.questionNumber] ==\n                  props.optionNumber + \"\"\n            }\n            onClick={\n              props.questionType != \"2\" &&\n              props.clickRadioInputHandler(\n                props.questionNumber,\n                props.optionNumber\n              )\n            }\n            onChange={\n              props.questionType == \"2\" &&\n              props.clickCheckboxInputHandler(\n                props.questionNumber,\n                props.optionNumber\n              )\n            }\n          />\n          <label for={`${props.questionNumber}-${props.optionNumber}`}>\n            {props.option}\n          </label>\n        </>\n      )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/allVotingWidget-Renderpercentage-Mobile-Friendly", "__row_index": 57}
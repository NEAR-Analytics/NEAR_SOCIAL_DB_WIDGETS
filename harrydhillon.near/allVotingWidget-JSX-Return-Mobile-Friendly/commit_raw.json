{"tx_hash": "277zUY6KmasFPb9ygndMwBiVnradRicAbRJzQBvAFLkU", "action_id_social": "3guXF95kbcE2tpfRSsEvwLAzpfFL9hBXBmdvZpbdYoH5-0-widget", "block_id": 92009313, "block_timestamp": "2023-05-16T18:34:06.471Z", "signer_id": "harrydhillon.near", "widget_name": "allVotingWidget-JSX-Return-Mobile-Friendly", "source_code": "const viewFVTokens = () => {\n  const view = Near.view(\"registry.i-am-human.near\", \"sbt_tokens_by_owner\", {\n    account: `${context.accountId}`,\n    issuer: \"gooddollar-v1.i-am-human.near\",\n  });\n  return view?.[0]?.[1]?.[0];\n};\n\nconst fvTokens = viewFVTokens();\n\nreturn (\n  <>\n    {props.poll.value.questions.map((question, questionNumber) => {\n      return (\n        <div\n          style={{\n            border: \"1.5px solid rgb(206, 212, 218)\",\n            borderRadius: \"24px\",\n            position: \"relative\",\n          }}\n          className=\"p-3 my-3\"\n        >\n          <div className=\"d-flex\">\n            <p\n              style={{\n                backgroundColor: \"#353A40\",\n                padding: \"0.15rem 0.65rem\",\n                borderRadius: \"9px\",\n                color: \"white\",\n              }}\n            >\n              {questionNumber + 1}\n            </p>\n            <h4 style={{ fontWeight: \"700\", marginLeft: \"0.8rem\" }}>\n              {question.question}\n            </h4>\n          </div>\n\n          {!props.hasVoted &&\n          (question.questionType == \"0\" || question.questionType == \"1\") ? (\n            <p className=\"mb-1\">Select one option:</p>\n          ) : !props.hasVoted && question.questionType == \"2\" ? (\n            <p className=\"mb-1\">You can check multiple options:</p>\n          ) : (\n            !props.hasVoted && <p className=\"mb-1\">Write your answer:</p>\n          )}\n          {question.questionType != \"3\"\n            ? question.choicesOptions.map((option, optionNumber) => {\n                return props.renderMultipleChoiceInput({\n                  questionNumber: questionNumber,\n                  questionType: question.questionType,\n                  option,\n                  optionNumber,\n                });\n              })\n            : props.renderTextInput(questionNumber)}\n        </div>\n      );\n    })}\n    {props.isQuestionOpen ? (\n      props.hasVoted ? (\n        \"\"\n      ) : props.isVoteValid() && fvTokens ? (\n        <CommitButton\n          className=\"w-100\"\n          style={\n            props.state.hoveringElement != \"voteButton\"\n              ? {\n                  marginTop: \"0.5rem\",\n                  padding: \"0.5rem\",\n                  backgroundColor: \"#000000\",\n                  color: \"#FFFFFF\",\n                  fontSize: \"1rem\",\n                  borderRadius: \"9px\",\n                  border: \"1.5px solid transparent\",\n                }\n              : {\n                  marginTop: \"0.5rem\",\n                  padding: \"0.5rem\",\n                  backgroundColor: \"#FFFFFF\",\n                  color: \"#000000\",\n                  fontSize: \"1rem\",\n                  borderRadius: \"9px\",\n                  border: \"1.5px solid #000000\",\n                }\n          }\n          onMouseEnter={() =>\n            props.stateUpdate({ hoveringElement: \"voteButton\" })\n          }\n          onMouseLeave={() => props.stateUpdate({ hoveringElement: \"\" })}\n          data={props.getPublicationParams()}\n        >\n          Vote\n        </CommitButton>\n      ) : (\n        <>\n          {fvTokens ? (\n            <button\n              className=\"w-100\"\n              style={\n                props.state.hoveringElement != \"voteButton\"\n                  ? {\n                      marginTop: \"0.5rem\",\n                      padding: \"0.5rem\",\n                      backgroundColor: \"#000000\",\n                      color: \"#FFFFFF\",\n                      fontSize: \"1rem\",\n                      borderRadius: \"9px\",\n                      border: \"1.5px solid transparent\",\n                    }\n                  : {\n                      marginTop: \"0.5rem\",\n                      padding: \"0.5rem\",\n                      backgroundColor: \"#FFFFFF\",\n                      color: \"#000000\",\n                      fontSize: \"1rem\",\n                      borderRadius: \"9px\",\n                      border: \"1.5px solid #000000\",\n                    }\n              }\n              onMouseEnter={() =>\n                props.stateUpdate({ hoveringElement: \"voteButton\" })\n              }\n              onMouseLeave={() => props.stateUpdate({ hoveringElement: \"\" })}\n              onClick={() => props.stateUpdate({ showErrorsInForm: true })}\n            >\n              Vote\n            </button>\n          ) : (\n            <>\n              <p className=\"p-2\">\n                In order to vote get verified on{\" \"}\n                <a href=\"https://i-am-human.app\">i-am-human.app</a> and get a FV\n                SBT\n              </p>\n            </>\n          )}\n          {props.state.showErrorsInForm && (\n            <span className=\"text-danger\">Please answer all the questions</span>\n          )}\n        </>\n      )\n    ) : (\n      \"\"\n    )}\n    <p\n      style={{\n        fontWeight: \"500\",\n        fontSize: \"1.1rem\",\n        color: \"#767B8E\",\n        letterSpacing: \"-0.02em\",\n        marginTop: \"0.8rem\",\n      }}\n    >\n      {props.validAnswersToThisPoll.length} votes\n    </p>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/harrydhillon.near/widget/allVotingWidget-JSX-Return-Mobile-Friendly", "__row_index": 2}
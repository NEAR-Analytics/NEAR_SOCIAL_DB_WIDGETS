{"tx_hash": "4PW9dwLEhRjqnjKbg42S3t5KyUoQ5f1hz89ixwSo6h3F", "action_id_social": "GNrkt9shbcgnWBMHS3BMGjboWJfkmpP6MCp3skTPWfHd-0-widget", "block_id": 86922880, "block_timestamp": "2023-03-09 18:10:12.693", "signer_id": "mob.near", "widget_name": "MainPage.Post.Header", "source_code": "const accountId = props.accountId;\nconst blockHeight = props.blockHeight;\nconst postType = props.postType ?? \"post\";\nconst link = props.link;\nconst externalLink = `https://social.near.page/${\n  postType === \"post\" ? \"p\" : \"c\"\n}/${accountId}/${blockHeight}`;\n\nconst clickbaitPrompt =\n  props.clickbaitPrompt ??\n  `Check out this ${postType} on @NearSocial_\\n#NearSocial #NEAR #BOS\\n${externalLink}`;\n\nconst twitterUrl = new URL(\"https://twitter.com/intent/tweet\");\ntwitterUrl.searchParams.set(\"text\", clickbaitPrompt);\n\nconst mailtoUrl = new URL(\"mailto:\");\nmailtoUrl.searchParams.set(\n  \"subject\",\n  `Check out this ${postType} on Near Social`\n);\nmailtoUrl.searchParams.set(\n  \"body\",\n  `Take a look this ${postType}.\n${externalLink}\n`\n);\n\nreturn (\n  <div className=\"d-flex flex-row align-items-center\">\n    <div className=\"flex-grow-1 text-truncate\">\n      <a\n        className=\"text-dark text-decoration-none text-truncate\"\n        href={`#/mob.near/widget/ProfilePage?accountId=${accountId}`}\n      >\n        <Widget\n          src=\"mob.near/widget/Profile.ShortInlineBlock\"\n          props={{ accountId, tooltip: true }}\n        />\n      </a>\n    </div>\n    <span className=\"text-nowrap text-muted\">\n      <small>\n        {blockHeight === \"now\" ? (\n          \"now\"\n        ) : (\n          <a className=\"text-muted\" href={link}>\n            <Widget src=\"mob.near/widget/TimeAgo\" props={{ blockHeight }} />\n          </a>\n        )}\n      </small>\n      {blockHeight !== \"now\" && (\n        <span>\n          <a\n            href=\"javascript:void\"\n            className=\"link-secondary ms-2\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            <i className=\"fs-6 bi bi-three-dots\" />\n          </a>\n          <ul className=\"dropdown-menu\">\n            <li>\n              <Widget\n                src=\"mob.near/widget/CopyButton\"\n                props={{\n                  text: externalLink,\n                  className: \"btn btn-outline-dark dropdown-item\",\n                  label: `Copy link to ${postType}`,\n                }}\n              />\n            </li>\n            <li className=\"dropdown-item\">\n              <a\n                className=\"link-dark text-decoration-none\"\n                href={`${link}&raw=true`}\n              >\n                <i className=\"bi bi-filetype-raw\" /> View raw markdown source\n              </a>\n            </li>\n            <li>\n              <Widget\n                src=\"mob.near/widget/MainPage.Common.HideAccount\"\n                props={{ accountId }}\n              />\n            </li>\n            {props.flagItem && (\n              <li>\n                <Widget\n                  src=\"mob.near/widget/MainPage.Common.FlagContent\"\n                  props={{\n                    item: props.flagItem,\n                    label: `Flag ${postType} for moderation`,\n                  }}\n                />\n              </li>\n            )}\n            <li className=\"dropdown-item\">\n              <a\n                className=\"link-dark text-decoration-none\"\n                href={mailtoUrl.toString()}\n                target=\"_blank\"\n              >\n                <i className=\"bi bi-envelope-at\" /> Share by email\n              </a>\n            </li>\n            <li className=\"dropdown-item\">\n              <a\n                className=\"link-dark text-decoration-none\"\n                href={twitterUrl.toString()}\n                target=\"_blank\"\n              >\n                <i className=\"bi bi-twitter\" />\n                Share on Twitter\n              </a>\n            </li>\n          </ul>\n        </span>\n      )}\n    </span>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/MainPage.Post.Header"}
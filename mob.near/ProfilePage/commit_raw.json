{"tx_hash": "AZoaNTETG3HtU1B99d4syxej9tiSbPwv3Je2t7cSrcE3", "action_id_social": "CaY7H1oh9BdKvhECjseYm38nY5MJjkH2HkJK1KvNCeLJ-0-widget", "block_id": 78832945, "block_timestamp": "2022-11-20 02:12:44.958", "signer_id": "mob.near", "widget_name": "ProfilePage", "source_code": "const accountId = props.accountId ?? context.accountId;\n\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"Loading\";\n}\n\nif (profile === undefined) {\n  return \"Profile not found\";\n}\n\nconst tagsPattern = `*/nametag/${accountId}/tags/*`;\nconst tagsObject = Social.keys(tagsPattern, \"final\");\n\nconst showEditButton =\n  !props.profile && accountId && accountId === context.accountId;\n\nconst name = profile.name;\nconst description = profile.description;\nconst image = profile.image;\nconst backgroundImage = profile.backgroundImage;\nconst tags = Object.keys(profile.tags ?? {});\n\nconst linktree = Object.entries(profile.linktree ?? {});\nconst linktreeElements = {\n  website: {\n    prefix: \"https://\",\n    icon: \"bi-globe2\",\n  },\n  github: {\n    prefix: \"https://github.com/\",\n    icon: \"bi-github\",\n  },\n  twitter: {\n    prefix: \"https://twitter.com/\",\n    icon: \"bi-twitter\",\n  },\n  telegram: {\n    prefix: \"https://t.me/\",\n    icon: \"bi-telegram\",\n  },\n};\n\nconst linktreeObjects = linktree.map((o) => {\n  const key = o[0];\n  let value = o[1];\n  if (!value) {\n    return null;\n  }\n  const e = linktreeElements[key];\n  if (e.prefix) {\n    value = value && value.replace(e.prefix, \"\");\n  }\n  const icon = e.icon ? (\n    <i className={`bi ${e.icon ?? \"\"} text-secondary me-1`}></i>\n  ) : (\n    \"\"\n  );\n  return e.prefix ? (\n    <div>\n      <a href={`${e.prefix}${value}`}>\n        {icon}\n        {value}\n      </a>\n    </div>\n  ) : (\n    <div>\n      {key}: {icon}\n      {value}\n    </div>\n  );\n});\n\nreturn (\n  <div className=\"py-1 px-1\">\n    <div className=\"mx-auto\">\n      <div className=\"bg-white shadow rounded overflow-hidden\">\n        <div className=\"px-4 pt-0 pb-5 bg-dark position-relative\">\n          {backgroundImage && (\n            <Widget\n              src=\"mob.near/widget/Image\"\n              props={{\n                image: backgroundImage,\n                alt: \"profile background\",\n                className: \"position-absolute w-100 h-100\",\n                style: { objectFit: \"cover\", left: 0, top: 0 },\n                fallbackUrl:\n                  \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\",\n              }}\n            />\n          )}\n          {showEditButton && (\n            <a\n              href=\"#/mob.near/widget/ProfileEditor\"\n              className=\"btn mt-4 btn-outline-light float-end position-relative\"\n              style={{ zIndex: 1 }}\n            >\n              Edit profile\n            </a>\n          )}\n          <div\n            className=\"profile-picture d-inline-block\"\n            style={{ transform: \"translateY(7rem)\" }}\n          >\n            <Widget\n              src=\"mob.near/widget/ProfileImage\"\n              props={{\n                profile,\n                accountId,\n                style: { width: \"10rem\", height: \"10rem\" },\n                className: \"mb-2\",\n                imageClassName:\n                  \"rounded-circle w-100 h-100 img-thumbnail d-block\",\n                thumbnail: false,\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"bg-light px-4 pb-4 \">\n          <div\n            className=\"d-md-flex justify-content-between\"\n            style={{ paddingTop: \"1rem\" }}\n          >\n            <div style={{ paddingTop: \"3rem\" }}>\n              <h4 className=\"mt-0 mb-0\">{name}</h4>\n              <p className=\"small\">\n                <i className=\"bi bi-person-fill text-secondary me-1\"></i>\n                {accountId}\n              </p>\n            </div>\n            <div style={{ minWidth: \"12rem\" }}>{linktreeObjects}</div>\n          </div>\n          {tags.length > 0 && (\n            <div>\n              {tags.map((tag) => (\n                <span className=\"me-1 mb-1 badge bg-secondary\">#{tag}</span>\n              ))}\n            </div>\n          )}\n          {Object.keys(tagsObject || {}).length && (\n            <div>\n              <div className=\"public-tags collapse show\">\n                <button\n                  className=\"btn btn-sm btn-outline-secondary border-0\"\n                  data-bs-toggle=\"collapse\"\n                  data-bs-target={`.public-tags`}\n                  aria-expanded=\"false\"\n                  aria-controls={\"public-tags\"}\n                >\n                  <i className=\"bi bi-arrows-angle-expand me-1\"></i>Show public\n                  tags\n                </button>\n              </div>\n              <div className=\"collapse public-tags\">\n                <Widget\n                  src=\"mob.near/widget/PublicTags\"\n                  props={{ accountId }}\n                />\n              </div>\n            </div>\n          )}\n\n          {description && (\n            <>\n              <hr />\n              <div>\n                <Markdown text={description} />\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": NaN, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/ProfilePage", "branch.draft.": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.profile": NaN, "branch.draft.metadata": NaN, "metadata.description": NaN, "metadata.tags.app": NaN, "metadata.tags.page": NaN, "metadata.tags.social": NaN, "metadata.image.url": NaN, "metadata.tags.ethdenver2023": NaN, "branch.draft": NaN}
{"tx_hash": "ELZbDNdc59mycAoWmuDpnHi5TT1LqXZk9vnhvM73FzEt", "action_id_social": "5oqGKiikQuurAGkxH7gGyUC9Z4m8tJ9PG8Agf7g8NTXG-0-widget", "block_id": 78809577, "block_timestamp": "2022-11-19 18:36:32.418", "signer_id": "mob.near", "widget_name": "PublicTagEditor", "source_code": "// LabelEditor\nconst ownerId = \"zavodil.near\";\nconst appName = \"nametag\";\nconst accountId = context.accountId;\nconst contractId = props.contractId ?? ownerId;\nconst debug = props.debug ?? false;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet\";\n}\n\nState.init({ contractId });\n\nconst metadata = Social.getr(`*/${appName}/${state.contractId}`, \"final\");\nif (metadata === null) {\n  return \"Loading\";\n}\n\n// current user tags only\nconst tagsPattern = `*/${appName}/*/tags/*`;\n\nreturn (\n  <div className=\"row\">\n    <div className=\"col-lg-6\">\n      <div>\n        <h4>Name tag editor</h4>\n      </div>\n      <div className=\"mb-2\">\n        <Widget\n          src={\"mob.near/widget/MetadataEditor\"}\n          key={`public-tags-${contractId}`}\n          props={{\n            initialMetadata: metadata,\n            onChange: (metadata) => {\n              State.update({ metadata });\n            },\n            options: {\n              tags: {\n                label: \"Public Tags\",\n                pattern,\n                placeholder: \"binance, cex, nft, ft, fake, scam\",\n              },\n            },\n          }}\n        />\n      </div>\n      <div className=\"mb-2\">\n        <CommitButton\n          data={{\n            [appName]: {\n              [state.contractId]: state.metadata,\n            },\n          }}\n        >\n          Save labels\n        </CommitButton>\n        <a\n          className=\"btn btn-outline-primary ms-2\"\n          href={`#/${ownerId}/widget/ContractPage?contractId=${state.contractId}`}\n        >\n          View profile\n        </a>\n      </div>\n    </div>\n    <div className=\"col-lg-6\">\n      <div>\n        <h4>Preview</h4>\n        <br />\n      </div>\n      <div>\n        <Widget\n          src={`${ownerId}/widget/ContractPage`}\n          props={{ contractId: state.contractId }}\n        />\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/PublicTagEditor"}
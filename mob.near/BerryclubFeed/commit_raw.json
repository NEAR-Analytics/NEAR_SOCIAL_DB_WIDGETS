{"tx_hash": "DzPfUBed7WxHimCnTvbS86LRNSMnwybDnXbVm3DHzhca", "action_id_social": "VKcqrw6n48wVztRordhowRgD4iafXh5NtaLjZ1dp6Ai-0-widget", "block_id": 80004644, "block_timestamp": "2022-12-06 00:30:44.186", "signer_id": "mob.near", "widget_name": "BerryclubFeed", "source_code": "const items = Social.index(\"post\", \"berryclub\", {\n  order: \"desc\",\n});\n\nif (!items) {\n  return \"Loading\";\n}\n\nconst profileLink = (accountId, c) => (\n  <a\n    className=\"text-decoration-none link-dark\"\n    href={`#/mob.near/widget/ProfilePage?accountId=${accountId}`}\n  >\n    {c}\n  </a>\n);\n\nconst renderItem = (a) => {\n  const accountId = a.accountId;\n  const whenPostedBlockHeight = a.blockHeight;\n  const blockHeight = parseInt(a.value?.blockHeight ?? a.value);\n  const contract = a.value?.contract ?? \"berryclub.ek.near\";\n  return (\n    <div key={JSON.stringify(a)} style={{ minHeight: \"40vh\" }}>\n      <div style={{ maxWidth: \"45vh\" }}>\n        <div\n          className=\"d-flex align-items-start\"\n          style={{\n            padding: \"1.5rem 0\",\n          }}\n        >\n          <div>\n            {profileLink(\n              accountId,\n              <Widget\n                src=\"mob.near/widget/ProfileImage\"\n                props={{ accountId }}\n              />\n            )}\n          </div>\n          <div className=\"ms-2 flex-grow-1\" style={{ minWidth: 0 }}>\n            <div className=\"d-flex justify-content-start\">\n              <div className=\"flex-grow-1 me-1 text-truncate\">\n                {profileLink(\n                  accountId,\n                  <>\n                    <span className=\"fw-bold\">{profile.name}</span>\n                    <span className=\"text-secondary\">@{accountId}</span>\n                  </>\n                )}\n              </div>\n              <div>\n                <small className=\"ps-1 text-nowrap text-muted ms-auto\">\n                  <i className=\"bi bi-clock me-1\"></i>\n                  <Widget\n                    src=\"mob.near/widget/TimeAgo\"\n                    props={{ blockHeight: whenPostedBlockHeight }}\n                  />\n                </small>\n              </div>\n            </div>\n            <div\n              className=\"d-block ratio ratio-1x1 mb-1\"\n              style={{ maxHeight: \"40vh\" }}\n            >\n              <a\n                href={`#/mob.near/widget/BerryclubBoard?blockHeight=${blockHeight}&contract=${contract}`}\n                target=\"_blank\"\n              >\n                <Widget\n                  src=\"mob.near/widget/BerryclubBoard\"\n                  props={{ blockHeight, contract }}\n                />\n              </a>\n            </div>\n            <div>\n              <a\n                href={`#/mob.near/widget/BerryclubHistory?blockHeight=${blockHeight}&contract=${contract}`}\n                target=\"_blank\"\n                className=\"btn btn-outline-dark\"\n              >\n                Finetune {contract === \"v1.dacha-finance.near\" ? \"\ud83e\udd54\" : \"\ud83e\udd51\"} #\n                {blockHeight}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nreturn <Widget src=\"mob.near/widget/ItemFeed\" props={{ items, renderItem }} />;\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/BerryclubFeed"}
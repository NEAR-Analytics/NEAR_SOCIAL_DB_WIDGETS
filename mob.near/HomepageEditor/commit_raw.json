{"tx_hash": "4U3kq6aGbtJNXbejWS3iL7Kn29PcKP5c8KXzsP3AZhYa", "action_id_social": "72HX86eDmTJQvVsyyrbzwyLwNc8Vh5pufekxwDmVpXEm-0-widget", "block_id": 78741238, "block_timestamp": "2022-11-18 20:28:14.237", "signer_id": "mob.near", "widget_name": "HomepageEditor", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet to edit your homepage\";\n}\n\nconst defaultHomepage = \"mob.near/widget/Welcome\";\n\nconst homepage = Social.get(`${accountId}/settings/near.social/homepage`);\n\nif (homepage === null) {\n  return \"Loading\";\n}\n\ninitState({\n  homepage: homepage ?? defaultHomepage,\n});\n\nconst resetHomepage = () => {\n  state.homepage = defaultHomepage;\n  State.update();\n};\n\nreturn (\n  <div>\n    <div>\n      <h4>Edit your homepage</h4>\n    </div>\n    <div className=\"mb-2\">\n      Widget:\n      <input type=\"text\" value={state.homepage} placeholder={defaultHomepage} />\n    </div>\n    <div className=\"mb-2\">\n      <CommitButton\n        data={{ settings: { \"near.social\": { homepage: state.homepage } } }}\n      >\n        Save homepage\n      </CommitButton>\n      {state.homepage !== defaultHomepage && (\n        <button\n          className=\"btn btn-outline-primary ms-2\"\n          onClick={resetHomepage}\n        >\n          Reset homepage\n        </button>\n      )}\n      {homepage === state.homepage && (\n        <a className=\"btn btn-outline-primary ms-2\" href={`#/`}>\n          Open homepage\n        </a>\n      )}\n    </div>\n    <hr />\n    <div className=\"mb-2\">\n      <Widget src={state.homepage} />\n    </div>\n  </div>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/mob.near/widget/HomepageEditor", "metadata.description": "A simple widget to change the homepage widget", "metadata.image.ipfs_cid": "bafkreibznummidm22ok7ztm6cxfw7it4zwbeyx2ajfzcm5p644ec4ipymm", "metadata.name": "Change the Homepage widget", "metadata.tags.app": "", "metadata.tags.settings": ""}
{"tx_hash": "5EgRtcwhuMz7LzUVfLBn3aUxKdo9u5dySPtDGqkX4sf", "action_id_social": "CrfrZm5RxpFpsFqTsHGYJ7APNCgLHqw3WdmTWbmdAejL-0-widget", "block_id": 89547745, "block_timestamp": "2023-04-14 07:24:32.807", "signer_id": "williamxx.near", "widget_name": "CreatePoll-CreativesDAO", "source_code": "const accountId = props.accountId ?? context.accountId;\r\nconst daoId = props.daoId ?? \"creativesdao.sputnik-dao.near\";\r\n\r\nif (!accountId) {\r\n  return \"Please connect your NEAR wallet :)\";\r\n}\r\n\r\nState.init({\r\n  description: state.description,\r\n});\r\n\r\nconst handleProposal = () => {\r\n  if (!state.description) {\r\n    return;\r\n  }\r\n  const gas = 150000000000000;\r\n  const deposit = 100000000000000000000000;\r\n  Near.call([\r\n    {\r\n      contractName: daoId,\r\n      methodName: \"add_proposal\",\r\n      args: {\r\n        proposal: {\r\n          description: state.description,\r\n          kind: \"Vote\",\r\n        },\r\n      },\r\n      gas: gas,\r\n      deposit: deposit,\r\n    },\r\n  ]);\r\n};\r\n\r\nconst onChangeDescription = (description) => {\r\n  State.update({\r\n    description,\r\n  });\r\n};\r\n\r\nreturn (\r\n  <div className=\"mb-3\">\r\n    To proceed with the payout process, please create a poll. The poll should\r\n    include:\r\n    <h6>\r\n      DAO Name, Creatives DAO funding [Month], Total request amount in USD,\r\n      Target Wallet:\r\n    </h6>\r\n    <input type=\"text\" onChange={(e) => onChangeDescription(e.target.value)} />\r\n    <button className=\"btn btn-outline-primary mt-3\" onClick={handleProposal}>\r\n      Create Poll\r\n    </button>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/williamxx.near/widget/CreatePoll-CreativesDAO"}
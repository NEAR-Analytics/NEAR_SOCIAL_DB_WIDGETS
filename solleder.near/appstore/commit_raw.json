{"tx_hash": "D25LeEYxcSXQcSQtNzXYQiDsLDYzDoNL3iw3Azpu4eWW", "action_id_social": "6xtVCNUJBc1GQwb1KyEp5oDyUwtyWbgVvX3fvzzc1gEt-0-widget", "block_id": 83092077, "block_timestamp": "2023-01-16 16:12:17.134", "signer_id": "solleder.near", "widget_name": "appstore", "source_code": "const APP_STORE = \"solleder.near\";\nconst STORE_KEY = \"DISCOVERY_APPS\";\nconst STORE_TILE = `${APP_STORE}/widget/app_store_tile`;\n\nconst accountId = context.accountId;\n\nif (context.loading) {\n  return \"Loading\";\n}\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet to use this widget\";\n}\n\nconst FETCH_APPS_KEY = `*/${STORE_KEY}/*`;\nlet apps = Social.keys(FETCH_APPS_KEY, \"final\") || {};\n\nif (!apps) {\n  return \"Loading\";\n}\n\napps = Object.entries(apps).reduce((acc, [owner, userApps]) => {\n  console.log(\"owner\", owner);\n  console.log(\"userApps\", userApps);\n  console.log(\"acc\", acc);\n  return acc.concat(\n    Object.entries(userApps[STORE_KEY]).map(([appName, app]) => {\n      return { owner, appName, app, key: `${owner}/${appName}` };\n    })\n  );\n}, []);\n\nreturn (\n  <div className=\"container\">\n    <div className=\"row mb-3\">\n      <div className=\"col-12\">\n        <h1>App Store</h1>\n        <p>\n          This is a list of apps that have been submitted to the app store. You\n          can submit your own app by clicking the button below.\n        </p>\n        <a\n          href={`#/${accountId}/widget/discovery.1?w=app_editor`}\n          className=\"btn btn-primary\"\n        >\n          Submit App\n        </a>\n      </div>\n    </div>\n\n    <div className=\"row\">\n      {apps.map(({ key, owner, appName }) => {\n        return (\n          <Widget\n            src={STORE_TILE}\n            props={{ accountId: owner, appName }}\n            key={key}\n          />\n        );\n      })}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/solleder.near/widget/appstore"}
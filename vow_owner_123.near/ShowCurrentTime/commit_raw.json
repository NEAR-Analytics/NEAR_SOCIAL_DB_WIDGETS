{"tx_hash": "38vF9uGngoEUhqodm64peDrTCEmBMrufYhWduXknhE2x", "action_id_social": "7qvmKcvPeNTyMoV3Fiit3Mo81VmEFfj7nb6F4awxTvBJ-1-widget", "block_id": 86175977, "block_timestamp": "2023-02-27 16:20:09.448", "signer_id": "vow_owner_123.near", "widget_name": "ShowCurrentTime", "source_code": "State.init({\r\n  current_time: null,\r\n  world_time: null,\r\n});\r\n\r\nconst code = `\r\n<script>\r\n    window.addEventListener(\"message\", (event) => {\r\n        setInterval(() => event.source.postMessage(\"ping\", \"*\"), event.data.timeout);\r\n    });\r\n</script>\r\n`;\r\n\r\nfunction onInterval() {\r\n  var today = new Date();\r\n  var month = today.getMonth() + 1;\r\n  var day = today.getDate();\r\n  var year = today.getFullYear();\r\n  var hour = today.getHours() > 12 ? today.getHours() - 12 : today.getHours();\r\n  var minute = today.getMinutes();\r\n  var seconds = today.getSeconds();\r\n\r\n  var utc_year = today.getUTCFullYear();\r\n  var utc_day = today.getUTCDate();\r\n  var utc_month = today.getUTCMonth() + 1;\r\n  var utc_hour = today.getUTCHours();\r\n  var utc_minute = today.getUTCMinutes();\r\n\r\n  State.update({\r\n    current_time: month + \"/\" + day + \"/\" + year + \" - \" + hour + \":\" + minute,\r\n    world_time:\r\n      utc_month +\r\n      \"/\" +\r\n      utc_day +\r\n      \"/\" +\r\n      utc_year +\r\n      \" - \" +\r\n      utc_hour +\r\n      \":\" +\r\n      utc_minute,\r\n  });\r\n}\r\n\r\nreturn (\r\n  <div>\r\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n      {state.current_time && (\r\n        <div\r\n          style={{\r\n            fontSize: font_big,\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >{`UTC Time: ${state.world_time}`}</div>\r\n      )}\r\n      {state.world_time && (\r\n        <div\r\n          style={{\r\n            fontSize: font_big,\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >{`Locale Time: ${state.current_time}`}</div>\r\n      )}\r\n    </div>\r\n    <iframe\r\n      style={{ height: \"0px\" }}\r\n      srcDoc={code}\r\n      message={{ timeout: 1000 }}\r\n      onMessage={onInterval}\r\n    />\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/vow_owner_123.near/widget/ShowCurrentTime"}
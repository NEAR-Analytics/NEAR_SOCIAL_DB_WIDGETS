{"tx_hash": "E6jmtwwmyAFwufQpBp3Mgc7xDv3StPaPFsvx6upSaCoE", "action_id_social": "8yr6NoCrTy5ky1AsfV1D11xNNr5iHRUCwkSYaVU5KbSg-0-widget", "block_id": 81311669, "block_timestamp": "2022-12-23 21:49:07.658", "signer_id": "gov.near", "widget_name": "CommentList", "source_code": "const comments = Social.index(\"project\", \"comments\") || [];\ncomments = comments.reverse();\n\nconst { searchString, setSelectedComment } = props;\n\nreturn (\n  <div className=\"d-flex flex-column gap-1\">\n    <div className=\"d-flex justify-content-end\"></div>\n    <div className=\"d-flex flex-column gap-3\">\n      {comments.map((q) => {\n        const commenter = q.value.split(\"--\")[0];\n        const comment = Social.getr(\n          `${commenter}/experimental/genie/comments/${q.value}`\n        );\n        // return nothing if data does not meet schema\n        if (!comment?.title || !comment?.content) {\n          return <></>;\n        }\n\n        // return nothing if comment does not meet search criteria\n        if (\n          searchString &&\n          !comment.title.toLowerCase().includes(searchString.toLowerCase()) &&\n          !comment.content.toLowerCase().includes(searchString.toLowerCase())\n        ) {\n          return <></>;\n        }\n        return (\n          <div\n            key={q.value}\n            className=\"d-flex flex-column gap-1\"\n            style={{\n              borderTop: \"0.5px solid #D3D3D3\",\n              padding: \"1.5rem 0 0 0\",\n            }}\n            onClick={() => {\n              setSelectedComment(q.value);\n            }}\n          >\n            <Widget\n              src={\"michaelpeter.near/widget/GenieQuestionView\"}\n              props={{ commentRef: q.value, searchString: props.searchString }}\n            />\n          </div>\n        );\n      })}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/gov.near/widget/CommentList"}
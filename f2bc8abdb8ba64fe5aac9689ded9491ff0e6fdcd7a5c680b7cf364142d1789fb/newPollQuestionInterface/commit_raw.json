{"tx_hash": "8i4Gawret1vyjkui2nz9pZ8SbyEqTz2Qik8R77CJi9jX", "action_id_social": "J2DAyMeo5r2kXShHZZ56chaMdRWdRr9kkT1MTQ6nDpUZ-0-widget", "block_id": 83801143, "block_timestamp": "2023-01-26 01:13:26.344", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newPollQuestionInterface", "source_code": "/********** Start validations ************/\r\n\r\n/********** End validations ************/\r\n\r\n/********** Start initialization ************/\r\n\r\nState.init({\r\n  pollTitle: \"\",\r\n  pollDescription: \"\",\r\n  pollDiscussionLink: \"\",\r\n  pollStartDate: \"\",\r\n  pollEndDate: \"\",\r\n  amountOfQuestions: 1,\r\n  questions: [\"\"],\r\n  //Next 3 are setted with those values so theres a default value for pollTypes\r\n  // Treated as a number throws an error\r\n  pollTypes: [\"0\"],\r\n  choices: [[\"Yes\", \"No\"]],\r\n  amountOfChoices: [2],\r\n  showErrorsInForm: false,\r\n  showPreview: false,\r\n  showSendFeedback: false,\r\n  sectionShown: \"mainInfo\",\r\n  hoveringElement: \"\",\r\n});\r\n\r\nlet amountOfQuestions = [];\r\nfor (let i = 0; i < state.amountOfQuestions; i++) {\r\n  amountOfQuestions.push(i);\r\n}\r\n/********** End initialization ************/\r\n\r\n/********** Start constants ************/\r\n\r\nconst pollTypes = {\r\n  TEXT: { id: \"0\", value: \"Text\" },\r\n  SINGLE_ANSWER: { id: \"1\", value: \"Single answer\" },\r\n  MULTISELECT: { id: \"2\", value: \"Multiselect\" },\r\n  YES_OR_NO: { id: \"3\", value: \"Yes or No\" },\r\n};\r\n\r\nconst widgetOwner =\r\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\r\n\r\nconst MODAL_TYPES = {\r\n  PREVIEW: {\r\n    id: 0,\r\n    text: \"preview\",\r\n  },\r\n  SEND_FEEDBACK: {\r\n    id: 1,\r\n    text: \"sendFeedback\",\r\n  },\r\n};\r\n\r\nconst QUESTION_TYPE_DISPLAY = {\r\n  YES_NO: {\r\n    id: 0,\r\n    text: \"Yes or no\",\r\n    type: \"radio\",\r\n    length: 2,\r\n  },\r\n  SINGLE_ANSWER: {\r\n    id: 1,\r\n    text: \"Single Answer\",\r\n    type: \"radio\",\r\n    length: 3,\r\n  },\r\n  MULTISELECT: {\r\n    id: 2,\r\n    text: \"Multiselect\",\r\n    type: \"checkbox\",\r\n    length: 3,\r\n  },\r\n  TEXT_ANSWER: {\r\n    id: 3,\r\n    text: \"Text Answer\",\r\n    type: null,\r\n    length: 3,\r\n  },\r\n};\r\n\r\n/********** End constants ************/\r\n\r\n/********** Start styles ************/\r\n\r\nconst styleUnderline = {\r\n  backgroundImage: \"linear-gradient(black 0 0)\",\r\n  backgroundPosition: \"bottom center\",\r\n  backgroundSize:\r\n    \"60% 2px\" /*Adjust the background size to control length and height*/,\r\n  backgroundRepeat: \"no-repeat\",\r\n  paddingBottom: \"4px\" /* this can also control the position */,\r\n};\r\n\r\nfunction getStyles(inputData) {\r\n  return !inputData && state.showErrorsInForm\r\n    ? {\r\n        backgroundColor: \"white\",\r\n        padding: \"0.5rem 1.5rem\",\r\n        borderRadius: \"0.8rem\",\r\n        color: \"#474D55\",\r\n        letterSpacing: \"-0.01em\",\r\n        width: \"100%\",\r\n        border: \"1px solid #dc3545\",\r\n        borderOpacity: \"1\",\r\n      }\r\n    : {\r\n        border: \"1.5px solid #E1E9F0\",\r\n        backgroundColor: \"white\",\r\n        padding: \"0.5rem 1.5rem\",\r\n        borderRadius: \"0.8rem\",\r\n        color: \"#474D55\",\r\n        letterSpacing: \"-0.01em\",\r\n        width: \"100%\",\r\n      };\r\n}\r\n\r\nfunction getTypeOfQuestionSelectionStyles(questionNumber, typeOfQuestion) {\r\n  let style = {\r\n    padding: \"1rem\",\r\n    borderRadius: \"1rem\",\r\n    cursor: \"pointer\",\r\n  };\r\n  if (state.pollTypes[questionNumber] == typeOfQuestion) {\r\n    return {\r\n      ...style,\r\n      border: \"1.5px solid #353A40\",\r\n      position: \"relative\",\r\n    };\r\n  } else {\r\n    return {\r\n      ...style,\r\n      border: \"1.5px solid #E1E9F0\",\r\n    };\r\n  }\r\n}\r\n\r\n// TODO compare with function isValidInput and use it\r\nfunction getDangerClassIfNeeded(tab) {\r\n  let shouldDisplayNormalStyles = true;\r\n  if (state.showErrorsInForm) {\r\n    for (let i = 0; i < state.amountOfQuestions; i++) {\r\n      if (tab == \"MainInformation\") {\r\n        shouldDisplayNormalStyles =\r\n          shouldDisplayNormalStyles && state.pollTitle != \"\";\r\n        shouldDisplayNormalStyles =\r\n          shouldDisplayNormalStyles && state.pollDescription != \"\";\r\n        shouldDisplayNormalStyles = shouldDisplayNormalStyles && isValidLink();\r\n        shouldDisplayNormalStyles =\r\n          shouldDisplayNormalStyles && state.pollStartDate != \"\";\r\n        shouldDisplayNormalStyles =\r\n          shouldDisplayNormalStyles && state.pollEndDate != \"\";\r\n        shouldDisplayNormalStyles =\r\n          shouldDisplayNormalStyles &&\r\n          getTimestamp(state.pollStartDate) < getTimestamp(state.pollEndDate);\r\n      } else if (state.sectionShown == \"questions\") {\r\n        if (\r\n          state.pollTypes[i] == pollTypes.SINGLE_ANSWER.id ||\r\n          state.pollTypes[i] == pollTypes.MULTISELECT.id\r\n        ) {\r\n          shouldDisplayNormalStyles =\r\n            shouldDisplayNormalStyles &&\r\n            !(state.choices[i].filter((c) => c != \"\").length < 2);\r\n        }\r\n        shouldDisplayNormalStyles =\r\n          shouldDisplayNormalStyles && state.questions[i] != \"\";\r\n      }\r\n    }\r\n  }\r\n\r\n  if (state.showErrorsInForm) {\r\n    return !shouldDisplayNormalStyles && \"text-danger\";\r\n  }\r\n  return \"\";\r\n}\r\n\r\n/********** End styles ************/\r\n\r\n/********** Start functions ************/\r\n\r\nfunction getPublicationParams(isDraft) {\r\n  let paramQuestions = [];\r\n\r\n  for (let i = 0; i < state.questions.length; i++) {\r\n    paramQuestions.push({\r\n      question: state.questions[i],\r\n      questionType: state.pollTypes[i],\r\n      choicesOptions: state.choices[i].filter((c) => c != \"\"),\r\n    });\r\n  }\r\n\r\n  return {\r\n    index: {\r\n      poll_question: JSON.stringify(\r\n        {\r\n          key: \"question-v3.1.1\",\r\n          value: {\r\n            isDraft,\r\n            title: state.pollTitle,\r\n            description: state.pollDescription,\r\n            tgLink: state.pollDiscussionLink,\r\n            startTimestamp: getTimestamp(state.pollStartDate),\r\n            endTimestamp: getTimestamp(state.pollEndDate),\r\n            questions: paramQuestions,\r\n            timestamp: Date.now(),\r\n          },\r\n        },\r\n        undefined,\r\n        0\r\n      ),\r\n    },\r\n  };\r\n}\r\n\r\nfunction getTimestamp(date) {\r\n  return new Date(`${date}`).getTime();\r\n}\r\n\r\nfunction isValidHttpUrl(string) {\r\n  let url;\r\n  try {\r\n    url = new URL(string);\r\n  } catch (_) {\r\n    return false;\r\n  }\r\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\r\n}\r\n\r\nfunction validateOptionsSettedProperly() {\r\n  let allQuestionsValid = true;\r\n  for (let i = 0; i < amountOfQuestions.length; i++) {\r\n    if (\r\n      state.pollTypes[i] == pollTypes.SINGLE_ANSWER.id ||\r\n      state.pollTypes[i] == pollTypes.MULTISELECT.id\r\n    ) {\r\n      allQuestionsValid =\r\n        allQuestionsValid &&\r\n        state.choices[i].filter((c) => c != \"\").length >= 2;\r\n    }\r\n  }\r\n  return allQuestionsValid;\r\n}\r\n\r\nfunction validateQuestionsSettedProperly() {\r\n  let allQuestionsValid = true;\r\n  for (let i = 0; i < amountOfQuestions.length; i++) {\r\n    allQuestionsValid = allQuestionsValid && state.questions[i] != \"\";\r\n  }\r\n  return allQuestionsValid;\r\n}\r\n\r\nfunction isValidInput(validateQuestions) {\r\n  let result = true;\r\n  result = result && state.pollTitle != \"\";\r\n  result = result && state.pollDescription != \"\";\r\n  result = result && isValidLink();\r\n  result = result && state.pollStartDate != \"\";\r\n  result = result && state.pollEndDate != \"\";\r\n  if (validateQuestions) {\r\n    result = result && validateQuestionsSettedProperly();\r\n  }\r\n  result =\r\n    result &&\r\n    getTimestamp(state.pollStartDate) < getTimestamp(state.pollEndDate);\r\n  result = result && validateOptionsSettedProperly();\r\n  return result;\r\n}\r\n\r\nfunction deleteChoiceHandler(questionNumber, choiceNumber) {\r\n  if (state.amountOfChoices[questionNumber] > 1) {\r\n    let thisQuestionChoices = state.choices[questionNumber];\r\n\r\n    let newThisQuestionChoices = [];\r\n\r\n    for (let i = 0; i < thisQuestionChoices.length; i++) {\r\n      if (i != choiceNumber) {\r\n        newThisQuestionChoices.push(thisQuestionChoices[i]);\r\n      }\r\n    }\r\n\r\n    let newChoices = state.choices;\r\n    newChoices[questionNumber] = newThisQuestionChoices;\r\n\r\n    let newAmountOfChoices = state.amountOfChoices;\r\n    newAmountOfChoices[questionNumber] =\r\n      Number(newAmountOfChoices[questionNumber]) - 1;\r\n\r\n    State.update({\r\n      amountOfChoices: newAmountOfChoices,\r\n      choices: newChoices,\r\n    });\r\n  }\r\n}\r\n\r\nfunction addChoicesHandler(questionNumber) {\r\n  let newchoices = state.choices;\r\n  newchoices[questionNumber].push(\"\");\r\n\r\n  let newAmountOfChoices = state.amountOfChoices;\r\n  newAmountOfChoices[questionNumber] =\r\n    Number(newAmountOfChoices[questionNumber]) + 1;\r\n\r\n  State.update({\r\n    amountOfChoices: newAmountOfChoices,\r\n    choices: newchoices,\r\n  });\r\n}\r\n\r\nfunction isValidLink() {\r\n  if (!state.pollDiscussionLink) return true;\r\n  return (\r\n    state.pollDiscussionLink.startsWith(\"https://t.me\") ||\r\n    state.pollDiscussionLink.startsWith(\"https://miro.com/\") ||\r\n    state.pollDiscussionLink.startsWith(\"https://docs.google.com/\") ||\r\n    state.pollDiscussionLink.startsWith(\"https://gov.near.org/\") ||\r\n    state.pollDiscussionLink.startsWith(\"https://discord.gg/\")\r\n  );\r\n}\r\n\r\n/********** End functions ************/\r\n\r\n/********** Start components ************/\r\n\r\nconst renderModal = (modalType) => {\r\n  return (\r\n    <div\r\n      className=\"modal\"\r\n      id=\"modal\"\r\n      style={\r\n        (state.showPreview || state.showSendFeedback) && {\r\n          display: \"block\",\r\n          backgroundColor: \"#7e7e7e70\",\r\n        }\r\n      }\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      onClick={(e) => {\r\n        if (e.target.id == \"modal\" && state.showSendFeedback) {\r\n          State.update({\r\n            pollTitle: \"\",\r\n            pollDescription: \"\",\r\n            pollDiscussionLink: \"\",\r\n            pollStartDate: \"\",\r\n            pollEndDate: \"\",\r\n            amountOfQuestions: 1,\r\n            questions: [\"\"],\r\n            pollTypes: [\"0\"],\r\n            choices: [[\"\"]],\r\n            amountOfChoices: [1],\r\n            showSendFeedback: false,\r\n          });\r\n        } else if (e.target.id == \"modal\") {\r\n          State.update({ showPreview: false });\r\n        }\r\n      }}\r\n    >\r\n      <div className=\"modal-dialog\" style={{ maxWidth: \"80%\" }} role=\"document\">\r\n        <div\r\n          className=\"modal-content\"\r\n          style={\r\n            state.showSendFeedback\r\n              ? { backgroundColor: \"rgb(230, 230, 230)\", marginTop: \"30vh\" }\r\n              : { backgroundColor: \"rgb(230, 230, 230)\" }\r\n          }\r\n        >\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\">Preview</h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              dataDismiss=\"modal\"\r\n              ariaLabel=\"Close\"\r\n              onClick={() => {\r\n                if (state.showSendFeedback) {\r\n                  State.update({\r\n                    pollTitle: \"\",\r\n                    pollDescription: \"\",\r\n                    pollDiscussionLink: \"\",\r\n                    pollStartDate: \"\",\r\n                    pollEndDate: \"\",\r\n                    amountOfQuestions: 1,\r\n                    questions: [\"\"],\r\n                    pollTypes: [\"0\"],\r\n                    choices: [[\"\"]],\r\n                    amountOfChoices: [1],\r\n                    showSendFeedback: false,\r\n                  });\r\n                } else {\r\n                  State.update({ showPreview: false });\r\n                }\r\n              }}\r\n            >\r\n              <span ariaHidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div\r\n            className=\"modal-body\"\r\n            style={{\r\n              width: \"90%\",\r\n              borderRadius: \"1rem\",\r\n              backgroundColor: \"white\",\r\n              margin: \"0 auto\",\r\n            }}\r\n          >\r\n            {modalType == MODAL_TYPES.PREVIEW ? (\r\n              <Widget\r\n                src={`${widgetOwner}/widget/newVotingInterface`}\r\n                props={{\r\n                  isPreview: true,\r\n                  previewInfo: {\r\n                    accountId: context.accountId,\r\n                    blockHeight: undefined,\r\n                    value: {\r\n                      tgLink: state.pollDiscussionLink,\r\n                      isDraft,\r\n                      title: state.pollTitle,\r\n                      description: state.pollDescription,\r\n                      startTimestamp: getTimestamp(state.pollStartDate),\r\n                      endTimestamp: getTimestamp(state.pollEndDate),\r\n                      questions: state.questions,\r\n                      questionTypes: state.pollTypes,\r\n                      choicesOptions: state.choices.forEach((questionChoices) =>\r\n                        questionChoices.filter((c) => c != \"\")\r\n                      ),\r\n                      timestamp: Date.now(),\r\n                    },\r\n                  },\r\n                }}\r\n              />\r\n            ) : (\r\n              modalType == MODAL_TYPES.SEND_FEEDBACK && (\r\n                <p styles={{ textAling: \"center\" }}>\r\n                  Poll created succesfully!\r\n                </p>\r\n              )\r\n            )}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              onClick={() => {\r\n                if (state.showSendFeedback) {\r\n                  State.update({\r\n                    pollTitle: \"\",\r\n                    pollDescription: \"\",\r\n                    pollDiscussionLink: \"\",\r\n                    pollStartDate: \"\",\r\n                    pollEndDate: \"\",\r\n                    amountOfQuestions: 1,\r\n                    questions: [\"\"],\r\n                    pollTypes: [\"0\"],\r\n                    choices: [[\"\"]],\r\n                    amountOfChoices: [1],\r\n                    showSendFeedback: false,\r\n                  });\r\n                } else {\r\n                  State.update({ showPreview: false });\r\n                }\r\n              }}\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst renderTextInputsForChoices = (questionNumber) => {\r\n  let thisQuestionChoices = [];\r\n\r\n  for (let i = 0; i < state.amountOfChoices[questionNumber]; i++) {\r\n    thisQuestionChoices.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {thisQuestionChoices.map((choiceNumber) => {\r\n        return (\r\n          <div className=\"mb-2\">\r\n            <div style={{ position: \"relative\" }}>\r\n              <input\r\n                style={{\r\n                  backgroundColor: \"white\",\r\n                  padding: \"0.5rem 1.5rem\",\r\n                  borderRadius: \"0.8rem\",\r\n                  border: \"1.5px solid #E1E9F0\",\r\n                  color: \"#474D55\",\r\n                  letterSpacing: \"-0.01em\",\r\n                  width: \"100%\",\r\n                }}\r\n                type=\"text\"\r\n                className={\r\n                  !state.choices[questionNumber][choiceNumber] &&\r\n                  state.showErrorsInForm\r\n                    ? \"border border-danger mb-2\"\r\n                    : \"mb-2\"\r\n                }\r\n                id={`question-${questionNumber}-${choiceNumber}`}\r\n                value={state.choices[questionNumber][choiceNumber]}\r\n                onChange={(e) => {\r\n                  let newChoices = state.choices;\r\n                  newChoices[questionNumber][choiceNumber] = e.target.value;\r\n\r\n                  State.update({ choices: newChoices });\r\n                }}\r\n              />\r\n              <i\r\n                className=\"bi bi-x\"\r\n                style={{\r\n                  color: \"#767B8E\",\r\n                  cursor: \"pointer\",\r\n                  position: \"absolute\",\r\n                  right: \"1rem\",\r\n                  top: \"0.55rem\",\r\n                }}\r\n                onClick={() =>\r\n                  deleteChoiceHandler(questionNumber, choiceNumber)\r\n                }\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      <div\r\n        className=\"d-flex align-items-center\"\r\n        style={{ cursor: \"pointer\", maxWidth: \"max-content\" }}\r\n        onClick={() => addChoicesHandler(questionNumber)}\r\n      >\r\n        <i\r\n          className=\"bi bi-plus-lg\"\r\n          style={{ color: \"#4B516A\", marginRight: \"0.7rem\" }}\r\n        ></i>\r\n        <span\r\n          style={{\r\n            color: \"#4B516A\",\r\n            fontSize: \"0.8rem\",\r\n            dontWeight: \"500\",\r\n            letterSpacing: \"0.01em\",\r\n          }}\r\n        >\r\n          Add another option\r\n        </span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n/********** End components ************/\r\n\r\n/********** Start rendering ************/\r\n\r\nreturn (\r\n  <div\r\n    className=\"pt-4\"\r\n    style={{\r\n      borderRadius: \"0.375rem\",\r\n      backgroundColor: \"white\",\r\n      margin: \"0 auto\",\r\n    }}\r\n  >\r\n    <div style={{ margin: \"0 auto\" }}>\r\n      <span\r\n        className={getDangerClassIfNeeded(\"MainInformation\")}\r\n        style={\r\n          state.sectionShown == \"mainInfo\"\r\n            ? {\r\n                ...styleUnderline,\r\n                color: \"#353A40\",\r\n                fontSize: \"0.8rem\",\r\n                userSelect: \"none\",\r\n                cursor: \"pointer\",\r\n                marginRight: \"1rem\",\r\n              }\r\n            : {\r\n                color: \"#767B8E\",\r\n                fontSize: \"0.8rem\",\r\n                userSelect: \"none\",\r\n                cursor: \"pointer\",\r\n                marginRight: \"1rem\",\r\n              }\r\n        }\r\n        onClick={() => {\r\n          State.update({ sectionShown: \"mainInfo\" });\r\n        }}\r\n      >\r\n        <i className=\"bi bi-square-fill\"></i> Main information\r\n      </span>\r\n\r\n      <span\r\n        className={getDangerClassIfNeeded(\"Questions\")}\r\n        style={\r\n          state.sectionShown == \"questions\"\r\n            ? {\r\n                ...styleUnderline,\r\n                color: \"#353A40\",\r\n                fontSize: \"0.8rem\",\r\n                userSelect: \"none\",\r\n                position: \"relative\",\r\n                cursor: \"pointer\",\r\n              }\r\n            : {\r\n                color: \"#767B8E\",\r\n                fontSize: \"0.8rem\",\r\n                position: \"relative\",\r\n                userSelect: \"none\",\r\n                cursor: \"pointer\",\r\n              }\r\n        }\r\n        onClick={() => {\r\n          isValidInput(false) && State.update({ sectionShown: \"questions\" });\r\n        }}\r\n      >\r\n        <i className=\"bi bi-square-fill\"></i>\r\n        Questions\r\n        <span\r\n          style={\r\n            isValidInput(false)\r\n              ? {\r\n                  fontSize: \"0.7rem\",\r\n                  position: \"absolute\",\r\n                  top: \"-8%\",\r\n                  left: \"103%\",\r\n                  userSelect: \"none\",\r\n                }\r\n              : {\r\n                  fontSize: \"0.7rem\",\r\n                  position: \"absolute\",\r\n                  top: \"-8%\",\r\n                  left: \"103%\",\r\n                  userSelect: \"none\",\r\n                  cursor: \"pointer\",\r\n                }\r\n          }\r\n        >\r\n          {state.amountOfQuestions + \"\"}\r\n        </span>\r\n      </span>\r\n    </div>\r\n    <div className=\"pt-4\">\r\n      <div className=\"mb-3\" style={{ maxHeight: \"50vh\", overflowY: \"scroll\" }}>\r\n        {state.sectionShown == \"mainInfo\" && (\r\n          <div\r\n            className=\"d-flex flex-column justify-content-center\"\r\n            style={{ margin: \"0 auto\" }}\r\n          >\r\n            <label\r\n              for=\"pollTitle\"\r\n              style={{\r\n                fontSize: \"0.8rem\",\r\n                letterSpacing: \"-0.01em\",\r\n                color: \"#474D55\",\r\n                marginBottom: \"0.3rem\",\r\n              }}\r\n            >\r\n              Title*\r\n            </label>\r\n            <div style={{ position: \"relative\" }}>\r\n              <input\r\n                style={{\r\n                  backgroundColor: \"white\",\r\n                  padding: \"0.5rem 1.5rem\",\r\n                  borderRadius: \"0.8rem\",\r\n                  border: \"1.5px solid #E1E9F0\",\r\n                  color: \"#474D55\",\r\n                  letterSpacing: \"-0.01em\",\r\n                  width: \"100%\",\r\n                }}\r\n                type=\"text\"\r\n                className={\r\n                  !state.pollTitle && state.showErrorsInForm\r\n                    ? \"border border-danger mb-2\"\r\n                    : \"mb-2\"\r\n                }\r\n                id=\"pollTitle\"\r\n                value={state.pollTitle}\r\n                onChange={(e) => {\r\n                  State.update({ pollTitle: e.target.value });\r\n                }}\r\n              />\r\n              <i\r\n                className=\"bi bi-x-circle-fill\"\r\n                style={{\r\n                  color: \"#E1E9F0\",\r\n                  cursor: \"pointer\",\r\n                  position: \"absolute\",\r\n                  right: \"1rem\",\r\n                  top: \"0.55rem\",\r\n                }}\r\n                onClick={() => {\r\n                  State.update({ pollTitle: \"\" });\r\n                }}\r\n              ></i>\r\n            </div>\r\n            {!state.pollTitle && state.showErrorsInForm && (\r\n              <p className=\"text-danger\">Title cannot be empty</p>\r\n            )}\r\n\r\n            <label\r\n              for=\"pollDescription\"\r\n              className=\"mt-2\"\r\n              style={{\r\n                fontSize: \"0.8rem\",\r\n                letterSpacing: \"-0.01em\",\r\n                color: \"#474D55\",\r\n                marginBottom: \"0.3rem\",\r\n              }}\r\n            >\r\n              Description*\r\n            </label>\r\n            <textarea\r\n              id=\"pollDescription\"\r\n              style={{\r\n                backgroundColor: \"white\",\r\n                padding: \"0.5rem 1.5rem\",\r\n                borderRadius: \"0.8rem\",\r\n                border: \"1.5px solid #E1E9F0\",\r\n                color: \"#474D55\",\r\n                letterSpacing: \"-0.01em\",\r\n                width: \"100%\",\r\n              }}\r\n              rows=\"3\"\r\n              className={\r\n                !state.pollDescription &&\r\n                state.showErrorsInForm &&\r\n                \"border border-danger\"\r\n              }\r\n              value={state.pollDescription}\r\n              onChange={(e) => {\r\n                State.update({ pollDescription: e.target.value });\r\n              }}\r\n            ></textarea>\r\n            {!state.pollDescription && state.showErrorsInForm && (\r\n              <p className=\"text-danger\">Description cannot be empty</p>\r\n            )}\r\n\r\n            <label\r\n              for=\"pollDiscussionLink\"\r\n              className=\"mt-3\"\r\n              style={{\r\n                fontSize: \"0.8rem\",\r\n                letterSpacing: \"-0.01em\",\r\n                color: \"#474D55\",\r\n                marginBottom: \"0.3rem\",\r\n              }}\r\n            >\r\n              Discussion link (optional)\r\n            </label>\r\n            <div style={{ position: \"relative\" }}>\r\n              <i\r\n                className=\"bi bi-people\"\r\n                style={{\r\n                  color: \"#767B8E\",\r\n                  position: \"absolute\",\r\n                  left: \"1rem\",\r\n                  top: \"0.55rem\",\r\n                }}\r\n              ></i>\r\n              <input\r\n                style={{\r\n                  backgroundColor: \"white\",\r\n                  padding: \"0.5rem 1.5rem 0.5rem 2.2rem\",\r\n                  borderRadius: \"0.8rem\",\r\n                  border: \"1.5px solid #E1E9F0\",\r\n                  color: \"#474D55\",\r\n                  letterSpacing: \"-0.01em\",\r\n                  width: \"100%\",\r\n                }}\r\n                type=\"text\"\r\n                className={\r\n                  !isValidLink() && state.showErrorsInForm\r\n                    ? \"border border-danger mb-2\"\r\n                    : \"mb-2\"\r\n                }\r\n                id=\"pollDiscussionLink\"\r\n                value={state.pollDiscussionLink}\r\n                onChange={(e) => {\r\n                  State.update({ pollDiscussionLink: e.target.value });\r\n                }}\r\n              />\r\n              <i\r\n                className=\"bi bi-x-circle-fill\"\r\n                style={{\r\n                  color: \"#E1E9F0\",\r\n                  cursor: \"pointer\",\r\n                  position: \"absolute\",\r\n                  right: \"1rem\",\r\n                  top: \"0.55rem\",\r\n                }}\r\n                onClick={() => {\r\n                  State.update({ pollDiscussionLink: \"\" });\r\n                }}\r\n              ></i>\r\n            </div>\r\n            {!isValidLink() && state.showErrorsInForm && (\r\n              <p className=\"text-danger\">Not a valid link</p>\r\n            )}\r\n\r\n            <div\r\n              className=\"d-flex justify-content-between flex-wrap mb-3\"\r\n              style={{ maxWidth: \"100%\" }}\r\n            >\r\n              <div className=\"d-flex flex-column\" style={{ width: \"48%\" }}>\r\n                <label\r\n                  for=\"pollStartDate\"\r\n                  style={{\r\n                    fontSize: \"0.8rem\",\r\n                    letterSpacing: \"-0.01em\",\r\n                    color: \"#474D55\",\r\n                    marginBottom: \"0.3rem\",\r\n                  }}\r\n                >\r\n                  Start date*\r\n                </label>\r\n                {/*You have min and max properties on dates input*/}\r\n                <input\r\n                  style={getStyles(state.pollStartDate)}\r\n                  type=\"datetime-local\"\r\n                  id=\"pollStartDate\"\r\n                  value={state.pollStartDate}\r\n                  onChange={(e) => {\r\n                    State.update({ pollStartDate: e.target.value });\r\n                  }}\r\n                />\r\n                {!state.pollStartDate && state.showErrorsInForm && (\r\n                  <p className=\"text-danger\">Start date cannot be empty</p>\r\n                )}\r\n              </div>\r\n              <div className=\"d-flex flex-column\" style={{ width: \"48%\" }}>\r\n                <label\r\n                  for=\"pollEndDate\"\r\n                  style={{\r\n                    fontSize: \"0.8rem\",\r\n                    letterSpacing: \"-0.01em\",\r\n                    color: \"#474D55\",\r\n                    marginBottom: \"0.3rem\",\r\n                  }}\r\n                >\r\n                  End date*\r\n                </label>\r\n                <input\r\n                  style={getStyles(state.pollEndDate)}\r\n                  type=\"datetime-local\"\r\n                  id=\"pollStartDate\"\r\n                  value={state.pollEndDate}\r\n                  onChange={(e) => {\r\n                    State.update({ pollEndDate: e.target.value });\r\n                  }}\r\n                />\r\n                {!state.pollEndDate && state.showErrorsInForm && (\r\n                  <p className=\"text-danger\">End date cannot be empty</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {getTimestamp(state.pollStartDate) >=\r\n              getTimestamp(state.pollEndDate) &&\r\n              state.showErrorsInForm && (\r\n                <div>\r\n                  <p className=\"text-danger\">\r\n                    Poll should start before it ends\r\n                  </p>\r\n                </div>\r\n              )}\r\n          </div>\r\n        )}\r\n\r\n        {state.sectionShown == \"questions\" &&\r\n          amountOfQuestions.map((questionNumber) => {\r\n            return (\r\n              <>\r\n                <div\r\n                  className=\"d-flex flex-column justify-content-center\"\r\n                  style={{\r\n                    border: \"1.5px solid #E1E9F0\",\r\n                    padding: \"1.5rem 1rem\",\r\n                    borderRadius: \"1.2rem\",\r\n                    margin: \"1rem auto\",\r\n                  }}\r\n                >\r\n                  <label\r\n                    for=\"question\"\r\n                    style={{\r\n                      fontSize: \"0.8rem\",\r\n                      letterSpacing: \"-0.01em\",\r\n                      color: \"#474D55\",\r\n                      marginBottom: \"0.3rem\",\r\n                    }}\r\n                  >\r\n                    Question*\r\n                  </label>\r\n                  <div style={{ position: \"relative\" }}>\r\n                    <input\r\n                      style={{\r\n                        backgroundColor: \"white\",\r\n                        padding: \"0.5rem 1.5rem\",\r\n                        borderRadius: \"0.8rem\",\r\n                        border: \"1.5px solid #E1E9F0\",\r\n                        color: \"#474D55\",\r\n                        letterSpacing: \"-0.01em\",\r\n                        width: \"100%\",\r\n                      }}\r\n                      type=\"text\"\r\n                      className={\r\n                        !state.questions[questionNumber] &&\r\n                        state.showErrorsInForm\r\n                          ? \"border border-danger mb-2\"\r\n                          : \"mb-2\"\r\n                      }\r\n                      id={`question${questionNumber}`}\r\n                      value={state.questions[questionNumber]}\r\n                      onChange={(e) => {\r\n                        let newQuestions = state.questions;\r\n                        newQuestions[questionNumber] = e.target.value;\r\n\r\n                        State.update({ questions: newQuestions });\r\n                      }}\r\n                    />\r\n                    <i\r\n                      className=\"bi bi-x-circle-fill\"\r\n                      style={{\r\n                        color: \"#E1E9F0\",\r\n                        cursor: \"pointer\",\r\n                        position: \"absolute\",\r\n                        right: \"1rem\",\r\n                        top: \"0.55rem\",\r\n                      }}\r\n                      onClick={() => {\r\n                        let newQuestions = state.questions;\r\n                        newQuestions[questionNumber] = \"\";\r\n\r\n                        State.update({ question: newQuestions });\r\n                      }}\r\n                    ></i>\r\n                  </div>\r\n                  {!state.questions[questionNumber] &&\r\n                    state.showErrorsInForm && (\r\n                      <p className=\"text-danger\">Question cannot be empty</p>\r\n                    )}\r\n\r\n                  <label\r\n                    className=\"mt-3\"\r\n                    for=\"pollType\"\r\n                    style={{\r\n                      fontSize: \"0.8rem\",\r\n                      letterSpacing: \"-0.01em\",\r\n                      color: \"#474D55\",\r\n                      marginBottom: \"0.3rem\",\r\n                    }}\r\n                  >\r\n                    Type of question\r\n                  </label>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <div\r\n                      style={getTypeOfQuestionSelectionStyles(\r\n                        questionNumber,\r\n                        \"0\"\r\n                      )}\r\n                      onClick={() => {\r\n                        let newPollTypes = state.pollTypes;\r\n                        newPollTypes[questionNumber] = \"0\";\r\n\r\n                        let newChoices = state.choices;\r\n                        newChoices[questionNumber] = [\"Yes\", \"No\"];\r\n\r\n                        let newAmountOfChoices = state.amountOfChoices;\r\n                        newAmountOfChoices[questionNumber] = 2;\r\n\r\n                        State.update({\r\n                          pollTypes: newPollTypes,\r\n                          choices: newChoices,\r\n                          amountOfChoices: newAmountOfChoices,\r\n                        });\r\n                      }}\r\n                    >\r\n                      {state.pollTypes[questionNumber] == \"0\" && (\r\n                        <i\r\n                          className=\"bi bi-check2-circle\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: \"-0.5rem\",\r\n                            right: \"-0.2rem\",\r\n                            color: \"rgb(53, 58, 64)\",\r\n                            backgroundColor: \"white\",\r\n                            borderRadius: \"100px\",\r\n                          }}\r\n                        ></i>\r\n                      )}\r\n                      <p\r\n                        style={{\r\n                          letterSpacing: \"-0.01em\",\r\n                          fontWeight: \"500\",\r\n                          color: \"#010A2D\",\r\n                          fontSize: \"0.8rem\",\r\n                          userSelect: \"none\",\r\n                        }}\r\n                      >\r\n                        Yes or No\r\n                      </p>\r\n                      <div className=\"d-flex mb-1\">\r\n                        <input\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"16px\",\r\n                            marginRight: \"0.2rem\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"radio\"\r\n                          disabled\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"16px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex\">\r\n                        <input\r\n                          className=\"form-check-input\"\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"16px\",\r\n                            marginRight: \"0.2rem\",\r\n                            backgroundColor: \"black\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"radio\"\r\n                          disabled\r\n                          checked\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"16px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={getTypeOfQuestionSelectionStyles(\r\n                        questionNumber,\r\n                        \"1\"\r\n                      )}\r\n                      onClick={() => {\r\n                        let newPollTypes = state.pollTypes;\r\n                        newPollTypes[questionNumber] = \"1\";\r\n\r\n                        State.update({ pollTypes: newPollTypes });\r\n                      }}\r\n                    >\r\n                      {state.pollTypes[questionNumber] == \"1\" && (\r\n                        <i\r\n                          className=\"bi bi-check2-circle\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: \"-0.5rem\",\r\n                            right: \"-0.2rem\",\r\n                            color: \"rgb(53, 58, 64)\",\r\n                            backgroundColor: \"white\",\r\n                            borderRadius: \"100px\",\r\n                          }}\r\n                        ></i>\r\n                      )}\r\n                      <p\r\n                        style={{\r\n                          letterSpacing: \"-0.01em\",\r\n                          fontWeight: \"500\",\r\n                          color: \"#010A2D\",\r\n                          fontSize: \"0.8rem\",\r\n                          userSelect: \"none\",\r\n                        }}\r\n                      >\r\n                        Single Answer\r\n                      </p>\r\n                      <div className=\"d-flex mb-1\">\r\n                        <input\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"12px\",\r\n                            marginRight: \"0.2rem\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"radio\"\r\n                          disabled\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"12px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex mb-1\">\r\n                        <input\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"12px\",\r\n                            marginRight: \"0.2rem\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"radio\"\r\n                          disabled\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"12px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <input\r\n                          className=\"form-check-input\"\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"12px\",\r\n                            marginTop: \"0\",\r\n                            marginRight: \"0.2rem\",\r\n                            backgroundColor: \"black\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"radio\"\r\n                          disabled\r\n                          checked\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"12px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={getTypeOfQuestionSelectionStyles(\r\n                        questionNumber,\r\n                        \"2\"\r\n                      )}\r\n                      onClick={() => {\r\n                        let newPollTypes = state.pollTypes;\r\n                        newPollTypes[questionNumber] = \"2\";\r\n\r\n                        State.update({ pollTypes: newPollTypes });\r\n                      }}\r\n                    >\r\n                      {state.pollTypes[questionNumber] == \"2\" && (\r\n                        <i\r\n                          className=\"bi bi-check2-circle\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: \"-0.5rem\",\r\n                            right: \"-0.2rem\",\r\n                            color: \"rgb(53, 58, 64)\",\r\n                            backgroundColor: \"white\",\r\n                            borderRadius: \"100px\",\r\n                          }}\r\n                        ></i>\r\n                      )}\r\n                      <p\r\n                        style={{\r\n                          letterSpacing: \"-0.01em\",\r\n                          fontWeight: \"500\",\r\n                          color: \"#010A2D\",\r\n                          fontSize: \"0.8rem\",\r\n                          userSelect: \"none\",\r\n                        }}\r\n                      >\r\n                        Multiselect\r\n                      </p>\r\n                      <div className=\"d-flex mb-1\">\r\n                        <input\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"12px\",\r\n                            marginRight: \"0.2rem\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"checkbox\"\r\n                          disabled\r\n                          checked\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"12px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex mb-1\">\r\n                        <input\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"12px\",\r\n                            marginRight: \"0.2rem\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"checkbox\"\r\n                          disabled\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"12px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <input\r\n                          className=\"form-check-input\"\r\n                          style={{\r\n                            appearance: \"auto\",\r\n                            width: \"12px\",\r\n                            marginTop: \"0\",\r\n                            marginRight: \"0.2rem\",\r\n                            backgroundColor: \"black\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"checkbox\"\r\n                          disabled\r\n                          checked\r\n                        />\r\n                        <input\r\n                          style={{\r\n                            padding: \"0\",\r\n                            border: \"none\",\r\n                            borderRadius: \"30px\",\r\n                            height: \"12px\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          type=\"text\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      style={getTypeOfQuestionSelectionStyles(\r\n                        questionNumber,\r\n                        \"3\"\r\n                      )}\r\n                      onClick={() => {\r\n                        let newPollTypes = state.pollTypes;\r\n                        newPollTypes[questionNumber] = \"3\";\r\n\r\n                        let newChoices = state.choices;\r\n                        newChoices[questionNumber] = [\"\"];\r\n\r\n                        let newAmountOfChoices = state.amountOfChoices;\r\n                        newAmountOfChoices[questionNumber] = 1;\r\n\r\n                        State.update({\r\n                          pollTypes: newPollTypes,\r\n                          choices: newChoices,\r\n                          newAmountOfChoices: newAmountOfChoices,\r\n                        });\r\n                      }}\r\n                    >\r\n                      {state.pollTypes[questionNumber] == \"3\" && (\r\n                        <i\r\n                          className=\"bi bi-check2-circle\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: \"-0.5rem\",\r\n                            right: \"-0.2rem\",\r\n                            color: \"rgb(53, 58, 64)\",\r\n                            backgroundColor: \"white\",\r\n                            borderRadius: \"100px\",\r\n                          }}\r\n                        ></i>\r\n                      )}\r\n                      <p\r\n                        style={{\r\n                          letterSpacing: \"-0.01em\",\r\n                          fontWeight: \"500\",\r\n                          color: \"#010A2D\",\r\n                          fontSize: \"0.8rem\",\r\n                          userSelect: \"none\",\r\n                        }}\r\n                      >\r\n                        Text Answer\r\n                      </p>\r\n                      <input\r\n                        style={{\r\n                          marginBottom: \"0.5rem\",\r\n                          padding: \"0\",\r\n                          border: \"none\",\r\n                          borderRadius: \"30px\",\r\n                          height: \"12px\",\r\n                          width: \"100%\",\r\n                          cursor: \"pointer\",\r\n                        }}\r\n                        type=\"text\"\r\n                        disabled\r\n                      />\r\n                      <input\r\n                        style={{\r\n                          marginBottom: \"0.5rem\",\r\n                          padding: \"0\",\r\n                          border: \"none\",\r\n                          borderRadius: \"30px\",\r\n                          height: \"12px\",\r\n                          width: \"90%\",\r\n                          cursor: \"pointer\",\r\n                        }}\r\n                        type=\"text\"\r\n                        disabled\r\n                      />\r\n                      <input\r\n                        style={{\r\n                          padding: \"0\",\r\n                          border: \"none\",\r\n                          borderRadius: \"30px\",\r\n                          height: \"12px\",\r\n                          width: \"100%\",\r\n                          cursor: \"pointer\",\r\n                        }}\r\n                        type=\"text\"\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  {(state.pollTypes[questionNumber] ==\r\n                    pollTypes.SINGLE_ANSWER.id ||\r\n                    state.pollTypes[questionNumber] ==\r\n                      pollTypes.MULTISELECT.id) && (\r\n                    <div>\r\n                      <label\r\n                        className=\"mt-3\"\r\n                        for=\"pollType\"\r\n                        style={{\r\n                          fontSize: \"0.8rem\",\r\n                          letterSpacing: \"-0.01em\",\r\n                          color: \"#474D55\",\r\n                          marginBottom: \"0.3rem\",\r\n                        }}\r\n                      >\r\n                        Answer options\r\n                      </label>\r\n                      {renderTextInputsForChoices(questionNumber)}\r\n                    </div>\r\n                  )}\r\n                  {state.showErrorsInForm &&\r\n                    (state.pollTypes[questionNumber] ==\r\n                      pollTypes.SINGLE_ANSWER.id ||\r\n                      state.pollTypes[questionNumber] ==\r\n                        pollTypes.MULTISELECT.id) &&\r\n                    state.choices[questionNumber].filter((c) => c != \"\")\r\n                      .length < 2 && (\r\n                      <p className=\"text-danger\">\r\n                        Should have at least 2 options\r\n                      </p>\r\n                    )}\r\n                </div>\r\n              </>\r\n            );\r\n          })}\r\n        {state.sectionShown == \"questions\" && (\r\n          <button\r\n            className=\"d-flex justify-content-center align-items-center py-3 w-100\"\r\n            style={{\r\n              margin: \"1rem auto\",\r\n              backgroundColor: \"#F2F6FA\",\r\n              borderColor: \"transparent\",\r\n              borderRadius: \"20px\",\r\n            }}\r\n            onClick={() => {\r\n              let oldPollTypes = state.pollTypes;\r\n              let newPollTypes = [];\r\n\r\n              for (let i = 0; i < oldPollTypes.length; i++) {\r\n                newPollTypes.push(oldPollTypes[i]);\r\n              }\r\n              newPollTypes.push(\"0\");\r\n\r\n              let oldChoices = state.choices;\r\n              let newChoices = [];\r\n\r\n              for (let i = 0; i < oldChoices.length; i++) {\r\n                newChoices.push(oldChoices[i]);\r\n              }\r\n              newChoices.push([\"\"]);\r\n\r\n              let oldAmountOfChoices = state.amountOfChoices;\r\n              let newAmountOfChoices = [];\r\n\r\n              for (let i = 0; i < oldAmountOfChoices.length; i++) {\r\n                newAmountOfChoices.push(oldAmountOfChoices[i]);\r\n              }\r\n              newAmountOfChoices.push(1);\r\n\r\n              let oldQuestions = state.questions;\r\n              let newQuestions = [];\r\n              for (let i = 0; i < oldQuestions.length; i++) {\r\n                newQuestions.push(oldQuestions[i]);\r\n              }\r\n              newQuestions.push(\"\");\r\n\r\n              State.update({\r\n                questions: newQuestions,\r\n                amountOfQuestions: state.amountOfQuestions + 1,\r\n                pollTypes: newPollTypes,\r\n                choices: newChoices,\r\n                amountOfChoices: newAmountOfChoices,\r\n              });\r\n            }}\r\n          >\r\n            <i\r\n              className=\"bi bi-plus-lg\"\r\n              style={{ color: \"#010A2D\", marginRight: \"0.7rem\" }}\r\n            ></i>\r\n            <span\r\n              style={{\r\n                color: \"#010A2D\",\r\n                fontSize: \"1rem\",\r\n                dontWeight: \"700\",\r\n              }}\r\n            >\r\n              Add question\r\n            </span>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-row-reverse\">\r\n        {/*<button\r\n          className=\"my-2 btn btn-outline-primary\"\r\n          onClick={() => State.update({ showPreview: true })}\r\n        >\r\n          Preview\r\n        </button>*/}\r\n\r\n        {state.sectionShown == \"mainInfo\" ? (\r\n          <button\r\n            style={\r\n              state.hoveringElement == \"continueButton\"\r\n                ? {\r\n                    border: \"2px solid black\",\r\n                    color: \"black\",\r\n                    backgroundColor: \"white\",\r\n                    fontWeight: \"500\",\r\n                    fontSize: \"1rem\",\r\n                    margin: \"0\",\r\n                    padding: \"0.3rem 1.5rem\",\r\n                    borderRadius: \"12px\",\r\n                  }\r\n                : {\r\n                    border: \"2px solid transparent\",\r\n                    fontWeight: \"500\",\r\n                    fontSize: \"1rem\",\r\n                    margin: \"0\",\r\n                    padding: \"0.3rem 1.5rem\",\r\n                    backgroundColor: \"#010A2D\",\r\n                    borderRadius: \"12px\",\r\n                    color: \"white\",\r\n                  }\r\n            }\r\n            data={getPublicationParams(false)}\r\n            onMouseEnter={() => {\r\n              State.update({ hoveringElement: \"continueButton\" });\r\n            }}\r\n            onMouseLeave={() => {\r\n              State.update({ hoveringElement: \"\" });\r\n            }}\r\n            onClick={() => {\r\n              console.log(\"Click on continue\");\r\n              isValidInput(false)\r\n                ? State.update({\r\n                    showErrorsInForm: false,\r\n                    sectionShown: \"questions\",\r\n                  })\r\n                : State.update({ showErrorsInForm: true });\r\n            }}\r\n          >\r\n            Continue\r\n          </button>\r\n        ) : isValidInput(true) ? (\r\n          <CommitButton\r\n            style={\r\n              state.hoveringElement == \"createPollButton\"\r\n                ? {\r\n                    border: \"2px solid black\",\r\n                    color: \"black\",\r\n                    backgroundColor: \"white\",\r\n                    fontWeight: \"500\",\r\n                    fontSize: \"1rem\",\r\n                    margin: \"0\",\r\n                    padding: \"0.3rem 1.5rem\",\r\n                    borderRadius: \"12px\",\r\n                  }\r\n                : {\r\n                    border: \"2px solid transparent\",\r\n                    fontWeight: \"500\",\r\n                    fontSize: \"1rem\",\r\n                    margin: \"0\",\r\n                    padding: \"0.3rem 1.5rem\",\r\n                    backgroundColor: \"#010A2D\",\r\n                    borderRadius: \"12px\",\r\n                    color: \"white\",\r\n                  }\r\n            }\r\n            data={getPublicationParams(false)}\r\n            onMouseEnter={() => {\r\n              State.update({ hoveringElement: \"createPollButton\" });\r\n            }}\r\n            onMouseLeave={() => {\r\n              State.update({ hoveringElement: \"\" });\r\n            }}\r\n            onClick={() => {\r\n              State.update({\r\n                showSendFeedback: true,\r\n              });\r\n            }}\r\n          >\r\n            Create\r\n          </CommitButton>\r\n        ) : (\r\n          <button\r\n            style={\r\n              state.hoveringElement == \"createPollButton\"\r\n                ? {\r\n                    border: \"2px solid black\",\r\n                    color: \"black\",\r\n                    backgroundColor: \"white\",\r\n                    fontWeight: \"500\",\r\n                    fontSize: \"1rem\",\r\n                    margin: \"0\",\r\n                    padding: \"0.3rem 1.5rem\",\r\n                    borderRadius: \"12px\",\r\n                  }\r\n                : {\r\n                    border: \"2px solid transparent\",\r\n                    fontWeight: \"500\",\r\n                    fontSize: \"1rem\",\r\n                    margin: \"0\",\r\n                    padding: \"0.3rem 1.5rem\",\r\n                    backgroundColor: \"#010A2D\",\r\n                    borderRadius: \"12px\",\r\n                    color: \"white\",\r\n                  }\r\n            }\r\n            onMouseEnter={() => {\r\n              State.update({ hoveringElement: \"createPollButton\" });\r\n            }}\r\n            onMouseLeave={() => {\r\n              State.update({ hoveringElement: \"\" });\r\n            }}\r\n            onClick={() => State.update({ showErrorsInForm: true })}\r\n          >\r\n            Create\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {state.showPreview && renderModal(MODAL_TYPES.PREVIEW)}\r\n      {state.showSendFeedback && renderModal(MODAL_TYPES.SEND_FEEDBACK)}\r\n    </div>\r\n  </div>\r\n);\r\n/********** End rendering ************/\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newPollQuestionInterface"}
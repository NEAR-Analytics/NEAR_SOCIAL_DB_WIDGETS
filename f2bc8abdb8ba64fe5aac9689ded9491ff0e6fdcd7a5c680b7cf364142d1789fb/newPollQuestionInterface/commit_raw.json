{"tx_hash": "7Zhmi5Vvw8PmCij7CfMP9PVRhjuS6PBPFsNFdwNEchhV", "action_id_social": "53A9wkmHVJpv9oDwCjs4XgsdJEFAY5XThBpLr8TiVquE-0-widget", "block_id": 80086856, "block_timestamp": "2022-12-07 03:37:10.895", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newPollQuestionInterface", "source_code": "State.init({\r\n  pollTitle: \"\",\r\n  pollDescription: \"\",\r\n  pollDiscussionLink: \"\",\r\n  pollStartDate: \"\",\r\n  pollEndDate: \"\",\r\n  question: \"\",\r\n  pollType: \"2\",\r\n  choices: [],\r\n  amountOfChoices: 1,\r\n  expandOptions: false,\r\n});\r\n\r\nconst renderTextInputsForChoices = () => {\r\n  let amountOfChoices = [];\r\n\r\n  for (let i = 0; i < state.amountOfChoices; i++) {\r\n    amountOfChoices.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {amountOfChoices.map((choiceNumber) => {\r\n        return (\r\n          <div className=\"my-1\" key={`choice-input-${choiceNumber}`}>\r\n            <h6>Choice numer {choiceNumber + 1}</h6>\r\n            <div className=\"d-flex\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"w-100 mx-2\"\r\n                value={state.choices[choiceNumber]}\r\n                // onChange={handleWriteChoiceInputChange(choiceNumber)}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-outline-danger\"\r\n                // onClick={deleteChoiceHandler(choiceNumber)}\r\n              >\r\n                <i className=\"bi bi-x-octagon\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      <button type=\"button\" className=\"btn btn-outline-primary d-flex\">\r\n        <i class=\"bi bi-plus-lg\"></i>\r\n        <span>Button</span>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst renderOptions = () => {\r\n  return (\r\n    <div style={{ width: \"max-content\" }}>\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          minWidth: \"max-content\",\r\n          width: \"100%\",\r\n        }}\r\n        type=\"text\"\r\n        value=\"Yes/No\"\r\n        readonly\r\n        onClick={() => {\r\n          State.update({ pollType: \"0\" });\r\n        }}\r\n      />\r\n\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          minWidth: \"max-content\",\r\n          width: \"100%\",\r\n        }}\r\n        type=\"text\"\r\n        value=\"Text\"\r\n        readonly\r\n        onClick={() => {\r\n          State.update({ pollType: \"1\" });\r\n        }}\r\n      />\r\n\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          minWidth: \"max-content\",\r\n          width: \"100%\",\r\n        }}\r\n        type=\"text\"\r\n        value=\"Multiple choice\"\r\n        readonly\r\n        onClick={() => {\r\n          State.update({ pollType: \"2\" });\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nreturn (\r\n  <div\r\n    className=\"d-flex align-items-start justify-content-around\"\r\n    style={{ borderRadius: \"3px\" }}\r\n  >\r\n    <div className=\"d-flex flex-column w-75 justify-content-around\">\r\n      <label for=\"pollTitle\">Title</label>\r\n      <input\r\n        style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n        type=\"text\"\r\n        className=\"mb-2\"\r\n        id=\"pollTitle\"\r\n        value={state.pollTitle}\r\n      />\r\n\r\n      <label for=\"pollDescription\">Description</label>\r\n      <textarea\r\n        id=\"pollDescription\"\r\n        style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n        rows=\"3\"\r\n        value={state.pollDescription}\r\n      ></textarea>\r\n\r\n      <label for=\"pollDiscussionLink\">Discussion link (optional)</label>\r\n      <input\r\n        style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n        type=\"text\"\r\n        className=\"mb-2\"\r\n        id=\"pollDiscussionLink\"\r\n        value={state.pollDiscussionLink}\r\n      />\r\n\r\n      <div\r\n        className=\"d-flex justify-content-around flex-wrap\"\r\n        style={{ width: \"50%\", minWidth: \"max-content\", maxWidth: \"100%\" }}\r\n      >\r\n        <div className=\"d-flex flex-column\">\r\n          <label for=\"pollStartDate\">Start date</label>\r\n          {/*You have min and max propertuies on dates input*/}\r\n          <input\r\n            style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n            type=\"date\"\r\n            id=\"pollStartDate\"\r\n            value={state.pollStartDate}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"d-flex flex-column\">\r\n          <label for=\"pollEndDate\">End date</label>\r\n          <input\r\n            style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n            type=\"date\"\r\n            id=\"pollStartDate\"\r\n            value={state.pollEndDate}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"bd-example\">\r\n        <label for=\"question\">Question</label>\r\n        <input\r\n          style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n          type=\"text\"\r\n          id=\"question\"\r\n          value={state.question}\r\n        />\r\n        <label for=\"pollType\">Pool type</label>\r\n        <div className=\"dropdown\">\r\n          <button\r\n            style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n            className=\"btn dropdown-toggle\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              console.log(state.expandOptions);\r\n              State.update({ expandOptions: !state.expandOptions });\r\n              console.log(state.expandOptions);\r\n            }}\r\n          >\r\n            {state.pollType == \"0\"\r\n              ? \"Yes/No\"\r\n              : state.pollType == \"1\"\r\n              ? \"Text\"\r\n              : \"Multiple choice\"}\r\n          </button>\r\n\r\n          {state.expandOptions && renderOptions()}\r\n        </div>\r\n        {state.pollType == \"2\" && renderTextInputsForChoices()}\r\n      </div>\r\n      <div className=\"bd-example d-flex justify-content-center\">\r\n        <i class=\"bi bi-plus-lg\"></i>\r\n        <span>Add another one question</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"bd-example\">\r\n      <button type=\"button\" className=\"btn btn-outline-primary\">\r\n        Preview\r\n      </button>\r\n      <button type=\"button\" className=\"btn btn-primary\">\r\n        Create poll\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newPollQuestionInterface"}
{"tx_hash": "9LeapWiEbE9e8A9by6JZ4T6GmPocFzbLc7P2k3m8qmdH", "action_id_social": "8NxSgcfTDJgMYMBDTH3X2xoLZNtCsLBkMc2A43mAAwYa-1-widget", "block_id": 80133196, "block_timestamp": "2022-12-07 19:03:22.244", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newPollQuestionInterface", "source_code": "State.init({\r\n  pollTitle: \"\",\r\n  pollDescription: \"\",\r\n  pollDiscussionLink: \"\",\r\n  pollStartDate: \"\",\r\n  pollEndDate: \"\",\r\n  question: \"\",\r\n  pollType: \"2\",\r\n  choices: [],\r\n  amountOfChoices: 1,\r\n  expandOptions: false,\r\n});\r\n\r\nconst renderTextInputsForChoices = () => {\r\n  let amountOfChoices = [];\r\n\r\n  for (let i = 0; i < state.amountOfChoices; i++) {\r\n    amountOfChoices.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {amountOfChoices.map((choiceNumber) => {\r\n        return (\r\n          <div className=\"my-3\" key={`choice-input-${choiceNumber}`}>\r\n            <label>Answer option {choiceNumber + 1}</label>\r\n            <div className=\"d-flex\">\r\n              <input\r\n                style={{\r\n                  backgroundColor: \"rgb(230, 230, 230)\",\r\n                  border: \"1px solid #ced4da\",\r\n                  borderRadius: \"0.375rem\",\r\n                }}\r\n                type=\"text\"\r\n                className=\"w-100 mx-2\"\r\n                value={state.choices[choiceNumber]}\r\n                // onChange={handleWriteChoiceInputChange(choiceNumber)}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-outline-danger\"\r\n                // onClick={deleteChoiceHandler(choiceNumber)}\r\n              >\r\n                <i className=\"bi bi-x-octagon\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-primary d-flex\"\r\n        style={{ margin: \"0 auto\" }}\r\n      >\r\n        <i class=\"bi bi-plus-lg\"></i>\r\n        <span>Add option</span>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst renderOptions = () => {\r\n  return (\r\n    <div style={{ width: \"max-content\" }}>\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          borderRadius: \"0px\",\r\n          position: \"absolute\",\r\n          top: \"100%\",\r\n          minWidth: \"max-content\",\r\n          width: \"152px\",\r\n        }}\r\n        type=\"text\"\r\n        value=\"Yes/No\"\r\n        readonly\r\n        onClick={() => {\r\n          State.update({ pollType: \"0\", expandOptions: !state.expandOptions });\r\n        }}\r\n      />\r\n\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          borderRadius: \"0px\",\r\n          position: \"absolute\",\r\n          top: \"200%\",\r\n          minWidth: \"max-content\",\r\n          width: \"152px\",\r\n        }}\r\n        type=\"text\"\r\n        value=\"Text\"\r\n        readonly\r\n        onClick={() => {\r\n          State.update({ pollType: \"1\", expandOptions: !state.expandOptions });\r\n        }}\r\n      />\r\n\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          borderRadius: \"0px\",\r\n          position: \"absolute\",\r\n          top: \"300%\",\r\n          minWidth: \"max-content\",\r\n          width: \"152px\",\r\n        }}\r\n        type=\"text\"\r\n        value=\"Multiple choice\"\r\n        readonly\r\n        onClick={() => {\r\n          State.update({ pollType: \"2\", expandOptions: !state.expandOptions });\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nreturn (\r\n  <div\r\n    className=\"d-flex align-items-start justify-content-around pt-4\"\r\n    style={{ borderRadius: \"0.375rem\", height: \"100%\" }}\r\n  >\r\n    <div className=\"d-flex flex-column w-75 justify-content-around\">\r\n      <label for=\"pollTitle\">Title</label>\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          border: \"1px solid #ced4da\",\r\n          borderRadius: \"0.375rem\",\r\n        }}\r\n        type=\"text\"\r\n        className=\"mb-2\"\r\n        id=\"pollTitle\"\r\n        value={state.pollTitle}\r\n      />\r\n\r\n      <label for=\"pollDescription\" className=\"mt-2\">\r\n        Description\r\n      </label>\r\n      <textarea\r\n        id=\"pollDescription\"\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          border: \"1px solid #ced4da\",\r\n          borderRadius: \"0.375rem\",\r\n        }}\r\n        rows=\"3\"\r\n        value={state.pollDescription}\r\n      ></textarea>\r\n\r\n      <label for=\"pollDiscussionLink\" className=\"mt-3\">\r\n        Discussion link (optional)\r\n      </label>\r\n      <input\r\n        style={{\r\n          backgroundColor: \"rgb(230, 230, 230)\",\r\n          border: \"1px solid #ced4da\",\r\n          borderRadius: \"0.375rem\",\r\n        }}\r\n        type=\"text\"\r\n        className=\"mb-2\"\r\n        id=\"pollDiscussionLink\"\r\n        value={state.pollDiscussionLink}\r\n      />\r\n\r\n      <div\r\n        className=\"d-flex justify-content-around flex-wrap\"\r\n        style={{ maxWidth: \"100%\" }}\r\n      >\r\n        <div className=\"d-flex flex-row\">\r\n          <div className=\"d-flex flex-column mx-2\">\r\n            <label for=\"pollStartDate\">Start date</label>\r\n            {/*You have min and max propertuies on dates input*/}\r\n            <input\r\n              style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n              type=\"date\"\r\n              id=\"pollStartDate\"\r\n              value={state.pollStartDate}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div>Start time</div>\r\n            <input\r\n              type=\"time\"\r\n              style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"d-flex flex-row\">\r\n          <div className=\"d-flex flex-column mx-2\">\r\n            <label for=\"pollEndDate\">End date</label>\r\n            <input\r\n              style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n              type=\"date\"\r\n              id=\"pollStartDate\"\r\n              value={state.pollEndDate}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div>End time</div>\r\n            <input\r\n              type=\"time\"\r\n              style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{ border: \"1px solid #ced4da\", borderRadius: \"0.375rem\" }}\r\n        className=\"p-3 my-3\"\r\n      >\r\n        <label for=\"question\">Question</label>\r\n        <input\r\n          style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n          type=\"text\"\r\n          id=\"question\"\r\n          value={state.question}\r\n        />\r\n        <label className=\"mt-3\" for=\"pollType\">\r\n          Pool type\r\n        </label>\r\n        <div className=\"dropdown\">\r\n          <button\r\n            style={{ backgroundColor: \"rgb(230, 230, 230)\" }}\r\n            className=\"btn dropdown-toggle\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              console.log(state.expandOptions);\r\n              State.update({ expandOptions: !state.expandOptions });\r\n              console.log(state.expandOptions);\r\n            }}\r\n          >\r\n            {state.pollType == \"0\"\r\n              ? \"Yes/No\"\r\n              : state.pollType == \"1\"\r\n              ? \"Text\"\r\n              : \"Multiple choice\"}\r\n          </button>\r\n\r\n          {state.expandOptions && renderOptions()}\r\n        </div>\r\n        {state.pollType == \"2\" && renderTextInputsForChoices()}\r\n      </div>\r\n      <div\r\n        style={{\r\n          height: \"150px\",\r\n          border: \"1px solid #ced4da\",\r\n          borderRadius: \"0.375rem\",\r\n        }}\r\n        className=\"d-flex justify-content-center align-items-center\"\r\n      >\r\n        <i class=\"bi bi-plus-lg\"></i>\r\n        <span>Click to add another one question</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div\r\n      style={{ border: \"1px solid #ced4da\", borderRadius: \"0.375rem\" }}\r\n      className=\"p-3 d-flex flex-column justify-content-center\"\r\n    >\r\n      <button type=\"button\" className=\"my-2 btn btn-outline-primary\">\r\n        Preview\r\n      </button>\r\n      <button type=\"button\" className=\"my-2 btn btn-primary\">\r\n        Create poll\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newPollQuestionInterface"}
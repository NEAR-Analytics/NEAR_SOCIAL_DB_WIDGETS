{"tx_hash": "8UHrrEQKb8VzNQrHsoCL9gZGeBu5MA53ikEg3ou9wy6D", "action_id_social": "4Y4bTR5izcpNdiiymLUCwJUBqhQRxaTxXBuUZRikX2TB-0-widget", "block_id": 83789519, "block_timestamp": "2023-01-25 21:33:16.611", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "timeAgo", "source_code": "if (!props.timeInFuture) return \"timeInFuture prop not set\";\r\n\r\nState.init({\r\n  now: Date.now(),\r\n});\r\n\r\nconst timeMs = props.timeInFuture;\r\n\r\nfunction timeInFuture(timeInMillis) {\r\n  let negative = timeInMillis < 0;\r\n  timeInMillis = Math.abs(timeInMillis);\r\n  let timesString = [];\r\n  const timeInSeconds = Math.floor(timeInMillis / 1000);\r\n  const s = timeInSeconds % 60;\r\n  if (s == 1) {\r\n    timesString.push(`1 second`);\r\n  } else if (s > 1 && s < 60) {\r\n    timesString.push(`${s} seconds`);\r\n  }\r\n  const timeInMinutes = (timeInSeconds - s) / 60;\r\n  const m = timeInMinutes % 60;\r\n  if (m == 1) {\r\n    timesString.push(`1 minute`);\r\n  } else if (m > 1 && m < 60) {\r\n    timesString.push(`${m} minutes`);\r\n  }\r\n  const timeInHours = (timeInMinutes - m) / 60;\r\n  const h = timeInHours % 24;\r\n  if (h == 1) {\r\n    timesString.push(`1 hour`);\r\n  } else if (h > 1 && h < 24) {\r\n    timesString.push(`${h} hours`);\r\n  }\r\n  const timeInDays = (timeInHours - h) / 24;\r\n  const d = timeInDays;\r\n  if (d == 1) {\r\n    timesString.push(`1 day`);\r\n  } else if (d > 1) {\r\n    timesString.push(`${d} days`);\r\n  }\r\n  let output = \"\";\r\n  if (props.reduced) {\r\n    output = timesString[timesString.length - 1];\r\n  } else {\r\n    output = timesString.reverse().join(\" \");\r\n  }\r\n  if (negative) output += \" ago\";\r\n  return output;\r\n}\r\n\r\nreturn timeInFuture(timeMs - state.now);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/timeAgo"}
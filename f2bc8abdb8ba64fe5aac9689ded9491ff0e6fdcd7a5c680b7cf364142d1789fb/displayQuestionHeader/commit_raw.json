{"tx_hash": "3ZWBYywMe1LRHwu4b9pgbvLw777rWDiudsxYeLyYzhV3", "action_id_social": "8NBijfwGzB8c5W6me9uJdTjgW2qV9Grc5LSnmhXpcDLp-0-widget", "block_id": 82140376, "block_timestamp": "2023-01-03 23:55:00.409", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "displayQuestionHeader", "source_code": "State.init({ profile: {} });\n\nif (state.profile == {}) {\n  return \"Loading\";\n} else if (state.profile == undefined) {\n  return (\n    <div className=\"d-flex\">\n      <img\n        className=\"rounded w-100 h-100\"\n        src=\"https://i.near.social/thumbnail/https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\"\n        alt={accountId}\n        style={{ objectFit: \"cover\" }}\n      />\n      <span>{accountId}</span>\n    </div>\n  );\n}\n\nlet profile = Social.getr(`${props.accountId}/profile`);\nif (JSON.stringify(profile) != JSON.stringify(state.profile)) {\n  State.update({ profile: profile });\n}\n\nlet amountOfQuestionsByThisUser = 0;\n\n//TODO review this\nfor (let i = 0; i < props.allUsersQuestions.length; i++) {\n  if (props.allUsersQuestions[i].accountId == props.accountId) {\n    amountOfQuestionsByThisUser++;\n  }\n}\n\nfunction makeAccountIdShorter(accountId) {\n  if (accountId.length > 12) {\n    return accountId.slice(0, 12) + \"...\";\n  }\n  return accountId;\n}\n\nreturn (\n  <div className=\"d-flex justify-content-between w-100\">\n    <a\n      className=\"d-flex\"\n      href={`https://near.social/#/mob.near/widget/ProfilePage?accountId=${accountId}`}\n      style={{ color: \"#010A2D\" }}\n    >\n      {profile ? (\n        <Widget\n          src=\"mob.near/widget/ProfileImage\"\n          props={{\n            profile,\n            accountId,\n            className: \"float-start d-inline-block me-2\",\n          }}\n        />\n      ) : (\n        <p>Loading...</p>\n      )}\n      <div style={{ marginLeft: \"1rem\" }}>\n        <p\n          style={{\n            margin: \"0\",\n            fontWeight: \"700\",\n            fontSize: \"1.2rem\",\n            textDecotarion: \"none\",\n          }}\n        >\n          {profile ? makeAccountIdShorter(profile.name) : \"Loading...\"}\n        </p>\n        <p\n          className=\"text-secondary\"\n          style={{ margin: \"0\", textDecotarion: \"none\" }}\n        >\n          {makeAccountIdShorter(props.accountId)}\n        </p>\n      </div>\n    </a>\n    <p className=\"text-secondary\">Total: {amountOfQuestionsByThisUser}</p>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/displayQuestionHeader"}
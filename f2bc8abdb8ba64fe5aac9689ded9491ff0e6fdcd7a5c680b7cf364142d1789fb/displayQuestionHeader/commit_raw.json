{"tx_hash": "8Hj4b6hQX5XEyPtehS4aAo4aDk48tenqDfvfWcm1s4Da", "action_id_social": "DhYqsp6aJkAffAS5LgpbC9EK6cR16MGohGCrNAXCsQZa-0-widget", "block_id": 82140036, "block_timestamp": "2023-01-03 23:48:31.760", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "displayQuestionHeader", "source_code": "State.init({ profile: {} });\n\nlet profile = Social.getr(`${props.accountId}/profile`);\nif (props.accountId == \"ascential.near\") {\n  console.log(\"state.profile: \", state.profile);\n  console.log(\"profile: \", profile);\n}\nif (JSON.stringify(profile) != JSON.stringify(state.profile)) {\n  State.update({ profile: profile });\n}\n\nif (!profile) {\n  return \"Loading\";\n}\n\nlet amountOfQuestionsByThisUser = 0;\n\n//TODO review this\nfor (let i = 0; i < props.allUsersQuestions.length; i++) {\n  if (props.allUsersQuestions[i].accountId == props.accountId) {\n    amountOfQuestionsByThisUser++;\n  }\n}\n\nfunction makeAccountIdShorter(accountId) {\n  if (accountId.length > 12) {\n    return accountId.slice(0, 12) + \"...\";\n  }\n  return accountId;\n}\n\nreturn (\n  <div className=\"d-flex justify-content-between w-100\">\n    <a\n      className=\"d-flex\"\n      href={`https://near.social/#/mob.near/widget/ProfilePage?accountId=${accountId}`}\n      style={{ color: \"#010A2D\" }}\n    >\n      {profile ? (\n        <Widget\n          src=\"mob.near/widget/ProfileImage\"\n          props={{\n            profile,\n            accountId,\n            className: \"float-start d-inline-block me-2\",\n          }}\n        />\n      ) : (\n        <p>Loading...</p>\n      )}\n      <div style={{ marginLeft: \"1rem\" }}>\n        <p\n          style={{\n            margin: \"0\",\n            fontWeight: \"700\",\n            fontSize: \"1.2rem\",\n            textDecotarion: \"none\",\n          }}\n        >\n          {profile ? makeAccountIdShorter(profile.name) : \"Loading...\"}\n        </p>\n        <p\n          className=\"text-secondary\"\n          style={{ margin: \"0\", textDecotarion: \"none\" }}\n        >\n          {makeAccountIdShorter(props.accountId)}\n        </p>\n      </div>\n    </a>\n    <p className=\"text-secondary\">Total: {amountOfQuestionsByThisUser}</p>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/displayQuestionHeader"}
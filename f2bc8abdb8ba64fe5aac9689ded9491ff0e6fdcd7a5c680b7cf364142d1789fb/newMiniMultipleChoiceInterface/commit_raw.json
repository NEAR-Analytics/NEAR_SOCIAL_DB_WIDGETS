{"tx_hash": "5EcANYSoSaKgU1Xr9hfsAkcq1La1KVtuwxrNJckxs5ZR", "action_id_social": "9ifZMzyng7U3JTFG5drYs2SmTBQNjxmEXpCVdMoWCnd8-0-widget", "block_id": 80204636, "block_timestamp": "2022-12-08 18:23:49.204", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newMiniMultipleChoiceInterface", "source_code": "let questionBlockHeight = props.questionBlockHeight ?? 79932918;\nlet choicesOptions = props.choicesOptions ?? [\"a\", \"b\", \"c\"];\n\n//You need to do a Social.index call to get all the answers to this question, then count the amounts of votes for each option and the totals\nlet countVotes = [20, 3, 4];\nlet amountOfVotes = \"30\";\n\nfunction calculatePercentage(votesToThisOption) {\n  return (votesToThisOption / amountOfVotes) * 100;\n}\n\nconst renderOption = (option, index) => {\n  return (\n    <div>\n      <h4>{option}</h4>\n      <div className=\"d-flex\">\n        <div\n          style={{ color: \"#000\", backgroundColor: \"#f1f1f1\", width: \"90%\" }}\n        >\n          {/* Set the width of the next div to make the bar grow. At the same, use the same value to fill the span tag */}\n          <div\n            style={{\n              content: \"\",\n              display: \"table\",\n              clear: \"both\",\n              padding: \"0.01em 16px\",\n              display: \"inline-block\",\n              width: `${calculatePercentage(countVotes[index])}%`,\n              textAlign: \"center\",\n              backgroundColor: \"lightgray\",\n            }}\n          >\n            <span>{calculatePercentage(countVotes[index])}</span>\n          </div>\n        </div>\n        <span style={{ minWidth: \"max-content\" }}>\n          Of {amountOfVotes} votes\n        </span>\n      </div>\n    </div>\n  );\n};\n\nreturn (\n  <div className=\"m-2\">\n    {choicesOptions.map((option, index) => {\n      return renderOption(option, index);\n    })}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newMiniMultipleChoiceInterface"}
{"tx_hash": "2Fay7H3kfqSyAinsbDtXjaLCwLawaJStUeKpjfoVfbJA", "action_id_social": "DsrbeVz1pMiaEvzRwuTdtBikVqjiZsuB43fazVLBWu2a-0-widget", "block_id": 80191578, "block_timestamp": "2022-12-08 14:07:02.469", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newMiniMultipleChoiceInterface", "source_code": "let endDate = props.endDate ?? Date.now() - 90000;\n\nlet options = props.options ?? [\n  {\n    text: \"Option1\",\n    percentageOfVotes: \"20%\",\n  },\n  {\n    text: \"Option2\",\n    percentageOfVotes: \"50%\",\n  },\n];\n\nlet amountOfVotes = props.amountOfVotes ?? \"30\";\n\nconst renderOption = (option) => {\n  return (\n    <div>\n      <h4>{option.text}</h4>\n      <div className=\"d-flex\">\n        <div\n          style={{ color: \"#000\", backgroundColor: \"#f1f1f1\", width: \"90%\" }}\n        >\n          {/* Set the width of the next div to make the bar grow. At the same, use the same value to fill the span tag */}\n          <div\n            style={{\n              content: \"\",\n              display: \"table\",\n              clear: \"both\",\n              padding: \"0.01em 16px\",\n              display: \"inline-block\",\n              width: option.percentageOfVotes,\n              textAlign: \"center\",\n              backgroundColor: \"lightgray\",\n            }}\n          >\n            <span>{option.percentageOfVotes}</span>\n          </div>\n        </div>\n        <span style={{ minWidth: \"max-content\" }}>\n          Of {amountOfVotes} votes\n        </span>\n      </div>\n    </div>\n  );\n};\n\nreturn (\n  <div className=\"d-flex flex-column\">\n    <div className=\"d-flex no-wrap\">\n      {/* The next widget need the info of the user making the question */}\n      {/* you can use this \"Social.getr(`${accountId}/profile`);\" to get the users profile */}\n      <Widget src=\"mob.near/widget/Profile\" props={{ accountId, profile }} />\n\n      <div className=\"d-flex\">\n        <span className=\"mx-2\">End date: {endDate} </span>\n\n        <span\n          style={{ backgroundColor: endDate > Date.now() ? \"blue\" : \"red\" }}\n        >\n          {endDate > Date.now() ? \"Active\" : \"Closed\"}\n        </span>\n      </div>\n    </div>\n\n    <div>\n      <h3>Title</h3>\n      <p>Description</p>\n    </div>\n\n    <div className=\"m-2\">\n      {options.map((option) => {\n        return renderOption(option);\n      })}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newMiniMultipleChoiceInterface"}
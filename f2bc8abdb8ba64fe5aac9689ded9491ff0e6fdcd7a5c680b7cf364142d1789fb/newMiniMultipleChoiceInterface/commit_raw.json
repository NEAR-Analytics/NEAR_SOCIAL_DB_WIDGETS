{"tx_hash": "F6udRDDqCcdvLfkVTHpRJHi4xyWS6evNTf3mcCgnqyDH", "action_id_social": "PZ8wAsew1oneCEDrj7aP6tvoza4HeEopU7UKzSZ8dHt-0-widget", "block_id": 80200143, "block_timestamp": "2022-12-08 16:55:12.283", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newMiniMultipleChoiceInterface", "source_code": "let questionBlockHeight = props.questionBlockHeight ?? 79932918;\r\nlet question = props.question ?? \"Testing multiple choice\";\r\nlet description = props.description ?? \"This is a test\";\r\nlet choicesOptions = props.choicesOptions ?? [\"a\", \"b\", \"c\"];\r\n\r\n//You need to do a Social.index call to get all the answers to this question, then count the amounts of votes for each option and the totals\r\nlet countVotes = [20, 3, 4];\r\nlet amountOfVotes = \"30\";\r\n\r\nfunction calculatePercentage(votesToThisOption) {\r\n  return (votesToThisOption / amountOfVotes) * 100;\r\n}\r\n\r\nconst renderOption = (option, index) => {\r\n  return (\r\n    <div>\r\n      <h4>{option}</h4>\r\n      <div className=\"d-flex\">\r\n        <div\r\n          style={{ color: \"#000\", backgroundColor: \"#f1f1f1\", width: \"90%\" }}\r\n        >\r\n          {/* Set the width of the next div to make the bar grow. At the same, use the same value to fill the span tag */}\r\n          <div\r\n            style={{\r\n              content: \"\",\r\n              display: \"table\",\r\n              clear: \"both\",\r\n              padding: \"0.01em 16px\",\r\n              display: \"inline-block\",\r\n              width: `${calculatePercentage(countVotes[index])}%`,\r\n              textAlign: \"center\",\r\n              backgroundColor: \"lightgray\",\r\n            }}\r\n          >\r\n            <span>{calculatePercentage(countVotes[index])}</span>\r\n          </div>\r\n        </div>\r\n        <span style={{ minWidth: \"max-content\" }}>\r\n          Of {amountOfVotes} votes\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nreturn (\r\n  <div className=\"d-flex flex-column\">\r\n    <div>\r\n      <h3>{question}</h3>\r\n      <p>{description}</p>\r\n    </div>\r\n\r\n    <div className=\"m-2\">\r\n      {choicesOptions.map((option, index) => {\r\n        return renderOption(option, index);\r\n      })}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newMiniMultipleChoiceInterface"}
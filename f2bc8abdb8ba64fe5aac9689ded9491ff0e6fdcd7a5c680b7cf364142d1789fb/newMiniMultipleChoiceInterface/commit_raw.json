{"tx_hash": "8uPWp85HDHG1dBzriwATWps6jECvQgRouJy3vWyZwPcm", "action_id_social": "beQzHNiWVuDCb8Ed2FnRiPz38KsKUGFixnGRPsKdgoc-0-widget", "block_id": 80193940, "block_timestamp": "2022-12-08 14:53:29.440", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newMiniMultipleChoiceInterface", "source_code": "let endDate = props.endDate ?? Date.now() - 90000;\r\n\r\nlet options = props.options ?? [\r\n  {\r\n    text: \"Option1\",\r\n    percentageOfVotes: \"20%\",\r\n  },\r\n  {\r\n    text: \"Option2\",\r\n    percentageOfVotes: \"50%\",\r\n  },\r\n];\r\n\r\nlet amountOfVotes = props.amountOfVotes ?? \"30\";\r\n\r\nconst renderOption = (option) => {\r\n  return (\r\n    <div>\r\n      <h4>{option.text}</h4>\r\n      <div className=\"d-flex\">\r\n        <div\r\n          style={{ color: \"#000\", backgroundColor: \"#f1f1f1\", width: \"90%\" }}\r\n        >\r\n          {/* Set the width of the next div to make the bar grow. At the same, use the same value to fill the span tag */}\r\n          <div\r\n            style={{\r\n              content: \"\",\r\n              display: \"table\",\r\n              clear: \"both\",\r\n              padding: \"0.01em 16px\",\r\n              display: \"inline-block\",\r\n              width: option.percentageOfVotes,\r\n              textAlign: \"center\",\r\n              backgroundColor: \"lightgray\",\r\n            }}\r\n          >\r\n            <span>{option.percentageOfVotes}</span>\r\n          </div>\r\n        </div>\r\n        <span style={{ minWidth: \"max-content\" }}>\r\n          Of {amountOfVotes} votes\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nreturn (\r\n  <div className=\"d-flex flex-column\">\r\n    <div className=\"d-flex no-wrap\">\r\n      {/* The next widget need the info of the user making the question */}\r\n      {/* you can use this \"Social.getr(`${accountId}/profile`);\" to get the users profile */}\r\n      <Widget src=\"mob.near/widget/Profile\" props={{ accountId, profile }} />\r\n\r\n      <div className=\"d-flex\">\r\n        <span className=\"mx-2\">End date: {endDate} </span>\r\n\r\n        <span\r\n          style={{ backgroundColor: endDate > Date.now() ? \"blue\" : \"red\" }}\r\n        >\r\n          {endDate > Date.now() ? \"Active\" : \"Closed\"}\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n      <h3>Title</h3>\r\n      <p>Description</p>\r\n    </div>\r\n\r\n    <div className=\"m-2\">\r\n      {options.map((option) => {\r\n        return renderOption(option);\r\n      })}\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newMiniMultipleChoiceInterface"}
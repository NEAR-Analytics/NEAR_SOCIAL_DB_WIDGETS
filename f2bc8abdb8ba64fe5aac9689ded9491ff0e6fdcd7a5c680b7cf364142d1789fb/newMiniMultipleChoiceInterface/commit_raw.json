{"tx_hash": "CWgWqzH9pf9c8DcoqBnWX2Bvdwtp659tLWR7w3BUGBVs", "action_id_social": "DN4JzUAiKW9RdUaeYQnGT58gL2UjvtUZXeD9tmkMp4a-0-widget", "block_id": 80199864, "block_timestamp": "2022-12-08 16:49:52.218", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newMiniMultipleChoiceInterface", "source_code": "let questionBlockHeight = props.questionBlockHeight ?? 79932918;\nlet question = props.question ?? \"Testing multiple choice\";\nlet description = props.description ?? \"This is a test\";\nlet choicesOptions = props.choicesOptions ?? [\"a\", \"b\", \"c\"];\n\nlet options = props.options ?? [\n  {\n    text: \"Option1\",\n    percentageOfVotes: \"20%\",\n  },\n  {\n    text: \"Option2\",\n    percentageOfVotes: \"50%\",\n  },\n];\n\n//You need to do a Social.index call to get all the answers to this question, then count the amounts of votes for each option and the totals\nlet amountOfVotes = props.amountOfVotes ?? \"30\";\n\nconst renderOption = (option, index) => {\n  return (\n    <div>\n      <h4>{option}</h4>\n      <div className=\"d-flex\">\n        <div\n          style={{ color: \"#000\", backgroundColor: \"#f1f1f1\", width: \"90%\" }}\n        >\n          {/* Set the width of the next div to make the bar grow. At the same, use the same value to fill the span tag */}\n          <div\n            style={{\n              content: \"\",\n              display: \"table\",\n              clear: \"both\",\n              padding: \"0.01em 16px\",\n              display: \"inline-block\",\n              width: calculatePercentage(countVotes[index]),\n              textAlign: \"center\",\n              backgroundColor: \"lightgray\",\n            }}\n          >\n            <span>{calculatePercentage(countVotes[index])}</span>\n          </div>\n        </div>\n        <span style={{ minWidth: \"max-content\" }}>\n          Of {amountOfVotes} votes\n        </span>\n      </div>\n    </div>\n  );\n};\n\nreturn (\n  <div className=\"d-flex flex-column\">\n    <div>\n      <h3>{question}</h3>\n      <p>{description}</p>\n    </div>\n\n    <div className=\"m-2\">\n      {choicesOptions.map((option, index) => {\n        return renderOption(option, index);\n      })}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newMiniMultipleChoiceInterface"}
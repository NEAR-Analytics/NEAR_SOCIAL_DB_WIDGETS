{"tx_hash": "EBcRtTQWW4BYAo2EwmMV5zxpZBvncZE6KmBZ4sTRRvZw", "action_id_social": "3QMtvZPmEfzfPyWiugAEWZVS76YvNbM28wsf3pTtcoEa-0-widget", "block_id": 92623993, "block_timestamp": "2023-05-24T19:56:42.404Z", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "general_neardigitalcollective_standard-abort-popup", "source_code": "/*----------------------------------------------Start get props----------------------------------------------*/\r\nconst showAbort = props.showAbort ?? false;\r\nconst handlerStateUpdate = props.handlerStateUpdate;\r\nconst abortThroughPage = props.abortThroughPage;\r\n\r\nconst abortInfoText =\r\n  props.abortInfoText ?? \"If you leave now, you will lose all your changes\";\r\nconst confirmAbortText = props.confirmAbortText ?? \"Discard changes\";\r\nconst cancelAbortText = props.cancelAbortText ?? \"Continue editing\";\r\nconst closeIcon = props.icons.closeIcon ?? \"bi bi-x-lg\";\r\nconst colors = props.colors;\r\n\r\n/*-----------------------------------------------End get props-----------------------------------------------*/\r\n\r\n/*----------------------------------------------Start styles----------------------------------------------*/\r\nconst abortPopupStyles = {\r\n  generalContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: colors.green3,\r\n    backdropFilter: \"blur(4px)\",\r\n  },\r\n  modalDialogContainer: { width: \"540px\", borderRadius: \"28px\" },\r\n  modalContentContainer: { border: \"none\", borderRadius: \"28px\" },\r\n  modalHeader: { padding: \"0\", margin: \"0\", border: \"none\" },\r\n  closeButton: {\r\n    border: \"none\",\r\n    backgroundColor: \"transparent\",\r\n    margin: \"0.5rem 0.5rem 0px 0px\",\r\n    borderRadius: \"28px\",\r\n    marginRight: \"0.3rem\",\r\n    padding: \"0.3rem 0.7rem 0 0\",\r\n  },\r\n  modalBody: {\r\n    width: \"90%\",\r\n    borderRadius: \"1rem\",\r\n    margin: \"0 auto\",\r\n    padding: \"0\",\r\n  },\r\n  discardChangesTitle: {\r\n    fontWeight: \"700\",\r\n    fontSize: \"1.5rem\",\r\n    letterSpacing: \"0.1px\",\r\n    textAlign: \"center\",\r\n  },\r\n  discardChangesText: {\r\n    letterSpacing: \"-0.01\",\r\n    color: colors.grey3,\r\n    fontSize: \"1rem\",\r\n    textAlign: \"center\",\r\n  },\r\n  modalFooter: { border: \"none\", justifyContent: \"space-around\" },\r\n  continueEditingButton: {\r\n    padding: \"0.7rem\",\r\n    borderRadius: \"16px\",\r\n    width: \"45%\",\r\n    backgroundColor: colors.color2,\r\n    border: `1.5px solid ${colors.grey4}`,\r\n    color: colors.color1,\r\n    fontWeight: \"700\",\r\n    letterSpacing: \"0.01em\",\r\n  },\r\n  discardChangesButton: {\r\n    padding: \"0.7rem\",\r\n    borderRadius: \"16px\",\r\n    width: \"45%\",\r\n    backgroundColor: colors.red3,\r\n    border: \"1.5px solid transparent\",\r\n    color: colors.color2,\r\n    fontWeight: \"700\",\r\n    letterSpacing: \"0.01em\",\r\n  },\r\n};\r\n\r\n/*-----------------------------------------------End styles-----------------------------------------------*/\r\n\r\n/*----------------------------------------------Start functions----------------------------------------------*/\r\nfunction closeModalClickingOnTransparent() {\r\n  return (e) => {\r\n    e.target.id == \"modal\" && handlerStateUpdate({ showAbort: false });\r\n  };\r\n}\r\n\r\n/*-----------------------------------------------End functions-----------------------------------------------*/\r\n\r\n/*----------------------------------------------Start rendering----------------------------------------------*/\r\n\r\nreturn (\r\n  <div\r\n    className=\"modal\"\r\n    id=\"modal\"\r\n    style={showAbort && abortPopupStyles.generalContainer}\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    onClick={closeModalClickingOnTransparent()}\r\n  >\r\n    <div\r\n      className=\"modal-dialog\"\r\n      style={abortPopupStyles.modalDialogContainer}\r\n      role=\"document\"\r\n    >\r\n      <div\r\n        className=\"modal-content\"\r\n        style={abortPopupStyles.modalContentContainer}\r\n      >\r\n        <div\r\n          className=\"modal-header flex-row-reverse\"\r\n          style={abortPopupStyles.modalHeader}\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            className=\"close\"\r\n            style={abortPopupStyles.closeButton}\r\n            dataDismiss=\"modal\"\r\n            ariaLabel=\"Close\"\r\n            onClick={() => handlerStateUpdate({ showAbort: false })}\r\n          >\r\n            <i className={closeIcon}></i>\r\n          </button>\r\n        </div>\r\n        <div className=\"modal-body\" style={abortPopupStyles.modalBody}>\r\n          <h3 style={abortPopupStyles.discardChangesTitle}>Discard changes</h3>\r\n          <p style={abortPopupStyles.discardChangesText}>{abortInfoText}</p>\r\n        </div>\r\n        <div className=\"modal-footer\" style={abortPopupStyles.modalFooter}>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n            data-dismiss=\"modal\"\r\n            style={abortPopupStyles.continueEditingButton}\r\n            onClick={() => handlerStateUpdate({ showAbort: false })}\r\n          >\r\n            {cancelAbortText}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n            data-dismiss=\"modal\"\r\n            style={abortPopupStyles.discardChangesButton}\r\n            onClick={() => {\r\n              handlerStateUpdate({\r\n                tab: abortThroughPage,\r\n                hoveringElement: \"\",\r\n                showAbort: false,\r\n              });\r\n            }}\r\n          >\r\n            {confirmAbortText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n/*-----------------------------------------------End rendering-----------------------------------------------*/\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/general_neardigitalcollective_standard-abort-popup", "__row_index": 2}
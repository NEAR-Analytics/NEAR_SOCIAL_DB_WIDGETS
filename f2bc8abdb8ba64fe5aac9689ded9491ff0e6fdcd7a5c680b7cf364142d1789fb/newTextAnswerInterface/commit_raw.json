{"tx_hash": "6su5QdpCbPrZRjA1FF3HbhgiduFA6yTD2DwbefbDX5BU", "action_id_social": "5ChTcAw5qqKZwN6BjMGbbsmekRn1j69mBZhwcBxNMimX-0-widget", "block_id": 80208507, "block_timestamp": "2022-12-08 19:39:57.006", "signer_id": "f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb", "widget_name": "newTextAnswerInterface", "source_code": "let questionTimestamp = props.questionTimestamp;\nlet questionBlockHeight = props.questionBlockHeight ?? 79932883;\nlet userMakingQuestion =\n  props.accountId ??\n  \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\";\n\n//Using the questionBlockheight you have to retrive the answers and you should get an array of objects like the next one\nlet answers = [\n  {\n    accountId:\n      \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\n    value: {\n      user_answer: \"This is my answer\",\n      answer_timeStamp: Date.now(),\n    },\n  },\n];\n\nfunction stringToTimeStampFormat(string) {\n  let timeStampFormat = 1321566516131;\n  //TODO\n  return timeStampFormat;\n}\n\nconst profileLink = (c) => (\n  <a\n    className=\"text-decoration-none link-dark\"\n    href={`#/mob.near/widget/ProfilePage?accountId=${userMakingQuestion}`}\n  >\n    {c}\n  </a>\n);\n\nreturn (\n  <>\n    {answers.map((answer) => {\n      let profile = Social.getr(`${answer.accountId}/profile`);\n      return (\n        <div>\n          <div\n            className=\"d-flex align-items-start\"\n            style={{\n              padding: \"1.5rem 0\",\n              borderBottom: \"1px solid #e9e9e9\",\n            }}\n          >\n            <div>\n              {profileLink(\n                <Widget\n                  src=\"mob.near/widget/ProfileImage\"\n                  props={{ accountId: answer.accountId }}\n                />\n              )}\n            </div>\n            <div className=\"d-flex\">\n              <div className=\"flex-grow-1 me-1 text-truncate\">\n                {profileLink(\n                  <>\n                    <span className=\"fw-bold\">{profile.name}</span>\n                    <span className=\"text-secondary\">@{answer.accountId}</span>\n                  </>\n                )}\n              </div>\n              <div>\n                <small className=\"ps-1 text-nowrap text-muted ms-auto\">\n                  <i className=\"bi bi-clock me-1\"></i>\n                  {timeAgo(Date.now() - stringToTimeStampFormat(startDate))}\n                </small>\n              </div>\n            </div>\n          </div>\n          <textarea\n            className=\"w-100\"\n            value={answer.value.user_answer}\n            readonly\n          />\n        </div>\n      );\n    })}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/newTextAnswerInterface"}
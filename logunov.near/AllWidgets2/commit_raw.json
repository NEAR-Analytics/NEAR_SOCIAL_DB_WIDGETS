{"tx_hash": "te1T6kFx7hwcpQx24NY7nx717PEvpUQJBAKfpTitpMG", "action_id_social": "48VNfyt9SkKrnnTNfbMdMcRu3qbF2SvjZMw8rLTtTEL7-0-widget", "block_id": 80639710, "block_timestamp": "2022-12-14 15:21:37.341", "signer_id": "logunov.near", "widget_name": "AllWidgets2", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet\";\n}\n\nconst data = Social.get(`${accountId}/graph/widget/*`, \"final\");\n\nif (!data) {\n  return \"Loading\";\n}\n\nconst widgets = Object.entries(data);\nconst wrappedWidgets = [];\nfor (let i = 0; i < widgets.length; ++i) {\n  const widget_src = widgets[i];\n  wrappedWidgets.push(\n    <div>\n      <li>\n        <a href={`#/${widget_src}`}>{<i>{widget_src}</i>}</a>\n      </li>\n    </div>\n  );\n}\n\nState.init({ new_widget: \"\" });\n\nreturn (\n  <div>\n    <div>{accountId}</div>\n    <div>{wrappedWidgets}</div>\n    <div className=\"mb-2\">\n      <h4>Add favourite widget</h4>\n      <textarea\n        type=\"text\"\n        rows={1}\n        className=\"form-control\"\n        value={state.note}\n        onChange={(e) => State.update({ new_widget: e.target.value })}\n      />\n    </div>\n    <CommitButton data={{ graph: { widget: { [state.new_widget]: \"\" } } }}>\n      Save widget\n    </CommitButton>\n    <CommitButton data={{ graph: { widget: {} } }}>Clear all</CommitButton>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/logunov.near/widget/AllWidgets2"}
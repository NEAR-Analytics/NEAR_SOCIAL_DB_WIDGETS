{"tx_hash": "3oDcaNR15URLYkjSPtw8u3J8mQ6vxs46Hqu4KHkgEjZG", "action_id_social": "C63Zxdz9mxqk24XRVfhGUNrNaeEte5aW9dZmyXhQg1vM-0-widget", "block_id": 80707499, "block_timestamp": "2022-12-15 13:26:48.043", "signer_id": "logunov.near", "widget_name": "SaveFile", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet\";\n}\n\nconst data = Social.get(`${accountId}/graph/widget/*`, \"final\");\n\nconst widgets = data ? Object.entries(data) : [];\nconst wrappedWidgets = [];\nconst maxIndex = -1;\nfor (let i = 0; i < widgets.length; ++i) {\n  const index = widgets[i][0];\n  maxIndex = Math.max(maxIndex, index);\n  const src = widgets[i][1];\n  wrappedWidgets.push(\n    <tr border=\"1\">\n      <td>{index}</td>\n      <td>\n        <a href={`#/${src}`}>\n          <i>{src}</i>\n        </a>\n      </td>\n    </tr>\n  );\n}\n\nState.init({ file: null });\n\nfunction readURL(input) {\n  //   var reader = new FileReader();\n  console.log(globalThis);\n  console.log(FileReader);\n  //   reader.onload = function (e) {\n  //     $(\"#blah\").attr(\"src\", e.target.result).width(150).height(200);\n  //   };\n  console.log(\"Hey!\");\n  //   reader.readAsDataURL(input.files[0]);\n}\n\nreturn (\n  <div>\n    {console.log(readURL)}\n    <div>{JSON.stringify(state.file)}</div>\n    <input\n      type=\"file\"\n      onChange={(e) => readURL(e)}\n      //   onChange={(e) => State.update({ file: e.target.value })}\n    />\n    <img id=\"blah\" src=\"#\" alt=\"your image\" />\n    <input type=\"submit\" value=\"Submit\" />\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/logunov.near/widget/SaveFile"}
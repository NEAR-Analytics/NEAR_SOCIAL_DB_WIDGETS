{"tx_hash": "2YaZCy2S4KY8PEZDWpBhdiKbwuReheFj1eT79eQj7bTQ", "action_id_social": "FHpXziKAbn5yjhohhRUgALW6u9wA3WvgSUe9ZkrYdZpf-0-widget", "block_id": 92437147, "block_timestamp": "2023-05-22T08:44:46.014Z", "signer_id": "dapppunk.near", "widget_name": "donation.widget.fork", "source_code": "// Buttons are not functional\n// TODO: on-chain interactions\nState.init({\n  currentDonations: 0,\n  totalDonations: 100,\n});\n\nconst header = props.header ?? <></>;\nconst body = props.body ?? <></>;\nconst footer = props.footer ?? <></>;\nvar currentDonations = state.currentDonations ?? 0;\nvar totalDonations = state.totalDonations ?? 0;\n\n// CSS for the card\nconst CardContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border: 1px solid #eceef0;\n  box-shadow: 0px 1px 3px rgba(16, 24, 40, 0.1),\n    0px 1px 2px rgba(16, 24, 40, 0.06);\n  border-radius: 8px;\n  flex-shrink: 0;\n  width: 60%;\n  height: 65vh;  // adjust this to your liking\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    height: 50%;  // changed this to 50%\n    background-image: url(${(props) => props.bgImage});\n    background-size: cover;\n    background-position: center;\n    border-radius: 8px 8px 0 0;\n  }\n`;\n\nconst CardHeader = styled.div`\n  display: ${({ show }) => (show ? \"flex\" : \"none\")};\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em 0;\n  gap: 0.675em;\n  background: #fff9ed;\n  flex: none;\n  order: 0;\n  align-self: stretch;\n  flex-grow: 0;\n`;\n\nconst CardBody = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 1.5em 1.5em 1em;\n  gap: 0.675em;\n  flex: none;\n  order: 0;\n  align-self: stretch;\n  flex-grow: 1;\n`;\n\nconst CardFooter = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 1.5em;\n  gap: 1em;\n  border-top: 1px solid #eceef0;\n  flex: none;\n  order: 1;\n  align-self: stretch;\n  flex-grow: 0;\n  flex-shrink: 1;\n`;\n\n// CSS for the component\nconst ProgressBarContainer = styled.div`\n  height: 20px;\n  width: 80%;\n  background-color: #e0e0e0;\n  border-radius: 50px;\n  margin: 0px 10%;\n`;\n\nconst ProgressBar = styled.div`\n  height: 100%;\n  width: ${(props) => props.width}%;\n  background-color: #4caf50;\n  border-radius: inherit;\n  text-align: right;\n`;\n\n// Adding styled components for title, description and progress label\nconst ProgressBarTitle = styled.h2`\n  text-align: center;\n`;\n\nconst ProgressBarDescription = styled.p`\n  text-align: center;\n`;\n\nconst ProgressBarLabel = styled.span`\n  text-align: center;\n  display: block;\n  margin-top: 10px;\n`;\n\n// Donate Input and Button\nconst DonateInput = styled.input`\n  border: 1px solid #eceef0;\n  padding: 10px;\n  border-radius: 8px;\n  flex-grow: 1;\n  margin-right: 10px;\n`;\n\nconst DonateButton = styled.button`\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  padding: 10px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n`;\n\nreturn (\n  <CardContainer bgImage=\"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\">\n    <CardHeader show={!!props.header}>{header}</CardHeader>\n    <CardBody>{body}</CardBody>\n    <ProgressBarTitle>Donation Campaign</ProgressBarTitle>\n    <ProgressBarDescription></ProgressBarDescription>\n    <ProgressBarContainer>\n      <ProgressBar\n        width={(currentDonations / totalDonations) * 100}\n      ></ProgressBar>\n    </ProgressBarContainer>\n    <ProgressBarLabel>\n      {currentDonations} / {totalDonations} donated\n    </ProgressBarLabel>\n    <CardFooter>\n      <DonateInput\n        id=\"donateInput\"\n        type=\"number\"\n        placeholder=\"Enter amount in $NEAR\"\n      />\n      <DonateButton id=\"donateButton\" onClick={handleButtonClick}>\n        Donate\n      </DonateButton>\n      {footer}\n    </CardFooter>\n  </CardContainer>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/dapppunk.near/widget/donation.widget.fork", "__row_index": 0}
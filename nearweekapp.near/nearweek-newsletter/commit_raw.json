{"tx_hash": "Fm1ogGtPrCLhdMZxZCgyb8nFFr99cUPwZvyKWQMMSGeL", "action_id_social": "BvhLP51J5u5a1jCY2UobKUdcNCG25eVktJ5igg94PQgY-0-widget", "block_id": 93596354, "block_timestamp": "2023-06-06T15:57:56.082Z", "signer_id": "nearweekapp.near", "widget_name": "nearweek-newsletter", "source_code": "const data = fetch(\n  \"https://nearweek.com/api/editions?populate=deep&sort=createdAt:desc&pagination[pageSize]=1\",\n  {\n    //subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n      Authorization:\n        \"Bearer 15699f0723aa9fe9f655b1a94e450552476c08807f67b525b5a3c8011eecc8aee6d45923443620f17815b897858be058cd7bd89ddf23a28aabaecb178e7ebc55d380293beeb51a8ce87b40e1518ce4708e4d51a06b115f27fa64ab5cbee5a3511cec785d7ae6a155ecd05ac8196aadae3e9b8e9401b8df8d8b69904f7364f925\",\n    },\n  }\n);\n\nconst cssFont = fetch(\"https://fonts.cdnfonts.com/css/hubot-sans\").body;\n\nif (!cssFont) return \"\";\n\nif (!state.theme) {\n  State.update({\n    theme: styled.div`\n    font-family: 'Mona Sans', sans-serif;\n    font-style: normal;\n    ${cssFont}\n`,\n  });\n}\nconst Theme = state.theme;\n\nconst ButtonLink = styled.a`\n  padding: 8px;\n  height: 32px;\n  border: 1px solid #d7dbdf;\n  border-radius: 100px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  color: ${(p) => (p.primary ? \"#006ADC\" : \"#11181C\")} !important;\n  background: #fbfcfd;\n  white-space: nowrap;\n\n  &:hover,\n  &:focus {\n    background: #ecedee;\n    text-decoration: none;\n    outline: none;\n  }\n`;\n\nconst Card = styled.div`\n  position: relative;\n  width: 100%;\n  border-radius: 12px;\n  background: #fff;\n  border: 1px solid #eceef0;\n  box-shadow: 0px 1px 3px rgba(16, 24, 40, 0.1),\n    0px 1px 2px rgba(16, 24, 40, 0.06);\n  overflow: hidden;\n`;\n\nconst CardTitle = styled.h2`\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-bottom: 16px;\n  letter-spacing: -0.02em;\n`;\n\nconst CardBody = styled.div`\n  padding: 24px 20px 24px  18px;\n  display: flex;\n  gap: 16px;\n  align-items: center;\n\n  > * {\n    min-width: 0;\n  }\n`;\n\nconst CardContent = styled.div`\n  font-size: 10px;\n  font-weight: 400;\n  line-height: 13px;\n  letter-spacing: -0.02em;\n  color: hsla(0, 0%, 0%, 1);\n  width: 100%;\n`;\n\nconst CardFooter = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16px;\n  padding: 16px;\n  border-top: 1px solid #eceef0;\n`;\n\nfunction formatDate(dateString) {\n  const date = new Date(dateString);\n  const dayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n  const monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ];\n\n  const dayOfWeek = dayNames[date.getDay()];\n  const dayOfMonth = date.getDate();\n  const month = monthNames[date.getMonth()];\n  const year = date.getFullYear();\n\n  return `${dayOfWeek} ${dayOfMonth} ${month}, ${year}`;\n}\n\nconst issue = data.body.data[0];\nconst nwSite = \"https://nearweek.com\";\n\nreturn (\n  <Theme>\n    {issue !== null ? (\n      <Card>\n        <CardBody>\n          <CardContent>\n            <div class=\"d-flex clearfix\">\n              <div class=\"d-flex\">\n                <img\n                  class=\"rounded\"\n                  width=\"77\"\n                  height=\"77\"\n                  src={nwSite + issue.Thumbnail.url}\n                  alt={issue.Thumbnail.alternativeText}\n                />\n                <div class=\"d-flex flex-column ms-3 mt-0\">\n                  <CardTitle>\n                    {\"Newsletter - NO\"} {issue.Number ? issue.Number : \"\"}\n                  </CardTitle>\n                  <p>\n                    A weekly update on everything that moves NEAR Protocol{\" \"}\n                    {issue.publishedAt ? formatDate(issue.publishedAt) : \"\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </CardBody>\n        <CardFooter>\n          <ButtonLink\n            href={\"https://nearweek.com/newsletters/\" + issue.slug}\n            target=\"_blank\"\n          >\n            Read\n          </ButtonLink>\n          <ButtonLink\n            href=\"https://subscribe.nearweek.com\"\n            target=\"_blank\"\n            primary\n          >\n            Subscribe\n          </ButtonLink>\n        </CardFooter>\n      </Card>\n    ) : (\n      <div>Loading ...</div>\n    )}\n  </Theme>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/nearweekapp.near/widget/nearweek-newsletter", "__row_index": 0}
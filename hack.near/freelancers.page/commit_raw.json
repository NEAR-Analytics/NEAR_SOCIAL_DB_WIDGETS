{"tx_hash": "B9vbe8aXfWKLB4dLZQ8JLjMSo2r4neRQLhzMgiDTPmxX", "action_id_social": "BGi7UdViJEBAZ8vTNrH3m3mSyjGzeds2bfhgNDaVDrX8-0-widget", "block_id": 95171568, "block_timestamp": "2023-06-27T19:10:52.061Z", "signer_id": "hack.near", "widget_name": "freelancers.page", "source_code": "const accountId = context.accountId;\nconst daoId = props.daoId ?? \"build.sputnik-dao.near\";\nconst role = props.role ?? \"voter\";\n\nlet profile = Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"\";\n}\n\nconst policy = Near.view(daoId, \"get_policy\");\nconst deposit = policy.proposal_bond;\n\nif (policy === null) {\n  return \"\";\n}\n\nconst group = policy.roles\n  .filter((role) => role.name === roleId)\n  .map((role) => role.kind.Group);\n\n// IAH Verification\nlet human = false;\nconst userSBTs = Near.view(\"registry.i-am-human.near\", \"sbt_tokens_by_owner\", {\n  account: accountId,\n});\n\nfor (let i = 0; i < userSBTs.length; i++) {\n  if (\"fractal.i-am-human.near\" == userSBTs[i][0]) {\n    human = true;\n  }\n}\n\nconst handleJoin = () => {\n  const gas = 200000000000000;\n  const deposit = 100000000000000000000000;\n  Near.call([\n    {\n      contractName: daoId,\n      methodName: \"add_proposal\",\n      args: {\n        proposal: {\n          description: \"potential member\",\n          kind: {\n            AddMemberToRole: {\n              member_id: accountId,\n            },\n          },\n        },\n      },\n      gas: gas,\n      deposit: deposit,\n    },\n  ]);\n};\n\nconst H1 = styled.h1`\n  font-family: \"FK Grotesk\", sans-serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 85px;\n  line-height: 1;\n  text-align: center;\n  letter-spacing: -0.03em;\n  color: #000;\n  margin: 8px;\n  max-width: 700px;\n\n  span {\n    display: inline-block;\n    background: #BFA6CC;\n    border-radius: 20px;\n    position: relative;\n    padding: 0.1em 0.2em 0;\n\n    svg {\n      position: absolute;\n      bottom: -8px;\n      right: -10px;\n      width: 24px;\n    }\n  }\n\n  @media (max-width: 900px) {\n    font-size: 50px;\n    max-width: 500px;\n\n    span {\n      border-radius: 12px;\n      svg {\n        position: absolute;\n        bottom: -6px;\n        right: -7px;\n        width: 16px;\n      }\n    }\n  }\n\n  @media (max-width: 480px) {\n    font-size: 50px;\n    max-width: 333px;\n\n    span {\n      border-radius: 10px;\n      svg {\n        position: absolute;\n        bottom: -5px;\n        right: -5px;\n        width: 14px;\n      }\n    }\n  }\n`;\n\nconst Text = styled.p`\n  font-family: \"FK Grotesk\", sans-serif;\n  font-size: ${(p) => p.size ?? \"18px\"};\n  line-height: ${(p) => p.lineHeight ?? \"1.5\"};\n  font-weight: ${(p) => p.weight ?? \"400\"};\n  color: ${(p) => p.color ?? \"#000\"};\n  margin: 0;\n`;\n\nconst Flex = styled.div`\n  display: flex;\n  gap: ${(p) => p.gap};\n  align-items: ${(p) => p.alignItems};\n  justify-content: ${(p) => p.justifyContent};\n  flex-direction: ${(p) => p.direction ?? \"row\"};\n  flex-wrap: ${(p) => p.wrap ?? \"nowrap\"};\n`;\n\nconst Container = styled.div`\n  display: flex;\n  max-width: 888px;\n  margin: 0 auto;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 8px;\n\n  @media (max-width: 480px) {\n    max-width: 333px;\n  }\n`;\n\nconst Proposals = styled.div`\n  max-width: 555px;\n\n  @media (max-width: 480px) {\n    max-width: 380px;\n  }\n`;\n\nreturn (\n  <Container center>\n    <Flex gap=\"23px\" direction=\"column\" alignItems=\"center\">\n      <H1>\n        Freelancer\n        <span>\n          DAO{\" \"}\n          <svg viewBox=\"0 0 26 24\" fill=\"none\" aria-hidden=\"true\">\n            <path\n              d=\"M24.3767 8.06326L1.51965 0.0649912C1.10402 -0.0830767 0.639031 0.026026 0.327308 0.340346C0.0181841 0.657263 -0.0831256 1.12225 0.0701378 1.53788L8.071 23.2519C8.23726 23.7013 8.66587 24 9.14385 24H9.14644C9.62702 24 10.0556 23.6961 10.2167 23.2441L13.734 13.495L24.3325 10.2349C24.8053 10.0895 25.13 9.65824 25.1378 9.16468C25.1482 8.67112 24.8391 8.22691 24.3715 8.06326H24.3767Z\"\n              fill=\"#333333\"\n            />\n          </svg>\n        </span>\n      </H1>\n\n      <Text size=\"29px\" weight=\"600\">\n        Blockchain Ecosystem Contributors\n      </Text>\n      {!accountId ? (\n        <Widget\n          src=\"near/widget/DIG.Button\"\n          props={{\n            href: \"https://near.org/signup\",\n            label: \"Create Account\",\n            variant: \"outline-dark\",\n            size: \"large\",\n          }}\n        />\n      ) : (\n        <div>\n          {!profile ? (\n            <Proposals>\n              <Widget src=\"hack.near/widget/pro.editor\" />\n            </Proposals>\n          ) : (\n            <div>\n              {!human ? (\n                <div className=\"row\">\n                  <div className=\"col-auto mt-5\">\n                    <Widget\n                      src=\"near/widget/DIG.Button\"\n                      props={{\n                        href: \"https://i-am-human.app/?community=banyan&vertical=regionalcommunities\",\n                        label: \"Get Verified\",\n                        variant: \"outline-primary\",\n                        size: \"large\",\n                      }}\n                    />\n                  </div>\n                  <div className=\"col-auto\">\n                    <Widget src=\"hack.near/widget/gov.Badge\" />\n                  </div>\n                </div>\n              ) : (\n                <div>\n                  <Widget\n                    src=\"hack.near/widget/connect.button\"\n                    props={{\n                      accountId: daoId,\n                    }}\n                  />\n                  <br />\n                  <Widget\n                    src=\"hack.near/widget/connections\"\n                    props={{\n                      accountId: daoId,\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </Flex>\n    <hr />\n    <Text\n      size=\"14px\"\n      weight=\"600\"\n      style={{ textTransform: \"uppercase\", letterSpacing: \"0.17em\" }}\n    >\n      Made Possible by{\" \"}\n      <a href=\"https://near.org/blog/near-digital-collective-legal-framework/\">\n        NDC\n      </a>\n      <Widget src=\"hack.near/widget/dev.Badge\" />\n    </Text>\n  </Container>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/freelancers.page", "__row_index": 5}
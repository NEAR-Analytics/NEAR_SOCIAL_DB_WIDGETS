{"tx_hash": "CBHdq94Kn82oXjasCiNTCLGzXhNyMGW6gh3STYjH8kiX", "action_id_social": "2p1gcEAv5Ydbnrw8KrZ3H6fmHYQ4fWTR1EKKqHgdC5BT-0-widget", "block_id": 90395217, "block_timestamp": "2023-04-25 11:51:49.578", "signer_id": "hack.near", "widget_name": "DAO.Join", "source_code": "const accountId = context.accountId;\r\nconst daoId = props.daoId ?? \"onboarddao.sputnik-dao.near\";\r\nconst role = props.role ?? \"council\";\r\n\r\nif (!accountId) {\r\n  return \"Please connect your NEAR wallet :)\";\r\n}\r\n\r\nconst handleProposal = () => {\r\n  const gas = 200000000000000;\r\n  const deposit = 100000000000000000000000;\r\n  Near.call([\r\n    {\r\n      contractName: daoId,\r\n      methodName: \"add_proposal\",\r\n      args: {\r\n        proposal: {\r\n          description: \"potential member\",\r\n          kind: {\r\n            AddMemberToRole: {\r\n              member_id: accountId,\r\n              role: role,\r\n            },\r\n          },\r\n        },\r\n      },\r\n      gas: gas,\r\n      deposit: deposit,\r\n    },\r\n  ]);\r\n};\r\n\r\nreturn (\r\n  <div className=\"mb-3\">\r\n    <button className=\"btn btn-primary mt-3\" onClick={handleProposal}>\r\n      Request to Join\r\n    </button>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/DAO.Join"}
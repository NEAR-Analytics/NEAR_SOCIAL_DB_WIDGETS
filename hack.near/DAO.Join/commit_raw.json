{"tx_hash": "6spuB3NDteMNZsQxymjpYYCYbmnWDigAbxxiapfkhmui", "action_id_social": "HWvUc2gN1uogZYtibuaHNmjSh92baBC2yZWjyb6N5ksf-0-widget", "block_id": 90395407, "block_timestamp": "2023-04-25 11:55:23.797", "signer_id": "hack.near", "widget_name": "DAO.Join", "source_code": "const accountId = context.accountId;\r\nconst daoId = props.daoId ?? \"onboarddao.sputnik-dao.near\";\r\nconst role = props.role ?? \"council\";\r\n\r\nif (!accountId) {\r\n  return \"Please connect your NEAR wallet :)\";\r\n}\r\n\r\nconst handleProposal = () => {\r\n  const gas = 200000000000000;\r\n  const deposit = 100000000000000000000000;\r\n  Near.call([\r\n    {\r\n      contractName: daoId,\r\n      methodName: \"add_proposal\",\r\n      args: {\r\n        proposal: {\r\n          description: \"potential member\",\r\n          kind: {\r\n            AddMemberToRole: {\r\n              member_id: accountId,\r\n              role: role,\r\n            },\r\n          },\r\n        },\r\n      },\r\n      gas: gas,\r\n      deposit: deposit,\r\n    },\r\n  ]);\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  .join-button {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 8px;\r\n    padding: 8px 16px;\r\n    height: 32px;\r\n    border-radius: 100px;\r\n    font-weight: 600;\r\n    font-size: 12px;\r\n    line-height: 15px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    background: #FBFCFD;\r\n    border: 1px solid #D7DBDF;\r\n    color: ${props.primary ? \"#006ADC\" : \"#11181C\"} !important;\r\n    white-space: nowrap;\r\n\r\n    &:hover,\r\n    &:focus {\r\n      background: #ECEDEE;\r\n      text-decoration: none;\r\n      outline: none;\r\n    }\r\n\r\n    i {\r\n      display: inline-block;\r\n      transform: rotate(90deg);\r\n      color: #7E868C;\r\n    }\r\n  }\r\n`;\r\n\r\nreturn (\r\n  <Wrapper>\r\n    <button className=\"join-button mt-2\" onClick={handleProposal}>\r\n      Ask to Join\r\n    </button>\r\n  </Wrapper>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/DAO.Join"}
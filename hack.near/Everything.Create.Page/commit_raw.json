{"tx_hash": "HRwr6f9SmQoqj2bG6PLn1vU2bbMPfxMvSfpES5wW7aoW", "action_id_social": "AHBRNaTibMefEj7wtGZEabf5Q849TP4QVktTX4X7w6v1-0-widget", "block_id": 89524150, "block_timestamp": "2023-04-13 23:56:07.170", "signer_id": "hack.near", "widget_name": "Everything.Create.Page", "source_code": "const ERROR_WIDGET = \"evrything.near/widget/Everything.Error\";\n\nconst Header = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst Title = styled.div`\n    font-size: 24px;\n    line-height: 33.6px;\n`;\n\nconst Form = styled.div`\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n`;\n\nconst Input = styled.input`\n    width: 100%;\n`;\n\nconst TextArea = styled.textarea`\n    width: 100%;\n`;\n\nconst ButtonRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n`;\n\nconst Button = styled.button`\n    padding: 8px 20px;\n    max-width: 90px;\n`;\n\nconst Caption = styled.div`\n    font-size: 12px;\n    line-height: 15.6px;\n    color: #A6A6A6;\n`;\n\nState.init({\n  type: \"\",\n  accountId: \"\",\n  domain: \"\",\n  res: null,\n  loading: false,\n});\n\nconst createThing = () => {\n  State.update({\n    loading: true,\n  });\n  asyncFetch(type.mutations?.create.url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: type.mutations?.create.query,\n      variables: {\n        type: props.type,\n        title: state.title,\n      },\n    }),\n  }).then((res) => {\n    State.update({\n      res: res,\n      loading: false,\n    });\n  });\n};\n\nconst resetThing = () => {\n  State.update({\n    type: \"\",\n    accountId: \"\",\n    domain: \"\",\n    res: null,\n    loading: false,\n  });\n};\n\nreturn (\n  <div>\n    <Widget\n      src=\"contribut3.near/widget/Inputs.Text\"\n      props={{\n        label: \"Type\",\n        placeholder: \"What kind of page?\",\n        value: state.type,\n        onChange: (type) => State.update({ type }),\n      }}\n    />\n    <Widget\n      src=\"contribut3.near/widget/Inputs.AccountId\"\n      props={{\n        label: \"Account ID\",\n        placeholder: \"example.near\",\n        value: state.accountId,\n        onChange: (accountId) => State.update({ accountId }),\n      }}\n    />\n    <Widget\n      src=\"contribut3.near/widget/Inputs.Text\"\n      props={{\n        label: \"Domain\",\n        placeholder: \"ABC\",\n        value: state.domain,\n        onChange: (domain) => State.update({ domain }),\n      }}\n    />\n    <div>\n      <Widget\n        src=\"contribut3.near/widget/Buttons.Green\"\n        props={{\n          onClick: () => {\n            Social.set({\n              thing: {\n                main: JSON.stringify({\n                  type: state.type,\n                  accountId: state.accountId,\n                  domain: state.domain,\n                }),\n              },\n              index: {\n                abc: JSON.stringify({\n                  key: \"main\",\n                  value: {\n                    type: \"hack.near/type/Page\",\n                  },\n                }),\n              },\n            });\n          },\n          text: \"Create Page\",\n        }}\n      />\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/Everything.Create.Page"}
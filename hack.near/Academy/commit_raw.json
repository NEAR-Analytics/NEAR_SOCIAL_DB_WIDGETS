{"tx_hash": "6399LRTioEy2dtNXZF7E1uupKrFLnboapVuHfKFtHDVK", "action_id_social": "9QY5xYNoQ4ukR2q1gYKwS8vpWPMWNQpeBaU8Gtu78uub-0-widget", "block_id": 94630170, "block_timestamp": "2023-06-20T17:35:43.715Z", "signer_id": "hack.near", "widget_name": "Academy", "source_code": "const accountId = props.accountId ?? context.accountId;\nconst daoId = props.daoId ?? \"build.sputnik-dao.near\";\nconst role = props.role ?? \"community\";\n\nState.init({\n  email: \"\",\n  agreeIsChecked: false,\n  hasRegistered: false,\n  isMember,\n});\n\nconst policy = Near.view(daoId, \"get_policy\");\n\nif (policy === null) {\n  return \"\";\n}\n\nconst groups = policy.roles\n  .filter((role) => role.name === \"community\")\n  .map((role) => {\n    const group = role.kind.Group;\n\n    return group;\n  });\n\nconst check = groups.map((group) => {\n  return !group\n    ? false\n    : group.filter((address) => address === accountId).length > 0;\n})?.[0];\n\nconst handleSignup = () => {\n  if (state.email !== \"\") {\n    asyncFetch(\"https://monkfish-app-ginhc.ondigitalocean.app/graphql\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-Everything\": \"subscription\",\n      },\n      body: JSON.stringify({\n        query:\n          \"mutation CreateEmail($email: String) { emails { create(name: $email) { entities { id } } } }\",\n        variables: {\n          email: state.email,\n        },\n      }),\n    }).then((resp) => {\n      // Storage.privateSet()\n      State.update({ hasRegistered: true });\n      State.update({ email: \"\" });\n    });\n  }\n};\n\nconst Wrapper = styled.div`\n  --section-gap: 23px;\n  padding-top: 42px;\n\n  @media (max-width: 1160px) {\n    .line-rounded-corners {\n      display: none !important;\n    }\n  }\n\n  @media (max-width: 900px) {\n    padding-top: 0;\n  }\n`;\n\nconst H1 = styled.h1`\n  font-family: \"FK Grotesk\", sans-serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 90px;\n  line-height: 1;\n  text-align: center;\n  letter-spacing: -0.03em;\n  color: #000;\n  margin: 0;\n  max-width: 700px;\n\n  span {\n    display: inline-block;\n    background: #F0DB4F;\n    border-radius: 20px;\n    position: relative;\n    padding: 0.1em 0.2em 0;\n\n    svg {\n      position: absolute;\n      bottom: -8px;\n      right: -10px;\n      width: 24px;\n    }\n  }\n\n  @media (max-width: 900px) {\n    font-size: 50px;\n\n    span {\n      border-radius: 12px;\n      svg {\n        position: absolute;\n        bottom: -6px;\n        right: -7px;\n        width: 16px;\n      }\n    }\n  }\n`;\n\nconst Text = styled.p`\n  font-family: \"FK Grotesk\", sans-serif;\n  font-size: ${(p) => p.size ?? \"18px\"};\n  line-height: ${(p) => p.lineHeight ?? \"1.5\"};\n  font-weight: ${(p) => p.weight ?? \"400\"};\n  color: ${(p) => p.color ?? \"#000\"};\n  margin: 0;\n`;\n\nconst Flex = styled.div`\n  display: flex;\n  gap: 15px;\n  align-items: center;\n  flex-direction: column;\n  flex-wrap: \"nowrap\";\n\n    @media (max-width: 900px) {\n    flex-direction: column;\n    gap: var(--section-gap);\n    }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  max-width: 1060px;\n  margin: 0 auto;\n  gap: var(--section-gap);\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: var(--section-gap) 24px;\n`;\n\nconst InputContainer = styled.div`\n  width: 320px;\n`;\n\nconst CheckWrapper = styled.div`\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n`;\n\nconst CheckButton = styled.button`\n  border: none;\n  --bs-btn-hover-bg: transparent;\n  --bs-btn-active-bg: transparent;\n  --bs-btn-color: ${state.agreeIsChecked ? \"#26A65A\" : \"black\"};\n  --bs-btn-hover-color: ${state.agreeIsChecked ? \"#26A65A\" : \"var(--bs-blue)\"};\n`;\n\nconst TimelineContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n    margin-top: 23px;\n\n`;\n\nconst TimelineItem = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #ccc;\n`;\n\nconst TimelineText = styled.p`\n  font-size: 16px;\n  margin: 0;\n`;\n\nconst isValidEmail = (value) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(value);\n};\n\nreturn (\n  <Wrapper>\n    <Container>\n      <Flex>\n        <H1>\n          <span>\n            BOS{\" \"}\n            <svg viewBox=\"0 0 26 24\" fill=\"none\" aria-hidden=\"true\">\n              <path\n                d=\"M24.3767 8.06326L1.51965 0.0649912C1.10402 -0.0830767 0.639031 0.026026 0.327308 0.340346C0.0181841 0.657263 -0.0831256 1.12225 0.0701378 1.53788L8.071 23.2519C8.23726 23.7013 8.66587 24 9.14385 24H9.14644C9.62702 24 10.0556 23.6961 10.2167 23.2441L13.734 13.495L24.3325 10.2349C24.8053 10.0895 25.13 9.65824 25.1378 9.16468C25.1482 8.67112 24.8391 8.22691 24.3715 8.06326H24.3767Z\"\n                fill=\"#323330\"\n              />\n            </svg>\n          </span>\n          Academy\n        </H1>\n        <Text style={{ maxWidth: \"670px\" }}>\n          Did you know? The\n          <a href=\"https://nearbuilders.com/bos\">blockchain operating system</a>\n          (BOS) makes it fun and easy to learn programming skills! Join\n          collaborative groups, discover projects, and together, we can build\n          anything with open web components.\n        </Text>\n        <Text size=\"23px\" weight=\"600\">\n          Workshops + Hackathon\n        </Text>\n        <Text\n          size=\"18px\"\n          weight=\"600\"\n          style={{ textTransform: \"uppercase\", letterSpacing: \"0.17em\" }}\n        >\n          <a href=\"https://calendar.google.com/calendar/u/0?cid=Y182NGYxNGNkMDFiMWY0MmU1OGE4MTY2MGYyOGVmOWFkZjE4NjdhMTJlNDJiM2UyZDNhMTc3ODczOTYwYjAyNTcwQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20\">\n            Summer 2023\n          </a>\n        </Text>\n        {!state.hasRegistered && (\n          <InputContainer>\n            <Widget\n              src={\"nearhorizon.near/widget/Inputs.Text\"}\n              props={{\n                label: \"\",\n                placeholder: \"Email\",\n                placeholder: \"Your Email Address\",\n                value: state.email,\n                onChange: (email) => State.update({ email }),\n              }}\n            />\n          </InputContainer>\n        )}\n        {isValidEmail(state.email) && (\n          <div>\n            {!agreeIsChecked ? (\n              <CheckWrapper>\n                <CheckButton\n                  onClick={() => {\n                    State.update({ agreeIsChecked: !state.agreeIsChecked });\n                  }}\n                  className=\"btn\"\n                >\n                  <div className=\"d-flex flex-row align-items-center gap-3\">\n                    <i\n                      className={`bi bi-${\n                        state.agreeIsChecked ? \"check-square\" : \"square\"\n                      }`}\n                      style={{ fontSize: \"1.5rem\" }}\n                    />\n                    <span style={{ textAlign: \"left\" }}>\n                      I would like to receive more info about participating.\n                    </span>\n                  </div>\n                </CheckButton>\n              </CheckWrapper>\n            ) : (\n              \"\"\n            )}\n          </div>\n        )}\n        {!state.hasRegistered && (\n          <div className=\"row\">\n            <button\n              className=\"btn btn-primary\"\n              disabled={!state.agreeIsChecked}\n              onClick={handleSignup}\n            >\n              Register for Updates\n            </button>\n          </div>\n        )}\n        {state.hasRegistered && (\n          <div>\n            {check ? (\n              <Widget\n                src=\"near/widget/DIG.Button\"\n                props={{\n                  href: \"https://wallet.near.org/linkdrop/v2.keypom.near/4japszHTmC37t94Ep47d16DfPWx3A83BMExt26iH4YgnjDtHJGwpXokeZQoxuogKCvagzAF4DN2wW8ePZvwKKCyj\",\n                  label: \"Get Started\",\n                  variant: \"outline-secondary\",\n                  size: \"large\",\n                }}\n              />\n            ) : (\n              <div>\n                <Widget\n                  src=\"near/widget/DIG.Button\"\n                  props={{\n                    href: \"#/academy.near/widget/edu\",\n                    label: \"Get More Info\",\n                    variant: \"outline-secondary\",\n                    size: \"large\",\n                  }}\n                />\n              </div>\n            )}\n          </div>\n        )}\n      </Flex>\n      <Flex>\n        <TimelineContainer>\n          <h5>\n            <b>Course Timeline:</b> Virtual Sessions\n          </h5>\n          <TimelineItem>\n            <TimelineText>\n              <b>June 21:</b>{\" \"}\n              <a href=\"https://zoom.us/webinar/register/WN_X6DN7sShRPy_OGrCL8fEfw\">\n                Create your first BOS app!\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"james.near\"] }}\n            />\n          </div>\n          <TimelineItem>\n            <TimelineText>\n              <b>June 28:</b>\n              <a href=\"https://zoom.us/webinar/register/WN_RagPHBFlQlGx6YS4WEpi3Q\">\n                Smart Contract Interactions\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"alan777.near\"] }}\n            />\n          </div>\n          <TimelineItem>\n            <TimelineText>\n              <b>July 5:</b>\n              <a href=\"https://zoom.us/webinar/register/WN_zXO7b31-TM62J_sxiytAVQ\">\n                Indexers, APIs, and Components\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"microchipgnu.near\"] }}\n            />\n          </div>\n          <TimelineItem>\n            <TimelineText>\n              <b>July 11:</b>\n              <a href=\"https://zoom.us/webinar/register/WN_K0Dq50nGRiiX9fiv3BDINw\">\n                BOS Component Design Patterns\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"manzanal.near\"] }}\n            />\n          </div>\n          <TimelineItem>\n            <TimelineText>\n              <b>July 18:</b>\n              <a href=\"https://zoom.us/webinar/register/WN_URaUqvDqTjaP7NoLOaHACw\">\n                Build Anything with 'Everything'\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"efiz.near\"] }}\n            />\n          </div>\n          <TimelineItem>\n            <TimelineText>\n              <b>July 25:</b>\n              <a href=\"https://zoom.us/webinar/register/WN_8Ba3cAzzS5euv4ck094WvA\">\n                BOS Web Engine + Gateways\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"mattlock.near\"] }}\n            />\n          </div>\n          <TimelineItem>\n            <TimelineText>\n              <b>August 11-27</b>\n              <a href=\"https://nearbuilders.com/boshacks\">\n                Virtual BOS Hackathon\n              </a>\n            </TimelineText>\n          </TimelineItem>\n          <div className=\"row mb-3\">\n            <Widget\n              src=\"miraclx.near/widget/Attribution\"\n              props={{ dep: true, authors: [\"hackerhouse.near\"] }}\n            />\n          </div>\n        </TimelineContainer>\n        <div>\n          <Widget\n            src=\"near/widget/DIG.Button\"\n            props={{\n              href: \"#/academy.near/widget/edu\",\n              label: \"Frequently Asked Questions\",\n              variant: \"outline-secondary\",\n              size: \"large\",\n            }}\n          />\n        </div>\n      </Flex>\n      <br />\n      <Flex>\n        <Text\n          size=\"14px\"\n          weight=\"600\"\n          style={{\n            textTransform: \"uppercase\",\n            letterSpacing: \"0.17em\",\n            textAlign: \"center\",\n          }}\n        >\n          Made Possible by Collaboration\n        </Text>\n        <Widget src=\"hack.near/widget/banyan.logo\" />\n      </Flex>\n    </Container>\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/hack.near/widget/Academy", "__row_index": 2}
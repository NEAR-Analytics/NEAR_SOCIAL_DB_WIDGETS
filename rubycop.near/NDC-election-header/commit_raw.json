{"tx_hash": "GSPK5KzYcHrEp25GYJE3QtsPA6q4WYRrkdRSZTn4Xzy2", "action_id_social": "7KL3LtK5VhjxtCD2LLGRNeUn6F3shvbWrWNi61nHF4gs-0-widget", "block_id": 93992854, "block_timestamp": "2023-06-11T21:42:26.397Z", "signer_id": "rubycop.near", "widget_name": "NDC-election-header", "source_code": "// props\n// {\n//   \"date\": \"June 20, 2023 1:00:00\"\n// }\n\nconst countDownDate = new Date(props.date).getTime();\n\nState.init({\n  hours: \"-\",\n  minutes: \"-\",\n  seconds: \"-\",\n  timerType: \"0\",\n});\n\nconst formatTime = (time) => (time < 10 ? `0${time}` : time);\n\nconst timer = setInterval(() => {\n  const distance = new Date(props.date).getTime() - new Date().getTime();\n\n  const seconds = Math.floor((distance / 1000) % 60);\n  const minutes = Math.floor((distance / 1000 / 60) % 60);\n  const hours = Math.floor(distance / (1000 * 60 * 60));\n\n  State.update({\n    hours: hours,\n    minutes: minutes,\n    seconds: seconds,\n  });\n\n  clearInterval(timer);\n}, 1000);\n\nconst handleChange = (event) =>\n  State.update({\n    timerType: event.target.value,\n  });\n\nconst Logo = styled.img`\n    width: 70px;\n    z-index: 1;\n    border-radius: 50%;\n    margin-right: 30px;\n`;\n\nconst H1 = styled.h1`\n  font-size: 40px;\n  font-weight: 600;\n  margin-bottom: 0;\n`;\n\nconst H6 = styled.h6`\n  font-size: 14px;\n  font-weight: 300;\n  margin-right: 10px;\n  margin-bottom: 0;\n`;\n\nconst Timer = styled.h2`\n  font-size: 44px;\n  font-weight: 300;\n  margin-right: 20px;\n  margin-bottom: 0;\n`;\n\nreturn (\n  <div className=\"p-4 bg-light rounded d-flex flex-wrap justify-content-between align-items-center\">\n    <div className=\"d-flex align-items-center w-50\">\n      <Logo src=\"https://ipfs.near.social/ipfs/bafkreie4rfa63zedwnpbwm5lglqrwqhahcnf6slllqmq7sh46ngf5y4vsq\" />\n      <H1>NDC Elections</H1>\n    </div>\n    <div className=\"d-flex align-items-center w-50\">\n      <H6>\n        Time remaining <br /> in current election\n      </H6>\n      <div className=\"w-50\">\n        <Timer>\n          {[\n            formatTime(state.hours),\n            formatTime(state.minutes),\n            formatTime(state.seconds),\n          ].join(\" : \")}\n        </Timer>\n      </div>\n      <div className=\"w-25\">\n        <select\n          class=\"form-select\"\n          aria-label=\"Default select example\"\n          onChange={handleChange}\n          value={state.timerType}\n        >\n          <option value=\"0\">Congress</option>\n          <option value=\"1\">Time</option>\n        </select>\n      </div>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/NDC-election-header", "__row_index": 1}
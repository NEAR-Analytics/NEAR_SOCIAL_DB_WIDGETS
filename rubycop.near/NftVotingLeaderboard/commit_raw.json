{"tx_hash": "9nAjzL49GMUXD4qzR4ioWWdG2iimd9FoMQQ2LvfZsVBJ", "action_id_social": "FAbTqiypCfXw9RAfyhE4f8L2oZg895WQzo88Ebr1Zm7i-1-widget", "block_id": 82518765, "block_timestamp": "2023-01-09 00:18:56.857", "signer_id": "rubycop.near", "widget_name": "NftVotingLeaderboard", "source_code": "const account_id = props.accountId || context.accountId;\n\nif (!account_id) return \"\";\n\nlet stats = Social.index(\"graph\", \"nft_likes\", { order: \"desc\" });\nstats = stats.map((k) => k.value.nft_likes).sort((b, a) => b.rating - a.rating);\nstats = [...new Map(stats.map((item) => [item.token_id, item])).values()];\n\nreturn (\n  <>\n    <h3>NFT Leaderboard</h3>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">#</th>\n          <th scope=\"col\">Action</th>\n          <th scope=\"col\">Preview</th>\n          <th scope=\"col\">NFT token id</th>\n        </tr>\n      </thead>\n      <tbody>\n        {stats\n          .sort((a, b) => b.rating - a.rating)\n          .map(({ contract_id, token_id, rating }, i) => (\n            <tr className=\"align-middle\" key={i}>\n              <td>{i + 1}</td>\n              <td className=\"text-center\">\n                <Widget\n                  src=\"rubycop.near/widget/NftVotingButton\"\n                  props={{\n                    account_id,\n                    contract_id,\n                    token_id,\n                    rating,\n                  }}\n                />\n              </td>\n              <td>\n                <Widget\n                  key={i}\n                  src={\"mob.near/widget/NftImage\"}\n                  props={{\n                    tokenId: token_id,\n                    contractId: contract_id,\n                    style: {\n                      width: \"5em\",\n                      height: \"5em\",\n                      objectFit: \"cover\",\n                      minWidth: \"5em\",\n                      minHeight: \"5em\",\n                      maxWidth: \"5em\",\n                      maxHeight: \"5em\",\n                      overflowWrap: \"break-word\",\n                    },\n                    className: \"img-thumbnail\",\n                  }}\n                />\n              </td>\n              <td>\n                <a\n                  href={`#mob.near/widget/NftImage?tokenId=${token_id}&contractId=${contract_id}`}\n                >\n                  {contract_id}:{token_id}\n                </a>\n              </td>\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  </>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/rubycop.near/widget/NftVotingLeaderboard", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.component": NaN, "metadata.tags.contesty": NaN, "metadata.tags.leaderboard": NaN, "metadata.tags.nft": NaN, "metadata.tags.widget": NaN}
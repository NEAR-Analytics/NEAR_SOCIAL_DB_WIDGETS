{"tx_hash": "6vrPGXBX68VAgwGcWhBdoP8m71A1Qcz3tBe9LJsZ2vpT", "action_id_social": "CrqZRGVvQERJigMj79BQRMCrfqdpxCChoDesrbNvsYmS-0-widget", "block_id": 88343096, "block_timestamp": "2023-03-29 04:48:34.257", "signer_id": "efiz.near", "widget_name": "Everything.Create.Image", "source_code": "const ERROR_WIDGET = \"evrything.near/widget/Everything.Error\";\n\nconst ButtonRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    gap: 4px;\n`;\n\nconst typeStr = \"evrything.near/type/Image\";\n\nconst type = Type.get(typeStr);\n// const type = props.type;\n\nif (!type) {\n  return (\n    <Widget\n      src={ERROR_WIDGET}\n      props={{\n        message: `provided type: \"${props.type}\" is not valid.`,\n      }}\n    />\n  );\n}\n\nState.init({\n  img: null,\n  url: \"\",\n});\n\nfunction composeData() {\n  const data = {\n    thing: {\n      main: JSON.stringify({ url: state.url }),\n    },\n    index: {\n      tempeverything: JSON.stringify({\n        key: \"main\",\n        value: {\n          type: typeStr,\n        },\n      }),\n    },\n  };\n  return data;\n}\n\nreturn (\n  <div className=\"container row\">\n    <div>\n      Image upload: <br />\n      <IpfsImageUpload image={state.img} />\n    </div>\n    <div>\n      Raw State:\n      <pre>{JSON.stringify(state)}</pre>\n    </div>\n    <div className=\"mt-2\">\n      {state.img.cid && (\n        <img\n          src={`https://ipfs.near.social/ipfs/${state.img.cid}`}\n          alt=\"uploaded\"\n        />\n      )}\n    </div>\n    <input onChange={({ target }) => State.update({ url: target.value })} />\n    <ButtonRow>\n      <CommitButton disabled={state.url === \"\"} force data={composeData}>\n        create\n      </CommitButton>\n    </ButtonRow>\n  </div>\n);\n", "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/Everything.Create.Image", "metadata.image.ipfs_cid": NaN, "metadata": NaN, "metadata.tags.everything-creator": NaN, "branch.draft.": NaN, "branch.draft.metadata": NaN}
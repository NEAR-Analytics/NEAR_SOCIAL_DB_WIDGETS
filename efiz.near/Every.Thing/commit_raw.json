{"tx_hash": "C8n3QfK1MHBNDrr3JH1BfxXRkZP15bfMF7kFtCrw8dNF", "action_id_social": "B3ajeZPJCtUK8iMyDuAbb7asNFcVHuhjzQ3pFCvdgmer-0-widget", "block_id": 92494051, "block_timestamp": "2023-05-23T02:46:07.524Z", "signer_id": "efiz.near", "widget_name": "Every.Thing", "source_code": "const path = props.path;\nconst blockHeight = props.blockHeight || \"final\";\n\n// */thing/**\nconst value = Social.get(\"*/thing/**\", blockHeight);\n\nfunction convertToPaths(obj, parentPath) {\n  parentPath = parentPath || \"\";\n  var paths = [];\n\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var path = parentPath;\n    if (path !== \"\") {\n      path += \"/\";\n    }\n    path += key;\n\n    paths.push(path);\n\n    if (typeof obj[key] === \"object\") {\n      var nestedPaths = convertToPaths(obj[key], path);\n      paths = paths.concat(nestedPaths);\n    }\n  }\n\n  return paths;\n}\n\nconst paths = convertToPaths(value);\n\nconst renderThing = (key) => {\n  console.log(key);\n\n  return (\n    <Widget\n      src=\"efiz.near/widget/Every.Thing.View\"\n      props={{ path: key, blockHeight }}\n    />\n  );\n};\n\n// <Widget src=\"efiz.near/widget/Every.Thing.Create\" />\n// TODO: Infinite Scroll\nreturn (\n  <div>\n    {paths.map((it) => {\n      return <div>{renderThing(it)}</div>;\n    })}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/Every.Thing", "__row_index": 11}
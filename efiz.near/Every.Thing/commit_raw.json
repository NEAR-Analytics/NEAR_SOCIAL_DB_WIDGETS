{"tx_hash": "Cqahcy23FGkLavWzM74EmHnPBVcrm59hJJMw43pVvyv5", "action_id_social": "6m5yG1KwG9CNgvy9E3xFS45uFCohewEbLiwj74KeiRi5-0-widget", "block_id": 92539414, "block_timestamp": "2023-05-23T17:12:52.391Z", "signer_id": "efiz.near", "widget_name": "Every.Thing", "source_code": "const path = props.path || \"*/thing/**\";\nconst blockHeight = props.blockHeight || \"final\";\n\nconst value = Social.get(path, blockHeight);\n\nfunction convertToPaths(obj, parentPath, currentDepth, maxDepth, lengthLimit) {\n  parentPath = parentPath || \"\";\n  var paths = [];\n\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var path = parentPath;\n    if (path !== \"\") {\n      path += \"/\";\n    }\n    path += key;\n\n    if (currentDepth === maxDepth && path.split(\"/\").length === lengthLimit) {\n      paths.push(path);\n    }\n\n    if (currentDepth < maxDepth && typeof obj[key] === \"object\") {\n      var nestedPaths = convertToPaths(\n        obj[key],\n        path,\n        currentDepth + 1,\n        maxDepth,\n        lengthLimit\n      );\n      paths = paths.concat(nestedPaths);\n    }\n  }\n\n  return paths;\n}\nconst parts = path.split(\"/\");\nif (parts[0] !== \"*\") {\n  value = {\n    [parts[0]]: { thing: value },\n  };\n}\nconst paths = convertToPaths(value, \"\", 0, 2, 3);\n\nconst renderThing = (key) => {\n  return (\n    <Widget\n      src=\"efiz.near/widget/Every.Thing.View\"\n      props={{ path: key, blockHeight }}\n    />\n  );\n};\n// TODO: Infinite Scroll\nreturn (\n  <div>\n    {paths.map((it) => {\n      return <div>{renderThing(it)}</div>;\n    })}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/Every.Thing", "__row_index": 15}
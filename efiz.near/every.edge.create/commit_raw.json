{"tx_hash": "3BmbbGCedPqB3zzvdweo7MdpGoztrMqg4NkPqu5qMJgP", "action_id_social": "G7JSiyo1K6d8fmcqsW3ZwPnYFjaGoPntcMvmDtCwWtzE-0-widget", "block_id": 95192436, "block_timestamp": "2023-06-28T01:40:58.849Z", "signer_id": "efiz.near", "widget_name": "every.edge.create", "source_code": "const path = props.path;\nconst blockHeight = props.blockHeight;\n\nconst thing = JSON.parse(Social.get(path, blockHeight) || \"null\");\n\nif (!thing) {\n  return <></>;\n}\n\nconst Container = styled.div`\n  display: flex;\n    flex-direction: column;\n  align-items: center;\n`;\n\nconst Input = styled.input`\n  width: 300px;\n  padding: 8px;\n`;\n\nconst Button = styled.button`\n`;\n\nconst Row = styled.div`\n    display: flex;\n    flex-direction: row;\n`;\n\nfunction composeData() {\n  const newThing = JSON.parse(Social.get(state.newPath, blockHeight) || \"null\");\n  if (!newThing) {\n    State.update({\n      errorMessage: `thing at path: \"${state.newPath}\" does not exist`,\n    });\n    return null;\n  }\n\n  const edges = [];\n  edges.push({\n    key: path,\n    value: {\n      type: newThing.type,\n      path: state.newPath,\n    },\n  });\n  edges.push({\n    key: state.newPath,\n    value: {\n      type: thing.type,\n      path: path,\n    },\n  });\n  return {\n    index: {\n      edge: JSON.stringify(edges),\n    },\n  };\n}\n\nreturn (\n  <Container>\n    <Row>\n      <p style={{ color: \"red\" }}>{state.errorMessage}</p>\n    </Row>\n    <Row>\n      <Input\n        onChange={(e) => State.update({ newPath: e.target.value })}\n        value={state.value}\n        placeholder=\"thing path\"\n      />\n      <CommitButton\n        className=\"styless\"\n        style={{ textTransform: \"lowercase !important\", padding: \"8px\" }}\n        data={composeData}\n      >\n        create\n      </CommitButton>\n    </Row>\n  </Container>\n);\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.edge.create", "__row_index": 1}
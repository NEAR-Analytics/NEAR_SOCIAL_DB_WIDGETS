{"tx_hash": "7pucvQkT2R19tL77e7Zvwz632RKeDBhEYNbUF8zSJiyU", "action_id_social": "Dw2fSmeQVZd8sKN24SMvnp3KDPfSGFu239DYzpReGTER-0-widget", "block_id": 90024156, "block_timestamp": "2023-04-20 14:40:14.109", "signer_id": "efiz.near", "widget_name": "Posts.Feed", "source_code": "/**\n * Forked from near/widget/Posts.Feed\n *\n */\n\nconst bucket = props.bucket; // this should come from type\nconst domain = props.domain;\nconst hashtags = props.hashtags || [];\n\nif (!domain) {\n  return <p>no domain provided</p>;\n}\n\nlet index = [];\n\nif (hashtags && hashtags.length > 0) {\n  // either grab all posts matching this hashtag\n  // and filter them out in \"renderItem\"\n  index = hashtags.map((it) => ({\n    action: \"hashtag\",\n    key: it.toLowerCase(),\n    options: {\n      limit: 10,\n      order: \"desc\",\n      accountId: props.accounts,\n    },\n  }));\n} else {\n  // or only look at this domain\n  index.push({\n    action: domain,\n    key: \"main\",\n    options: {\n      limit: 10,\n      order: \"desc\",\n      accountId: props.accounts,\n    },\n  });\n  // option to include all posts\n  if (domain !== bucket) {\n    index.push({\n      action: domain,\n      key: \"main\",\n      options: {\n        limit: 10,\n        order: \"desc\",\n        accountId: props.accounts,\n      },\n    });\n  }\n}\n\nconst Post = styled.div`\n  border-bottom: 1px solid #eceef0;\n  padding: 24px 0 12px;\n\n  @media (max-width: 1200px) {\n    padding: 12px 0 0;\n  }\n`;\n\nconst renderItem = (a) => {\n  if (domain !== bucket) {\n    return (\n      (a.value.type === \"md\" && (\n        <Post className=\"post\" key={JSON.stringify(a)}>\n          <Widget\n            src=\"near/widget/Posts.Post\"\n            props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n          />\n        </Post>\n      )) || // check for hashtags\n      (a.value.type === \"social\" &&\n        `${a.accountId}/${domain}/main` === a.value.path && (\n          <div key={JSON.stringify(a)} className=\"mb-3\">\n            <Widget\n              src=\"mob.near/widget/MainPage.Post\"\n              props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n            />\n          </div>\n        )) ||\n      (a.value.type === \"social\" &&\n        `${a.accountId}/${domain}/comment` === a.value.path && (\n          <div key={JSON.stringify(a)} className=\"mb-3\">\n            <Widget\n              src=\"mob.near/widget/MainPage.Comment.Post\"\n              props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n            />\n          </div>\n        ))\n    );\n  } else {\n    return (\n      (a.value.type === \"md\" && (\n        <Post className=\"post\" key={JSON.stringify(a)}>\n          <Widget\n            src=\"near/widget/Posts.Post\"\n            props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n          />\n        </Post>\n      )) || // check for hashtags\n      (a.value.type === \"social\" &&\n        `${a.accountId}/post/main` === a.value.path && (\n          <div key={JSON.stringify(a)} className=\"mb-3\">\n            <Widget\n              src=\"mob.near/widget/MainPage.Post\"\n              props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n            />\n          </div>\n        )) ||\n      (a.value.type === \"social\" &&\n        `${a.accountId}/post/comment` === a.value.path && (\n          <div key={JSON.stringify(a)} className=\"mb-3\">\n            <Widget\n              src=\"mob.near/widget/MainPage.Comment.Post\"\n              props={{ accountId: a.accountId, blockHeight: a.blockHeight }}\n            />\n          </div>\n        ))\n    );\n  }\n};\n\nreturn (\n  <Widget src=\"mob.near/widget/MergedIndexFeed\" props={{ index, renderItem }} />\n);\n", "metadata": null, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/Posts.Feed", "branch.draft.": NaN, "branch.draft.metadata": NaN, "branch.draft": NaN}
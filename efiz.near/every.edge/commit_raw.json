{"tx_hash": "As8DTtj5cW6vjzu4WeogvNMe1BeyMrYiUn9WXgsmnYK1", "action_id_social": "9MQQKPoGuEUDpRJ46EjUJrPJxKZ6eNfjwbpymE1bQUmv-0-widget", "block_id": 95206952, "block_timestamp": "2023-06-28T06:12:19.565Z", "signer_id": "efiz.near", "widget_name": "every.edge", "source_code": "const Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n  gap: 8px;\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 8px;\n`;\n\nconst IconLabelButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px;\n`;\n\nconst Title = styled.h2`\n    margin: 8px;\n`;\n\nconst path = props.path;\nconst blockHeight = props.blockHeight;\n\nconst edges = Social.index(\"edge\", path);\n\nif (!edges) {\n  return <></>;\n}\n\nState.init({\n  view: \"VIEW\",\n});\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n\n  @media (hover: none) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n  padding: 20px;\n`;\n\nfunction Content() {\n  switch (state.view) {\n    case \"VIEW\": {\n      return (\n        <Grid>\n          {edges?.map((it) => {\n            return (\n              <Widget\n                src=\"efiz.near/widget/every.edge.view\"\n                props={{ path: it.value.path, blockHeight }}\n              />\n            );\n          })}\n        </Grid>\n      );\n    }\n    case \"BUILD\": {\n      return (\n        <Widget\n          src=\"efiz.near/widget/every.thing.build\"\n          props={{ path, blockHeight }}\n        />\n      );\n    }\n    case \"CONNECT\": {\n      return (\n        <Widget\n          src=\"efiz.near/widget/every.edge.create\"\n          props={{ path, blockHeight }}\n        />\n      );\n    }\n  }\n}\n\nreturn (\n  <>\n    <Header>\n      <Title>edges</Title>\n      <ButtonRow>\n        {state.view !== \"VIEW\" ? (\n          <IconLabelButton onClick={() => State.update({ view: \"VIEW\" })}>\n            <i class=\"bi bi-eye\"></i>\n            <span>view</span>\n          </IconLabelButton>\n        ) : null}\n        <IconLabelButton onClick={() => State.update({ view: \"CONNECT\" })}>\n          <i class=\"bi bi-link\"></i>\n          <span>connect</span>\n        </IconLabelButton>\n      </ButtonRow>\n    </Header>\n    <Content />\n  </>\n);\n\n// <IconLabelButton onClick={() => State.update({ view: \"BUILD\" })}>\n//           <i class=\"bi bi-hammer\"></i>\n//           <span>build</span>\n//         </IconLabelButton>\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.edge", "__row_index": 0}
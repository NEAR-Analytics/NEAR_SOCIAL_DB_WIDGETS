{"tx_hash": "xoNeNdeW2rYcgQEQEo29yWX5Et744em3XpjE5wLY8YE", "action_id_social": "EsSCtyyqHMmmMpfn8YLdMDdXh9ucsnCKdfKVQTSBVMTh-0-widget", "block_id": 94639462, "block_timestamp": "2023-06-20T20:29:33.099Z", "signer_id": "efiz.near", "widget_name": "every.array.build", "source_code": "const item = props.item;\nconst onChange = props.onChange;\n\nconst Input = styled.input`\n`;\n\nconst Button = styled.button`\n`;\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 4px;\n`;\n\nState.init({\n  inputValues: item.value,\n  newInputValue: \"\",\n});\n\nconst handleInputChange = (index, value) => {\n  const newInputValues = [...state.inputValues];\n  newInputValues[index] = value;\n  State.update({ inputValues: newInputValues });\n};\n\nconst handleAddClick = () => {\n  const newInputValues = [...state.inputValues, state.newInputValue];\n\n  State.update({\n    inputValues: newInputValues,\n    newInputValue: \"\",\n  });\n\n  if (onChange) {\n    onChange(newInputValues);\n  }\n};\n\nconst handleDeleteClick = (index) => {\n  const newInputValues = [...state.inputValues];\n  newInputValues.splice(index, 1);\n  State.update({ inputValues: newInputValues });\n  if (onChange) {\n    onChange(newInputValues);\n  }\n};\n\nreturn (\n  <Container>\n    {state.inputValues?.map((inputValue, index) => {\n      <Row key={index}>\n        <Widget\n          src=\"efiz.near/widget/create\"\n          props={{\n            item: {\n              type: item.type,\n              value: inputValue,\n            },\n            onChange: (e) => handleInputChange(index, e.target.value),\n          }}\n        />\n        <Button onClick={() => handleDeleteClick(index)}>Delete</Button>\n      </Row>;\n    })}\n  </Container>\n);\n// <p>{JSON.stringify(state)}</p>\n\n// <Row>\n//       <Widget\n//         src=\"efiz.near/widget/create\"\n//         props={{\n//           item: {\n//             type: item.type,\n//             value: state.newInputValue,\n//           },\n//           onChange: (e) => State.update({ newInputValue: e.target.value }), // How do I handle nested?\n//         }}\n//       />\n//       <Button onClick={handleAddClick}>Add</Button>\n//     </Row>\n//  disabled={state.newInputValue} // Check that full state is good\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.array.build", "__row_index": 2}
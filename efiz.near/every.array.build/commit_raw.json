{"tx_hash": "BMbDda3EMgq9NTMvkqEGDoUwdzDmv1au7Ze96KNer57D", "action_id_social": "B2fFq7WpY6ks7XBofm2yayq8zBREzyuMNCnQVXSETfqb-0-widget", "block_id": 94635351, "block_timestamp": "2023-06-20T19:13:10.724Z", "signer_id": "efiz.near", "widget_name": "every.array.build", "source_code": "const item = props.item;\nconst onChange = props.onChange;\n\nconst Input = styled.input`\n`;\n\nconst Button = styled.button`\n`;\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 4px;\n`;\n\nState.init({\n  inputValues: [],\n  newInputValue: \"\",\n});\n\nconst handleInputChange = (index, value) => {\n  const newInputValues = [...state.inputValues];\n  newInputValues[index] = value;\n  State.update({ inputValues: newInputValues });\n};\n\nconst handleAddClick = () => {\n  if (state.newInputValue.trim() === \"\") return;\n\n  const newInputValues = [...state.inputValues, state.newInputValue];\n\n  State.update({\n    inputValues: newInputValues,\n    newInputValue: \"\",\n  });\n\n  if (onChange) {\n    onChange(newInputValues);\n  }\n};\n\nconst handleDeleteClick = (index) => {\n  const newInputValues = [...state.inputValues];\n  newInputValues.splice(index, 1);\n  State.update({ inputValues: newInputValues });\n  if (onChange) {\n    onChange(newInputValues);\n  }\n};\n\nreturn (\n  <Container>\n    {state.inputValues?.map((inputValue, index) => (\n      <Row key={index}>\n        <Widget\n          src=\"efiz.near/widget/create\"\n          props={{\n            type: item.type,\n            onChange: (e) => handleInputChange(index, e.target.value),\n          }}\n        />\n        <Button onClick={() => handleDeleteClick(index)}>Delete</Button>\n      </Row>\n    ))}\n    <Row>\n      <Widget\n        src=\"efiz.near/widget/create\"\n        props={{\n          type: item.type,\n          onChange: (e) => State.update({ newInputValue: e.target.value }),\n        }}\n      />\n      <Button\n        onClick={handleAddClick}\n        disabled={state.newInputValue.trim() === \"\"}\n      >\n        Add\n      </Button>\n    </Row>\n    <p>{JSON.stringify(state)}</p>\n  </Container>\n);\n\n//   <Input\n\n//     onChange={(e) => handleInputChange(index, e.target.value)}\n//     value={inputValue}\n//     placeholder={item.name}\n//   />\n//   <Input\n//   type=\"text\"\n//   placeholder=\"\"\n//   value={state.newInputValue}\n//   onChange={(e) => State.update({ newInputValue: e.target.value })}\n// />\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.array.build", "__row_index": 3}
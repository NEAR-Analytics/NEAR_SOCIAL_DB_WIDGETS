{"tx_hash": "GteNaJYyfLbWwxkpnbX7Cgci7iVqR1QYFozhKPATtwzG", "action_id_social": "5RLyo6PLomnEjMw39wVMxUdWcdQmMUgatB8hedcpFVdG-0-widget", "block_id": 94637238, "block_timestamp": "2023-06-20T19:47:58.292Z", "signer_id": "efiz.near", "widget_name": "every.array.build", "source_code": "const item = props.item;\nconst onChange = props.onChange;\n\nconst Input = styled.input`\n`;\n\nconst Button = styled.button`\n`;\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 4px;\n`;\n\nState.init({\n  inputValues: [],\n  newInputValue: \"\",\n});\n\nconst handleInputChange = (index, value) => {\n  const newInputValues = [...state.inputValues];\n  newInputValues[index] = value;\n  State.update({ inputValues: newInputValues });\n};\n\nconst handleAddClick = () => {\n  if (state.newInputValue.trim() === \"\") return;\n\n  const newInputValues = [...state.inputValues, state.newInputValue];\n\n  State.update({\n    inputValues: newInputValues,\n    newInputValue: \"\",\n  });\n\n  if (onChange) {\n    onChange(newInputValues);\n  }\n};\n\nconst handleDeleteClick = (index) => {\n  const newInputValues = [...state.inputValues];\n  newInputValues.splice(index, 1);\n  State.update({ inputValues: newInputValues });\n  if (onChange) {\n    onChange(newInputValues);\n  }\n};\n\nconst handleInputChange = (name, value) => {\n  State.update({ [name]: value });\n  if (props.onChange) {\n    props.onChange({ [name]: value });\n  }\n};\n\nreturn (\n  <Container>\n    {state.inputValues?.map((inputValue, index) => (\n      <Row key={index}>\n        <Widget\n          src=\"efiz.near/widget/create\"\n          props={{\n            item: {\n              type: item.type,\n              value: inputValue,\n            },\n            onChange: (e) => handleInputChange(index, e.target.value),\n          }}\n        />\n        <Button onClick={() => handleDeleteClick(index)}>Delete</Button>\n      </Row>\n    ))}\n    <Row>\n      <Widget\n        src=\"efiz.near/widget/create\"\n        props={{\n          item: {\n            type: item.type,\n            value: state.newInputValue,\n          },\n          onChange: handleInputChange, // How do I handle nested?\n        }}\n      />\n      <Button onClick={handleAddClick}>Add</Button>\n    </Row>\n    <p>{JSON.stringify(state)}</p>\n  </Container>\n);\n\n// disabled={state.newInputValue.trim() === \"\"} // Check that full state is good\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.array.build", "__row_index": 8}
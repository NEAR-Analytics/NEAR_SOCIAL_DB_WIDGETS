{"tx_hash": "8Xo3twyunXotFcmRnCBXw6E4BcT8xdZPxXzLzf1coFR4", "action_id_social": "E9GtPcYYptNptX6BG3epkZpUc98GXkdTy1yJqvitxjW7-0-widget", "block_id": 95164556, "block_timestamp": "2023-06-27T16:59:10.645Z", "signer_id": "efiz.near", "widget_name": "every.thing.edit", "source_code": "const path = props.path;\nconst blockHeight = props.blockHeight;\n\nfunction handleSubmit(val) {\n  const parts = path.split(\"/\");\n  const creatorId = parts[0];\n  parts.shift(); // Remove the first element\n  const newData = {\n    [parts[0]]: {\n      [parts[1]]: val.replace(/\\n/g, \"\"),\n    },\n  };\n  if (context.accountId === creatorId) {\n    Social.set(newData, {\n      force: true,\n    });\n  }\n}\n\nconst thing = JSON.parse(Social.get(path, blockHeight) || \"null\");\n\nif (thing) {\n  return (\n    <Widget\n      src=\"efiz.near/widget/Every.Raw.Edit\"\n      props={{ value: thing, handleSubmit: handleSubmit }}\n    />\n  );\n} else {\n  return <p>thing not found</p>;\n}\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/every.thing.edit", "__row_index": 1}
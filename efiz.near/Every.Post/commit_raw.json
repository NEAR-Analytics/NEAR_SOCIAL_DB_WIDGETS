{"tx_hash": "C1SgmmqCVUFUszGRHKRMLrsywfE7yL8bDtwwssaf2UUR", "action_id_social": "9MYNEqF9zLyQp7ZK1H9hdDUW8PYDph7r7BdLCKAALdfa-0-widget", "block_id": 92549671, "block_timestamp": "2023-05-23T20:27:11.581Z", "signer_id": "efiz.near", "widget_name": "Every.Post", "source_code": "let index = [];\nconst typeWhitelist = [\n  \"md\",\n  \"efiz.near/type/paragraph\",\n  \"efiz.near/type/Image\",\n  \"efiz.near/type/document\",\n];\nconst accountFilter =\n  (props.accountFilter && [props.accountFilter]) || undefined;\n// const hashtagFilter = [\"VNArtistsDAO\"];\n\nconst key = \"\"; // this could dictate the version... maybe it's the path? efiz.near/thing/1234\n\nif (hashtagFilter.length) {\n  index = hashtagFilter.map((it) => ({\n    action: \"hashtag\",\n    key: it.toLowerCase(),\n    options: {\n      limit: 10,\n      order: \"desc\",\n      accountId: accountFilter,\n    },\n  }));\n} else {\n  index = {\n    action: \"post\",\n    key: \"main\",\n    options: {\n      limit: 10,\n      order: \"desc\",\n      accountId: accountFilter,\n    },\n  };\n}\n\nconst Post = styled.div`\n  border-bottom: 1px solid #eceef0;\n  padding: 24px 0 12px;\n\n  @media (max-width: 1200px) {\n    padding: 12px 0 0;\n  }\n`;\n\nconst renderItem = (a) => {\n  let type = a.value.type;\n\n  // return <div>{JSON.stringify(a)}</div>;\n\n  if (typeWhitelist.includes(a.value.type)) {\n    return (\n      <Post className=\"post\" key={JSON.stringify(a)}>\n        <Widget\n          src=\"efiz.near/widget/Every.Post.View\"\n          props={{\n            accountId: a.accountId,\n            blockHeight: a.blockHeight,\n            type: a.value.type,\n          }}\n        />\n      </Post>\n    );\n  }\n};\n\nreturn (\n  <Widget src=\"mob.near/widget/MergedIndexFeed\" props={{ index, renderItem }} />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/efiz.near/widget/Every.Post", "__row_index": 2}
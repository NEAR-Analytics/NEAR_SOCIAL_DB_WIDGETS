{"tx_hash": "FcPGVmfxkmQRPTpnNRBSJdEU5W7cBGgxn9aCyBf8551b", "action_id_social": "3hPmHVfPAfGy5wQbQXrApuY5FSpPPEJ7qy7yEMU8ECMn-0-widget", "block_id": 80719295, "block_timestamp": "2022-12-15 17:22:54.056", "signer_id": "serhii.near", "widget_name": "BookTile", "source_code": "const book = props.book ?? {};\n\nconst title = book.title ?? \"No title\";\nconst author = book.author ?? \"No author\";\nconst cover = book.cover ?? \"\";\nconst rating = book.rating ?? 0;\nconst id = book.id ?? 0;\n\n//TODO: delete\nconsole.log(\"Rendering Book:\", id, title, book);\n\nconst showAddToRead = props.showAddToRead ?? false;\nconst showAddToWantToRead = props.showAddToWantToRead ?? false;\n\n// TODO: why do we need index here?\nconst dataForRead = {\n  books: { read: { [id]: book } },\n  index: {\n    books: JSON.stringify({\n      key: \"read\",\n      value: {\n        book,\n      },\n    }),\n  },\n};\n\nconst datarForToRead = {\n  books: { toRead: { [id]: book } },\n  index: {\n    books: JSON.stringify({\n      key: \"toRead\",\n      value: {\n        book,\n      },\n    }),\n  },\n};\n\nconst BookTyle = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: left;\n  padding: 10px;\n  margin: 10px;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  width: \"100%\";\n  height: \"100%\";\n`;\n\nconst BookTitle = styled.p`\n  margin-top: 10px;\n  font-size: 15px;\n  font-weight: bold;\n  text-align: left;\n`;\n\nconst BookAuthors = styled.p`\n  margin: 5px 0;\n  font-size: 14px;\n  text-align: left;\n`;\n\nconst BookRating = styled.p`\n  margin-bottom: 10px;\n  font-size: 14px;\n  font-weight: bold;\n  color: #3c763d;\n`;\n\nreturn (\n  <BookTyle>\n    <a\n      href={`#/serhii.near/widget/BookPage?id=${id}`}\n      className=\"text-decoration-none link-dark\"\n    >\n      <Widget\n        src=\"serhii.near/widget/BookCover\"\n        props={{\n          book,\n        }}\n      />\n    </a>\n    <div>\n      <a\n        href={`#/serhii.near/widget/BookPage?id=${id}`}\n        className=\"text-decoration-none link-dark\"\n      >\n        <div>\n          <BookTitle className=\"BookTitle\">{title}</BookTitle>\n          <BookAuthors className=\"BookAuthors\">{author}</BookAuthors>\n          <BookRating className=\"BookRating\">{rating}</BookRating>\n        </div>\n      </a>\n\n      <div>\n        {showAddToRead && (\n          <CommitButton data={dataForRead}>Add to Read</CommitButton>\n        )}\n        {showAddToWantToRead && (\n          <CommitButton data={datarForToRead}>Want To Read</CommitButton>\n        )}\n      </div>\n    </div>\n  </BookTyle>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/serhii.near/widget/BookTile"}
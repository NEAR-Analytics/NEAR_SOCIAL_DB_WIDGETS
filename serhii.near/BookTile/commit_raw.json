{"tx_hash": "DPFaMaxXmvHdyb8TbZc2HfXwVRLt26zJea9XRZM4j9LL", "action_id_social": "7yprAsWRnMQc9GzMKxnJe9WY16dLDb5RpvPTMZfAD6fK-0-widget", "block_id": 81380996, "block_timestamp": "2022-12-24 20:01:48.373", "signer_id": "serhii.near", "widget_name": "BookTile", "source_code": "const book = props.book ?? {};\n\nconst title = book.title ?? \"No title\";\nconst author = book.author ?? \"No author\";\nconst cover = book.cover ?? \"\";\nconst rating = book.rating ?? 0;\nconst id = book.id ?? 0;\n\nconst showAddToRead = props.showAddToRead ?? false;\nconst showAddToWantToRead = props.showAddToWantToRead ?? false;\n\n// TODO: why do we need index here?\nconst dataForRead = {\n  books: { read: { [id]: book } },\n  index: {\n    books: JSON.stringify({\n      key: \"read\",\n      value: {\n        book,\n      },\n    }),\n  },\n};\n\nconst datarForToRead = {\n  books: { toRead: { [id]: book } },\n  index: {\n    books: JSON.stringify({\n      key: \"toRead\",\n      value: {\n        book,\n      },\n    }),\n  },\n};\n\nconst BookTyle = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: left;\n  padding: 10px;\n  margin: 10px;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  width: \"100%\";\n  height: \"100%\";\n`;\n\nconst BookTitle = styled.p`\n  margin: 10px;\n  font-size: 15px;\n  font-weight: bold;\n  text-align: left;\n`;\n\nconst BookAuthors = styled.p`\n  margin: 10px;\n  font-size: 14px;\n  text-align: left;\n`;\n\nconst BookRating = styled.p`\n  margin: 10px;\n  font-size: 14px;\n  font-weight: bold;\n  color: #3c763d;\n`;\n\nconst ButtonsBox = styled.p`\n  margin: 10px;  \n`;\n\nconst InfoContaier = styled.p`\n  height: '100%';\n  display: 'flex';\n  flexDirection: 'column';\n  alignItems: 'stretch',\n  justifyContent: 'space-between';\n`;\n\nreturn (\n  <BookTyle>\n    <Widget\n      src=\"serhii.near/widget/BookCover\"\n      props={{\n        book,\n      }}\n    />\n    <InfoContaier>\n      <div>\n        <BookTitle className=\"BookTitle\">{title}</BookTitle>\n        <BookAuthors className=\"BookAuthors\">{author}</BookAuthors>\n        <BookRating className=\"BookRating\">{rating}</BookRating>\n      </div>\n      <ButtonsBox>\n        {showAddToRead && (\n          <CommitButton data={dataForRead}>Add to Read</CommitButton>\n        )}\n        {showAddToWantToRead && (\n          <CommitButton data={datarForToRead}>Want To Read</CommitButton>\n        )}\n      </ButtonsBox>\n    </InfoContaier>\n  </BookTyle>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/serhii.near/widget/BookTile"}
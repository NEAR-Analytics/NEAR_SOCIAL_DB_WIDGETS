{"tx_hash": "EZyMrtFcafXGZ2Uh6UzpmmULvjio7RQqA4Hg4cihJGKr", "action_id_social": "H9vaXjRL5cK2gHGGyNRWqSqcG6DxyPApWna1JtS1Ttc-0-widget", "block_id": 80712670, "block_timestamp": "2022-12-15 15:10:56.092", "signer_id": "serhii.near", "widget_name": "BooksFeed", "source_code": "const accountId = context.accountId;\n\nif (!accountId) {\n  return \"\";\n}\n\nconst peopleIFollow = Social.get(`${accountId}/graph/follow/**`) ?? {};\n\nif (!peopleIFollow) {\n  return \"You are not following anybody\";\n}\n\nconst peopleIFollowWithBooks = {};\nObject.keys(peopleIFollow).map((follow) => {\n  const followBooks = Social.get(`${follow}/books/read/**`);\n  if (followBooks) {\n    peopleIFollowWithBooks[follow] = followBooks;\n  }\n});\n\nconsole.log(\"followBooks\", peopleIFollowWithBooks);\n\nif (!peopleIFollowWithBooks) {\n  return \"Your friend dos not have any books\";\n}\n\nreturn (\n  <div>\n    <div className=\"d-flex gap-1 flex-wrap\">\n      {Object.entries(peopleIFollowWithBooks).map(([acc, books]) => {\n        return (\n          <div>\n            <div className=\"d-flex gap-1 flex-wrap\">{acc}</div>\n            <div className=\"d-flex gap-1 flex-wrap\">\n              {Object.values(books).map((book) => (\n                <Widget\n                  key={i}\n                  src={\"serhii.near/widget/BookTile\"}\n                  props={{ book }}\n                />\n              ))}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/serhii.near/widget/BooksFeed"}
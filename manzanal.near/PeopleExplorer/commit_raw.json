{"tx_hash": "6h2t1tcieek2SAZJEjokCJDRruPVmSUKxepJ62tinwTK", "action_id_social": "8Sp4dKeQDJtHfyYBszXQmAquhzGtyjGZA2FVsbdTiDb4-0-widget", "block_id": 86785920, "block_timestamp": "2023-03-07 21:29:55.946", "signer_id": "manzanal.near", "widget_name": "PeopleExplorer", "source_code": "const queries = props.predefinedQueries;\nconst defaultPath = props.defaultPath;\nconst resultState = props.resultState;\nconst debug = props.debug || false;\nState.init({\n  path: defaultPath,\n});\n\nconst value = Social.get(state.path, \"final\");\nState.update({ [resultState]: value ? Object.keys(value) : [] });\n\nconst allPeople = [];\n\nfor (let i = 0; i < state[resultState].length; ++i) {\n  const accountId = state[resultState][i];\n\n  allPeople.push(\n    <a\n      href={`#/mob.near/widget/ProfilePage?accountId=${accountId}`}\n      className=\"text-decoration-none\"\n      key={`people_${i}`}\n    >\n      <Widget\n        src=\"mob.near/widget/ProfileImage\"\n        props={{\n          accountId,\n          tooltip: true,\n          className: \"d-inline-block overflow-hidden\",\n        }}\n      />\n    </a>\n  );\n}\n\nreturn (\n  <div>\n    <div class=\"mb-2\">\n      <input\n        type=\"text\"\n        value={state.path}\n        placeholder={\"*/widget/*/metadata/tags/app\"}\n      />\n    </div>\n    <div class=\"d-flex flex-wrap flex-row mb-2\">\n      <div class=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Generated queries\">\n        {queries &&\n          queries.length &&\n          queries.map((q, i) => {\n            return (\n              <button\n                type=\"button\"\n                key={`query_${i}`}\n                class=\"btn btn-primary btn-sm mr-2\"\n                onClick={() => {\n                  State.update({ path: q.query });\n                }}\n              >\n                {q.name}\n              </button>\n            );\n          })}\n      </div>\n      <div>{debug && allPeople}</div>\n    </div>\n  </div>\n);\n", "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/manzanal.near/widget/PeopleExplorer", "metadata.description": "### Search for people that match a given path pattern (aka query).\nIn order to get related accounts, the query should start with \"*/\" prefix, meaning will fetch all [account_id] that match the following pattern.\nQuery example:\n\"Get all accounts that created at least a widget\" -> \"*/widget/*\"\n\n**Return result**\nAs a dev component that will be used within a parent widget, a **state** key name should be provided through props.resultState.\n\n**Props:**\n*  resultState: (required) see above \n*  debug: (optional) default false - if true will display people profile that match path pattern\n* predefinedQueries:  (optional) : [{name,query}] array with ready to use predefined queries. It will be renderized as button below query input\n    example: `[{\n      \"name\": \"Widget Builders\",\n      \"query\": \"*/widget/*\"\n    },\n    {\n      \"name\": \"Feature Builders\",\n      \"query\": \"*/widget/*/metadata/tags/app\"\n    }\n  ]`\n", "metadata.name": "Advanced People Explorer", "metadata.tags.dev": "", "metadata.tags.explorer": "", "metadata.tags.inline": "", "metadata.tags.search": ""}
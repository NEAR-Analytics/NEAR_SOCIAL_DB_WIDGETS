{"tx_hash": "9Q9Zf9tXjd9XUpQofRfAhNA8AbEEfaZHhfkMcW9MuZxf", "action_id_social": "AGkbjVUSmozLywkBBQjBzPA1yv6Q9co2iZhLVk3di7PV-1-widget", "block_id": 84695396, "block_timestamp": "2023-02-07 12:26:10.875", "signer_id": "manzanal.near", "widget_name": "UserVotingDashComponent", "source_code": "const CONTRACT_ID = \"meta-vote.near\";\nconst GET_VP_METHOD = \"get_available_voting_power\";\nconst GET_IN_USE_VP_METHOD = \"get_used_voting_power\";\n\nconst YoctoToNear = (amountYocto) =>\n  new Big(amountYocto).div(new Big(10).pow(24)).toFixed(2);\n\nconst getVotingPowerBalance = () => {\n  const balanceYocto = Near.view(CONTRACT_ID, GET_VP_METHOD, {\n    voter_id: context.accountId,\n  });\n  return YoctoToNear(balanceYocto);\n};\n\nconst getInUseVotingPower = () => {\n  const inUserVotingPower = Near.view(CONTRACT_ID, GET_IN_USE_VP_METHOD, {\n    voter_id: context.accountId,\n  });\n  return YoctoToNear(inUserVotingPower);\n};\n\nlet data = {\n  available: getVotingPowerBalance(),\n  inUse: getInUseVotingPower(),\n};\n\nreturn (\n  <div className=\"text-bg-light rounded-2 p-1\">\n    {data !== null ? (\n      <p>\n        <div class=\"d-flex justify-content-around clearfix\">\n          <div class=\"p-1\">\n            <div>AVAILABLE VOTING POWER</div>\n            <h2 class=\"text-success\">{data.available}</h2>\n          </div>\n          <div class=\"p-1\">\n            <div>IN USE VOTING POWER</div>\n            <h2 class=\"text-danger\">{data.inUse}</h2>\n          </div>\n        </div>\n      </p>\n    ) : (\n      <div>Loading ...</div>\n    )}\n  </div>\n);\n", "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/manzanal.near/widget/UserVotingDashComponent", "metadata.tags.component": "", "metadata.tags.inline": "", "metadata": NaN}
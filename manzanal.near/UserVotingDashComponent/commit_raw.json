{"tx_hash": "61JXiCFfz7aCbDewfB8f6HzKAW6XqEuPeyDxsMbmrPuU", "action_id_social": "D2iBs4geuGqXyVSxAhoVqmUpaVQSh6D61ny3tdWgLp8j-0-widget", "block_id": 84771101, "block_timestamp": "2023-02-08 14:04:01.871", "signer_id": "manzanal.near", "widget_name": "UserVotingDashComponent", "source_code": "const CONTRACT_ID = \"meta-vote.near\";\nconst GET_VP_METHOD = \"get_available_voting_power\";\nconst GET_IN_USE_VP_METHOD = \"get_used_voting_power\";\n\nconst YoctoToNear = (amountYocto) =>\n  new Big(amountYocto).div(new Big(10).pow(24)).toFixed(2);\n\nconst numberWithCommas = (x) =>\n  x.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n\nconst getVotingPowerBalance = () => {\n  const balanceYocto = Near.view(CONTRACT_ID, GET_VP_METHOD, {\n    voter_id: context.accountId,\n  });\n  return YoctoToNear(balanceYocto);\n};\n\nconst getInUseVotingPower = () => {\n  const inUserVotingPower = Near.view(CONTRACT_ID, GET_IN_USE_VP_METHOD, {\n    voter_id: context.accountId,\n  });\n  return YoctoToNear(inUserVotingPower);\n};\n\nlet data = {\n  available: getVotingPowerBalance(),\n  inUse: getInUseVotingPower(),\n};\n\nreturn (\n  <div class=\"card w-50\">\n    <div class=\"card-body p-3\">\n      <h5 class=\"card-title\">Your Voting Power Balance</h5>\n      <div class=\"row\">\n        <div class=\"col-sm-4 p-3\">\n          <h6 class=\"card-subtitle mb-2 text-muted\">Available</h6>\n          <h6 class=\"text-success\">{numberWithCommas(data.available)} VP</h6>\n        </div>\n        <div class=\"col-sm-4 p-3\">\n          <h6 class=\"card-subtitle mb-2 text-muted\">In Use</h6>\n          <h6 class=\"text-warning\">{numberWithCommas(data.inUse)} VP</h6>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n", "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/manzanal.near/widget/UserVotingDashComponent", "metadata.tags.component": NaN, "metadata.tags.inline": NaN, "metadata": NaN}
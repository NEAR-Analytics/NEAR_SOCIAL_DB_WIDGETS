{"tx_hash": "7t1SLgunxNhfE6iLk7i8iLTk7aLPsfjeGt7FaUbdTw6j", "action_id_social": "54YMRhtSP6eDtLGzkJJ39UYYqNPjrjpb8pmUaNGAQRCv-0-widget", "block_id": 94047693, "block_timestamp": "2023-06-12T15:07:09.581Z", "signer_id": "kingdeemo.near", "widget_name": "NFT_gallery", "source_code": "const apiUrl = \"https://api.indexer.xyz/graphql\";\nconst apiKey = \"Krqwh4b.bae381951d6050d351945c0c750f1510\";\nconst apiUser = \"Banyan\";\n\ninitState({ nfts: [] });\nconst headers = {\n  \"x-api-key\": apiKey,\n  \"x-api-user\": apiUser,\n  \"Content-Type\": \"application/json\",\n};\n\nfunction fetchData() {\n  const response = fetch(\"https://api.indexer.xyz/graphql\", {\n    method: \"POST\",\n    headers: {\n      \"x-api-key\": apiKey,\n      \"x-api-user\": apiUser,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `query MyQuery {\n      aptos {\n        nfts(limit: 18) {\n          id\n          name\n          owner\n          media_url\n          rarity\n          token_id\n          collection {\n        id\n      }\n        }\n      }\n    }`,\n    }),\n  });\n\n  if (response === null) {\n    return \"\";\n  } else {\n    State.update({ nfts: response.body.data.aptos.nfts });\n    // console.log(\"Body: \", response.body.data.aptos.nfts);\n    return state.nfts;\n  }\n}\n\nfetchData();\n\nreturn (\n  <div>\n    {state.nfts.length > 0 && (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          gap: \"20px\",\n          justifyContent: \"center\",\n          marginTop: \"20px\",\n        }}\n      >\n        {state.nfts.map((nft) => (\n          <a\n            href={`#/kingdeemo.near/widget/nft_page?id=${nft.id}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{ textDecoration: \"none\", color: \"inherit\" }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#f0f0f0\",\n                borderRadius: \"10px\",\n                boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.1)\",\n                padding: \"20px\",\n                width: \"200px\",\n                textAlign: \"center\",\n              }}\n            >\n              <img\n                src={nft.media_url}\n                alt={nft.name}\n                style={{\n                  width: \"100%\",\n                  height: \"auto\",\n                  borderRadius: \"5px\",\n                  objectFit: \"cover\",\n                  marginBottom: \"15px\",\n                }}\n              />\n              <h3 style={{ fontSize: \"18px\", margin: \"0 0 10px\" }}>\n                {nft.name}\n              </h3>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  marginBottom: \"5px\",\n                  flexWrap: \"wrap\",\n                }}\n              >\n                <span\n                  style={{\n                    backgroundColor: \"#3f51b5\",\n                    borderRadius: \"20px\",\n                    color: \"#fff\",\n                    display: \"inline-block\",\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    padding: \"3px 8px\",\n                    maxWidth: \"160px\", // Add maxWidth to limit the width\n                    overflow: \"hidden\", // Add overflow to handle long text\n                    textOverflow: \"ellipsis\", // Add textOverflow to show ellipsis for overflowing text\n                    whiteSpace: \"nowrap\", // Add whiteSpace to prevent line breaks\n                  }}\n                >\n                  Owner ID: {nft.owner}\n                </span>\n              </div>\n              <p\n                style={{\n                  fontSize: \"14px\",\n                  marginBottom: \"5px\",\n                  maxWidth: \"160px\", // Add maxWidth to limit the width\n                  overflow: \"hidden\", // Add overflow to handle long text\n                  textOverflow: \"ellipsis\", // Add textOverflow to show ellipsis for overflowing text\n                  whiteSpace: \"nowrap\", // Add whiteSpace to prevent line breaks\n                }}\n              >\n                Token ID: {nft.token_id}\n              </p>\n              <p\n                style={{\n                  fontSize: \"14px\",\n                  maxWidth: \"160px\", // Add maxWidth to limit the width\n                  overflow: \"hidden\", // Add overflow to handle long text\n                  textOverflow: \"ellipsis\", // Add textOverflow to show ellipsis for overflowing text\n                  whiteSpace: \"nowrap\", // Add whiteSpace to prevent line breaks\n                }}\n              >\n                Collection: {nft.collection.id}\n              </p>\n            </div>\n          </a>\n        ))}\n      </div>\n    )}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/kingdeemo.near/widget/NFT_gallery", "__row_index": 3}
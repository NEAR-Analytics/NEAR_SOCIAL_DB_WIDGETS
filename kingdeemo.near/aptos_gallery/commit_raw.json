{"tx_hash": "De3DKXD1LPaATxpMDg6F2zitXo63sU1M65mvYNvRagqd", "action_id_social": "GEEmLoAKEE7X5aD2JbGEdV2pbi8Emh9KbyxVk43MjHDh-0-widget", "block_id": 94059390, "block_timestamp": "2023-06-12T18:59:22.050Z", "signer_id": "kingdeemo.near", "widget_name": "aptos_gallery", "source_code": null, "metadata": null, "branch": {"draft": {"": "const apiUrl = \"https://api.indexer.xyz/graphql\";\nconst apiKey = \"Krqwh4b.bae381951d6050d351945c0c750f1510\";\nconst apiUser = \"Banyan\";\n\ninitState({ nfts: [] });\nconst headers = {\n  \"x-api-key\": apiKey,\n  \"x-api-user\": apiUser,\n  \"Content-Type\": \"application/json\",\n};\n\nfunction fetchData() {\n  const response = fetch(\"https://api.indexer.xyz/graphql\", {\n    method: \"POST\",\n    headers: {\n      \"x-api-key\": apiKey,\n      \"x-api-user\": apiUser,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `query MyQuery {\n      aptos {\n        nfts(limit: 18) {\n          id\n          name\n          owner\n          media_url\n          rarity\n          token_id\n          collection {\n        id\n      }\n        }\n      }\n    }`,\n    }),\n  });\n\n  if (response === null) {\n    return \"\";\n  } else {\n    State.update({ nfts: response.body.data.aptos.nfts });\n    // console.log(\"Body: \", response.body.data.aptos.nfts);\n    return state.nfts;\n  }\n}\n\nfetchData();\n\nreturn (\n  <div style={{ backgroundColor: \"black\" }}>\n    {state.nfts.length > 0 && (\n      <div className=\"grid grid-cols-3 gap-4 mt-4\">\n        {state.nfts.map((nft) => (\n          <a\n            href={`#/kingdeemo.near/widget/nft_page?id=${nft.id}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-decoration-none color-inherit\"\n            key={nft.id}\n          >\n            <div className=\"bg-black border-white rounded-2xl shadow-md p-4 text-center\">\n              <img\n                src={nft.media_url}\n                alt={nft.name}\n                className=\"w-full h-auto rounded-2xl object-cover mb-4\"\n              />\n              <h3 className=\"text-xl mb-2 text-white\">{nft.name}</h3>\n              <div className=\"mb-2\">\n                <span className=\"bg-blue-500 rounded-full text-white text-xs font-bold py-1 px-2 max-w-32 overflow-hidden overflow-ellipsis whitespace-nowrap\">\n                  Owner ID: {nft.owner}\n                </span>\n              </div>\n              <p className=\"text-sm text-white mb-1 max-w-32 overflow-hidden overflow-ellipsis whitespace-nowrap\">\n                Token ID: {nft.token_id}\n              </p>\n              <p className=\"text-sm text-white max-w-32 overflow-hidden overflow-ellipsis whitespace-nowrap\">\n                Collection: {nft.collection.id}\n              </p>\n            </div>\n          </a>\n        ))}\n      </div>\n    )}\n  </div>\n);\n"}}, "widget_modules_used": null, "widget_url": "https://near.social/#/kingdeemo.near/widget/aptos_gallery", "__row_index": 1}
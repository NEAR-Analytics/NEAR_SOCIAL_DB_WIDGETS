{"tx_hash": "Fvu8GtsVYkkYmo34iWy4oeTC9TEPXabpTDcj5GAUUTRR", "action_id_social": "fVpqXaWaTHwPd2NjCG1mqKRS4TZaaEFdmFiTa8uAkhr-0-widget", "block_id": 95261819, "block_timestamp": "2023-06-28T23:31:05.625Z", "signer_id": "ndcplug.near", "widget_name": "NDC.main", "source_code": "let { ids, org } = props;\n\nids = props.ids ? ids : [4, 8, 7]; // for testing purposes\norg = props.org ? org : \"test\"; // for testing purposes\n\nconst electionContract = \"elections-v1.gwg.testnet\";\nconst registryContract = \"registry-unstable.i-am-human.testnet\";\nconst apiKey = \"36f2b87a-7ee6-40d8-80b9-5e68e587a5b5\";\nconst contractProps = {\n  houses: [\n    {\n      id: 2,\n      typ: \"CouncileOfAdvisors\",\n      ref_link: \"example.com\",\n      start: 1689820065441,\n      end: 1690820065441,\n      quorum: 100,\n      voters_num: 150,\n      seats: 10,\n      result: [],\n    },\n    {\n      id: 3,\n      typ: \"HouseOfMerit\",\n      title: \"House Of Merit\",\n      ref_link: \"example.com\",\n      start: 1685820065441,\n      end: 1696820065441,\n      quorum: 100,\n      voters_num: 150,\n      seats: 10,\n      result: [\n        [\"zomland.near\", 150],\n        [\"asfsdfsfdfddfsdfdfsdfdf.near\", 150],\n        [\"blabla.near\", 10],\n        [\"rubycop.near\", 50],\n      ],\n    },\n    {\n      id: 4,\n      typ: \"TransparancyCommision\",\n      ref_link: \"example.com\",\n      start: 1655820065441,\n      end: 165820065441,\n      quorum: 100,\n      voters_num: 150,\n      seats: 10,\n      result: [],\n    },\n  ],\n};\n\nconst { houses } = contractProps;\n\nState.init({\n  selectedHouse: houses[0].id,\n  humanVoted: 0,\n  myVotes: [],\n});\n\n// TODO: Should be grabbed from indexer\nconst totalHumal = 1000;\n\nasyncFetch(\"https://api.pikespeak.ai/election/total-votes\", {\n  headers: {\n    \"x-api-key\": apiKey,\n  },\n}).then((resp) => {\n  State.update({ humanVoted: resp.body });\n});\n\nasyncFetch(\n  `https://api.pikespeak.ai/election/votes-by-voter?voter=${context.accountId}`,\n  {\n    headers: {\n      \"x-api-key\": apiKey,\n    },\n  }\n).then((resp) => {\n  State.update({ myVotes: resp.body });\n});\n\nconst widgets = {\n  header: \"ndcplug.near/widget/NDC.main.header\",\n  houses: \"rubycop.near/widget/NDC.Elections.Houses\",\n  candidates: \"rubycop.near/widget/NDC.Elections.Candidates\",\n  statistic: \"rubycop.near/widget/NDC.Elections.Statistic\",\n  activities: \"rubycop.near/widget/NDC.Elections.Activities\",\n};\n\nconst handleSelect = (item) => {\n  State.update({ selectedHouse: item.id });\n};\n\nconst Container = styled.div`\n  padding: 30px 0;\n`;\n\nconst ActivityContainer = styled.div`\n  overflow-y: scroll;\n`;\n\nconst Left = styled.div`\n  padding: 20px;\n  background: #F8F8F9;\n  border-radius: 8px;\n  \n`;\n\nconst Center = styled.div`\n`;\n\nconst Right = styled.div`\n  padding: 20px;\n  margin-bottom: 20px;\n  background: #F8F8F9;\n  border-radius: 8px;\n`;\n\nconst H5 = styled.h5`\n  margin-bottom: 20px;\n`;\n\nreturn (\n  <div>\n    <Widget src={widgets.header} />\n\n    <Container className=\"d-flex row\">\n      <Left className=\"col-lg\">\n        <H5>I Am Human Scoreboard</H5>\n        <Widget\n          src=\"ndcplug.near/widget/NDC.linkCard\"\n          props={{\n            title: \"Community Leaderboard\",\n            subtitle: \"See which communities are onboarding the most humans\",\n            link: \"https://i-am-human.app/community-scoreboard\",\n          }}\n        />\n        <Widget src=\"ndcplug.near/widget/NDC.verifyHuman\" />\n      </Left>\n      <Center className=\"col-lg-6 p-2 p-md-3\">\n        <Widget src=\"7418d5cb7d7657e526b8bccf28750939105828d0f5b34a7254bd107477d84a2c/widget/ProgressMeterBarWidget\" />\n      </Center>\n\n      <div className=\"col-lg\">\n        <Right className=\"col\">\n          <H5>Funding Dashboard</H5>\n          <div className=\"d-flex justify-content-center\">\n            <Widget src=\"frichard5.near/widget/NDC-alldaos_overview\" />\n          </div>\n        </Right>\n        <Right className=\"col\">\n          <H5>NDC Docs</H5>\n          <ActivityContainer className=\"d-flex justify-content-center\">\n            <Widget src=\"neardigitalcollective.near/widget/NDCDocs\" />\n          </ActivityContainer>\n        </Right>\n        <Right className=\"col\">\n          <H5>Easy Poll</H5>\n          <ActivityContainer className=\"d-flex justify-content-center\">\n            <Widget src=\"neardigitalcollective.near/widget/EasyPoll.Main\" />\n          </ActivityContainer>\n        </Right>\n        <Right className=\"col\">\n          <H5>Say A Lot</H5>\n          <ActivityContainer className=\"d-flex justify-content-center\">\n            <Widget src=\"sayalot.near/widget/SayALot\" />\n          </ActivityContainer>\n        </Right>\n      </div>\n    </Container>\n  </div>\n);\n", "metadata": null, "branch": {"draft": null}, "widget_modules_used": null, "widget_url": "https://near.social/#/ndcplug.near/widget/NDC.main", "__row_index": 1}
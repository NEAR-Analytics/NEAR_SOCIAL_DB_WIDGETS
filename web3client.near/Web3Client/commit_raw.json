{"tx_hash": "9sWDA6gXkPyckLiU1e4XE1LgxExZZQvB5XMEScTKjBrV", "action_id_social": "2rzajvSfLqdgnHybw1QLb8VJSvDD8ZCyVYLpKd2Wgmd1-0-widget", "block_id": 90334590, "block_timestamp": "2023-04-24 16:32:44.644", "signer_id": "web3client.near", "widget_name": "Web3Client", "source_code": "const accountId = context.accountId;\ninitState({\n  state_mutability: \"view\",\n  deposit: 0,\n  gas: 30000000000000,\n});\n\nfunction handleView() {\n  try {\n    const response = Near.view(\n      state.contract,\n      state.method,\n      JSON.parse(state.args),\n      \"final\"\n    );\n    console.log(response);\n    State.update({ response });\n  } catch (e) {\n    State.update({ response: JSON.stringify(e) });\n  }\n}\n\nfunction handleCall() {\n  try {\n    const response = Near.call(\n      state.contract,\n      state.method,\n      JSON.parse(state.args),\n      state.gas,\n      state.deposit\n    );\n    State.update({ response });\n  } catch (e) {\n    State.update({ response: JSON.stringify(e) });\n  }\n}\n\nreturn (\n  <div>\n    Account ID : {accountId}\n    <div>\n      <input\n        value={state.contract}\n        placeholder=\"Contract ID\"\n        style={{ marginBottom: 10, marginTop: 10 }}\n        onChange={(e) => {\n          const contract = e.target.value;\n          State.update({ contract });\n        }}\n      />\n      <input\n        value={state.method}\n        placeholder=\"Method Name\"\n        style={{ marginBottom: 10, marginTop: 10 }}\n        onChange={(e) => {\n          const method = e.target.value;\n          State.update({ method });\n        }}\n      />\n      <textarea\n        class=\"container-fluid\"\n        rows=\"10\"\n        placeholder=\"Args JSON\"\n        style={{ marginBottom: 10, marginTop: 10 }}\n        onChange={(e) => {\n          const args = e.target.value;\n          State.update({ args });\n        }}\n        value={state.args}\n      />\n\n      <label for=\"selectFunction\" class=\"mt-2\">\n        State Mutability\n      </label>\n      <select\n        class=\"form-select mt-2 mb-2\"\n        id=\"selectFunction\"\n        onChange={(e) => {\n          const state_mutability = e.target.value;\n          State.update({ state_mutability });\n        }}\n      >\n        <option selected value=\"view\">\n          View\n        </option>\n        <option value=\"payable\">Payable</option>\n      </select>\n      {state.state_mutability === \"payable\" && (\n        <div class=\"mt-4\">\n          <>\n            <label for=\"selectFunction\" class=\"mt-2\">\n              Deposit\n            </label>\n            <input\n              value={state.deposit}\n              placeholder=\"Deposit\"\n              style={{ marginBottom: 10, marginTop: 10 }}\n              onChange={(e) => {\n                const deposit = e.target.value;\n                State.update({ deposit });\n              }}\n            />\n            <label for=\"selectFunction\" class=\"mt-2\">\n              Gas\n            </label>\n            <input\n              value={state.gas}\n              placeholder=\"Gas\"\n              style={{ marginBottom: 10, marginTop: 10 }}\n              onChange={(e) => {\n                const gas = e.target.value;\n                State.update({ gas });\n              }}\n            />\n            <button type=\"button\" class=\"btn btn-success\" onClick={handleCall}>\n              Call\n            </button>\n          </>\n        </div>\n      )}\n\n      {state.state_mutability === \"view\" && (\n        <div class=\"col-md mt-4\">\n          <button type=\"button\" class=\"btn btn-success\" onClick={handleView}>\n            View\n          </button>\n        </div>\n      )}\n\n      <div class=\"mt-3\">\n        {state.response && (\n          <Markdown\n            text={`\n\\`\\`\\`json\n${JSON.stringify(state.response, undefined, 2)}\n\\`\\`\\`\n`}\n          />\n        )}\n      </div>\n    </div>\n    <div class=\"container-fluid mt-4 text-center\">\n      <p class=\"fs-6\">\n        Powered by Web3Client. For more features, checkout\n        <a\n          href=\"https://workspace.web3client.app/\"\n          class=\"link-primary\"\n          target=\"_blank\"\n        >\n          Web3Client.app\n        </a>\n      </p>\n    </div>\n  </div>\n);\n", "metadata": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/web3client.near/widget/Web3Client", "branch.draft.": NaN, "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "branch.draft.metadata": NaN, "branch": NaN}
{"tx_hash": "7tPuC9gPNrhYDhmUnL7hNX8Norx5pCjGhxsYC38DjiiL", "action_id_social": "7Q8R8aMyZ7ZVgHx6p1ycQZBEyrYWt79RLWaoGCbiYfRr-0-widget", "block_id": 80309027, "block_timestamp": "2022-12-10 04:23:22.083", "signer_id": "duocelot.near", "widget_name": "AddImage_gpux", "source_code": "const accountId = context.accountId;\r\n\r\nif (!accountId) {\r\n  return \"Please sign in with NEAR wallet to add a new image\";\r\n}\r\n\r\ninitState({\r\n  meme: { title: \"\", description: \"\" },\r\n  img: {},\r\n  rollImg: \"https://via.placeholder.com/512x512\",\r\n});\r\n\r\nconst meme = {\r\n  title: state.meme.title,\r\n  description: state.meme.description,\r\n  image: {},\r\n};\r\n\r\nif (state.img.cid) {\r\n  meme.image.ipfs_cid = state.img.cid;\r\n}\r\n\r\nconst hasMeme = meme.image.ipfs_cid || meme.title;\r\n\r\nfunction rollImage() {\r\n  state.rollImg =\r\n    \"https://explorer.gpux.ai/api/inference/gpux/sd15?return_grid=true&image_count=2&steps=10&prompt=an illustration of a samurai battle sunshine, oriental watercolor themed, sun rising \";\r\n}\r\n\r\nreturn (\r\n  <div className=\"row mb-3\">\r\n    <div\r\n      style={{\r\n        backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n        backgroundSize: \"auto 80px\",\r\n        backgroundPosition: \"center\",\r\n        height: \"80px\",\r\n        backgroundColor: \"#333\",\r\n        color: \"#fff\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      image space\r\n    </div>\r\n    <div>\r\n      <h4>Add an image</h4>\r\n    </div>\r\n    <div className=\"mb-2\">\r\n      Image:\r\n      <br />\r\n      <IpfsImageUpload image={state.img} />\r\n    </div>\r\n    {meme.image.ipfs_cid && (\r\n      <div className=\"mb-2\">\r\n        Title <span className=\"text-secondary\">(optional)</span>\r\n        <input type=\"text\" value={state.meme.title} />\r\n      </div>\r\n    )}\r\n    {state.meme.title && (\r\n      <div className=\"mb-2\">\r\n        Description <span className=\"text-secondary\">(optional)</span>\r\n        <input type=\"text\" value={state.meme.description} />\r\n      </div>\r\n    )}\r\n    <div className=\"mb-2\">\r\n      {hasMeme ? (\r\n        <CommitButton data={{ post: { meme } }}>Post image</CommitButton>\r\n      ) : (\r\n        !props.noPrevMeme && (\r\n          <a className=\"btn btn-outline-primary\" onClick={(e) => rollImage()}>\r\n            \ud83c\udfb2 Generate an Image\r\n          </a>\r\n        )\r\n      )}\r\n    </div>\r\n    <hr />{\" \"}\r\n    <div\r\n      style={{\r\n        backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n        backgroundSize: \"auto 524px\",\r\n        backgroundPosition: \"center\",\r\n        height: \"524px\",\r\n        backgroundColor: \"#eee\",\r\n        color: \"#333\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <img id=\"rollImg\" src={state.rollImg} style={{ filter: \"blur(0px)\" }} />\r\n    </div>\r\n    {(hasMeme || !props.noPrevMeme) && (\r\n      <Widget\r\n        src=\"duocelot.near/widget/meme\"\r\n        props={{ meme: hasMeme ? meme : undefined }}\r\n      />\r\n    )}\r\n  </div>\r\n);\r\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/duocelot.near/widget/AddImage_gpux", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.name": NaN, "metadata.tags.ai": NaN, "metadata.tags.app": NaN, "metadata.tags.art": NaN, "metadata.tags.generator": NaN, "metadata.tags.image": NaN, "metadata.tags.prompt": NaN}
{"tx_hash": "Fgr7FfrTsrE1cjpf2cR1djpe5CBvM2Xgy5w84Uz4LoG5", "action_id_social": "A7UoUMcSFUobZxizDJBTT2CJoqzEqmcnyo8rnGoVvBHN-0-widget", "block_id": 80352825, "block_timestamp": "2022-12-10 18:28:18.409", "signer_id": "duocelot.near", "widget_name": "AddImage_gpux", "source_code": "const accountId = context.accountId;\r\n\r\nif (!accountId) {\r\n  return \"Please sign in with NEAR wallet to add a new image\";\r\n}\r\n\r\ninitState({\r\n  meme: { title: \"\", description: \"\" },\r\n  img: {},\r\n  rollImg: \"https://via.placeholder.com/512x512\",\r\n  blur: 0,\r\n});\r\n\r\nconst meme = {\r\n  title: state.meme.title,\r\n  description: state.meme.description,\r\n  image: {},\r\n};\r\n\r\nif (state.img.cid) {\r\n  meme.image.ipfs_cid = state.img.cid;\r\n}\r\n\r\nconst hasMeme = meme.image.ipfs_cid || meme.title;\r\n\r\nfunction rollImage() {\r\n  var seed = Math.trunc(Math.random() * 100000000);\r\n  state.rollImg = `https://explorer.gpux.ai/api/inference/gpux/sd15?return_grid=true&seed=${seed}&image_count=1&steps=8&prompt=greg rutkowski galatic ((battle)) 4k anime manga japanese sunset`;\r\n  state.blur = 8;\r\n  State.update(state);\r\n}\r\n\r\nreturn (\r\n  <div style={{ background: \"linear-gradient(to bottom, violet, black)\" }}>\r\n    <div className=\"row mb-3\">\r\n      <div\r\n        style={{\r\n          backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n          backgroundSize: \"auto 80px\",\r\n          backgroundPosition: \"center\",\r\n          height: \"80px\",\r\n          backgroundColor: \"#333\",\r\n          color: \"#fff\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        image space\r\n      </div>\r\n      <div\r\n        style={{\r\n          backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n          backgroundSize: \"auto 80px\",\r\n          backgroundPosition: \"center\",\r\n          height: \"80px\",\r\n          backgroundColor: \"blue\",\r\n          color: \"#fff\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <h4>Add an image</h4>\r\n      </div>\r\n\r\n      <div\r\n        className=\"mb-2\"\r\n        style={{\r\n          backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n          backgroundSize: \"auto 80px\",\r\n          backgroundPosition: \"center\",\r\n          height: \"80px\",\r\n          backgroundColor: \"red\",\r\n          color: \"#fff\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <input type=\"text\" />\r\n      </div>\r\n      {meme.image.ipfs_cid && (\r\n        <div className=\"mb-2\">\r\n          Title <span className=\"text-secondary\">(optional)</span>\r\n          <input type=\"text\" value={state.meme.title} />\r\n        </div>\r\n      )}\r\n      {state.meme.title && (\r\n        <div className=\"mb-2\">\r\n          Description <span className=\"text-secondary\">(optional)</span>\r\n          <input type=\"text\" value={state.meme.description} />\r\n        </div>\r\n      )}\r\n      <div\r\n        className=\"mb-2\"\r\n        style={{\r\n          backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n          backgroundSize: \"auto 80px\",\r\n          backgroundPosition: \"center\",\r\n          height: \"80px\",\r\n          backgroundColor: \"yellow\",\r\n          color: \"#fff\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {hasMeme ? (\r\n          <CommitButton data={{ post: { meme } }}>Post image</CommitButton>\r\n        ) : (\r\n          !props.noPrevMeme && (\r\n            <a className=\"btn btn-outline-primary\" onClick={(e) => rollImage()}>\r\n              \ud83c\udfb2 Generate an Image\r\n            </a>\r\n          )\r\n        )}\r\n      </div>\r\n      <div\r\n        style={{\r\n          backgroundImage: \"url(https://example.com/background-image.jpg)\",\r\n          backgroundSize: \"auto 524px\",\r\n          backgroundPosition: \"center\",\r\n          height: \"524px\",\r\n          background: \"linear-gradient(to bottom, #040404, #fff)\",\r\n          color: \"#333\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <img\r\n          id=\"rollImg\"\r\n          src={state.rollImg}\r\n          onLoad={(e) => {\r\n            state.blur = 0;\r\n            State.update(state);\r\n          }}\r\n          style={{ filter: `blur(${state.blur}px)`, maxWidth: \"512px\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/duocelot.near/widget/AddImage_gpux", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.name": NaN, "metadata.tags.ai": NaN, "metadata.tags.app": NaN, "metadata.tags.art": NaN, "metadata.tags.generator": NaN, "metadata.tags.image": NaN, "metadata.tags.prompt": NaN}
{"tx_hash": "BwKCpeDpTSJcnrsdTe7eJ833pcTuBk3AAkyZ2Jap3qUF", "action_id_social": "HfjJw5qBP9rUGx2GbzzX6rxaTrxtawfeBwo4L511fXe2-0-widget", "block_id": 80719399, "block_timestamp": "2022-12-15 17:24:59.035", "signer_id": "lewidenmann.near", "widget_name": "UserHeightDisplay", "source_code": "const contractId = \"proof_of_height.lewidenmann.near\";\nconst accountId = props.accountId;\n\nif (!accountId) return \"Missing prop: accountId\";\n\nconst user = {\n  accountId,\n  height: Near.view(contractId, \"get_height_inches\", { account_id: accountId }),\n  confidence: Near.view(contractId, \"get_confidence\", {\n    account_id: accountId,\n  }),\n};\n\nconsole.log(\"user info:\", user);\n\nfunction displayHeight(height) {\n  const feet = Math.floor(height / 12);\n  const inches = height % 12;\n  return `${feet}\u2032${inches}\u2033`;\n}\n\nfunction confidenceClassName(confidence) {\n  if (confidence === \"Lie\") {\n    return \"text-bg-danger\";\n  } else if (confidence === \"ProbablyALie\") {\n    return \"text-bg-warning\";\n  } else if (confidence === \"MightBeTrue\") {\n    return \"text-bg-primary\";\n  } else if (confidence === \"True\") {\n    return \"text-bg-success\";\n  } else {\n    return \"text-bg-dark\";\n  }\n}\n\nfunction confidenceText(confidence) {\n  if (confidence === \"Lie\") {\n    return \"Liar \ud83d\ude45\";\n  } else if (confidence === \"ProbablyALie\") {\n    return \"Liar-ish \ud83d\ude10\";\n  } else if (confidence === \"MightBeTrue\") {\n    return \"True-ish \ud83d\udc4d\";\n  } else if (confidence === \"True\") {\n    return \"True \ud83d\udcaf\";\n  } else {\n    return \"Maybe \ud83e\udd37\";\n  }\n}\n\nreturn (\n  <div>\n    <div\n      className=\"d-flex flex-column flex-sm-row align-items-md-center\"\n      style={{ gap: \"1rem\" }}\n    >\n      {!props.compact && (\n        <div style={{ marginRight: \"auto\" }}>\n          <Widget\n            src=\"mob.near/widget/Profile\"\n            props={{ accountId: props.accountId }}\n          />\n        </div>\n      )}\n\n      {typeof user.height === \"number\" ? (\n        <div\n          className=\"d-flex flex-row align-items-center\"\n          style={{ gap: \"1rem\" }}\n        >\n          <h1 className=\"m-0\">{displayHeight(user.height)}</h1>\n\n          {user.confidence ? (\n            <span\n              style={{ width: \"7rem\", lineHeight: \"1.5rem\" }}\n              className={`badge ${confidenceClassName(user.confidence)}`}\n            >\n              {confidenceText(user.confidence)}\n            </span>\n          ) : (\n            <span\n              style={{ width: \"7rem\", lineHeight: \"1.5rem\" }}\n              className=\"badge text-bg-dark\"\n            >\n              Unverified\n            </span>\n          )}\n        </div>\n      ) : (\n        <div>\n          <span\n            style={{ width: \"7rem\", lineHeight: \"1.5rem\" }}\n            className=\"badge text-bg-secondary\"\n          >\n            Height Not Set\n          </span>\n        </div>\n      )}\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/lewidenmann.near/widget/UserHeightDisplay"}
{"tx_hash": "7swoyT9mE7N6EmaVe2invFFjzBFyDfmh5hsngKUoqvMb", "action_id_social": "44B9ZiQ64ua8UQj8e3E7bGVt8dhKf2DHyTztRjisYbyr-0-widget", "block_id": 81304459, "block_timestamp": "2022-12-23 19:13:24.743", "signer_id": "create.near", "widget_name": "MassConnect", "source_code": "let accountId = context.accountId;\n\nif (!accountId) {\n  return \"Please sign in with NEAR wallet\";\n}\n\nconst dataFollowed = socialGetr(`${accountId}/follow`);\n\ndataFollowed = !!dataFollowed ? dataFollowed : {};\n\nif (dataFollowed === null) {\n  return \"Loading\";\n}\n\nconst data = {\n  follow: {\n    [state.accountId]: \"\",\n  }\n};\n\ninitState({});\n\nstate.accountId = state.accountId ? state.accountId.toLowerCase() : \"\";\n\nconst followed = Object.entries(dataFollowed);\nconst allFollowed = [];\n\nfor (let i = 0; i < followed.length; ++i) {\n  const accountId = followed[i][0];\n \n allFollowed.push(\n    <div className=\"mb-2\">\n      <Widget src=\"mob.near/widget/Profile\" props={{ accountId: accountId }} />\n \n    </div>\n  );\n}\n\nlet followedMessage = allFollowed.length ? \"Accounts you follow:\" : \"\";\n\n\nreturn (\n<div>\n  <div className=\"container row\">\n    <div>\n      <div>Follow NEAR Account</div>\n      <Widget\n        src=\"mob.near/widget/Profile\"\n        props={{ accountId: state.accountId }}\n      />\n    </div>\n    <div>\n      Account Id:\n      <input type=\"text\" value={state.accountId} />\n    </div>\n    <div className=\"mt-2\">\n      <CommitButton data={data}>Follow</CommitButton>\n    </div>\n  </div>\n<hr />\n<div>{followedMessage}</div>\n<div>{allFollowed}</div>\n</div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/create.near/widget/MassConnect"}
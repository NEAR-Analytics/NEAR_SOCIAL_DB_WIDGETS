{"tx_hash": "8gWc4qFk8yUpDVJgcFLYUJqBv9Bt1h5B45ck3rS3pYTa", "action_id_social": "FWxUFmb4wkZNknugPWbokazC5vXXD1tSmMtheKbKhPSj-0-widget", "block_id": 91530814, "block_timestamp": "2023-05-10T12:38:06.077Z", "signer_id": "sking.near", "widget_name": "Bounties.Apply", "source_code": "// Config\nconst WIDGET_AUTHOR = \"sking.near\";\nconst WHITELISTED_ACCOUNTS = [\"sking.near\", \"samora.near\"];\nconst UIKingWidgetAuthor = \"sking.near\";\nconst currentUserId = \"sking.near\";\nconst MAIN_DB_KEY = `${WIDGET_AUTHOR}-bounties-vALPHA`;\n\n// Props\nconst { id, blockHeight } = props;\n\nif (!id) {\n  throw {\n    message:\n      \"Invalid bounty id, please provide a valid id in this format: '?id=[authorId]@[bountyId]'\",\n  };\n}\n\n// if (!WHITELISTED_ACCOUNTS.includes(accountId)) {\n//   return \"The bounty author is not whitelisted to show bounties in this widget\";\n// }\n\n// get data\nconst authorId = id.split(\"@\")[0];\nconst bountyId = id.split(\"@\")[1];\nconst result = Social.getr(\n  `${authorId}/${MAIN_DB_KEY}.Bounties/${bountyId}`,\n  blockHeight || undefined\n);\nconst bounty = {\n  ...result,\n  skills: JSON.parse(result.skills),\n  blockHeight,\n  author: authorId,\n  createdAt: bountyId,\n};\n\n// Render\nreturn (\n  <>\n    <Widget src={`${WIDGET_AUTHOR}/widget/Bounties.Components.Background`} />\n    <Widget\n      src={`${WIDGET_AUTHOR}/widget/Bounties.Components.Header`}\n      props={{\n        widgetAuthor: WIDGET_AUTHOR,\n        UIKingWidgetAuthor: UIKingWidgetAuthor,\n      }}\n    />\n    <Widget\n      src={`${WIDGET_AUTHOR}/widget/Bounties.Components.FormApply`}\n      props={{\n        widgetAuthor: WIDGET_AUTHOR,\n        UIKingWidgetAuthor: UIKingWidgetAuthor,\n      }}\n    />\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sking.near/widget/Bounties.Apply", "__row_index": 0}
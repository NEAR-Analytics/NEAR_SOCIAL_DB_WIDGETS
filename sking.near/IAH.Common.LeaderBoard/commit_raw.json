{"tx_hash": "3rmX7FKP7jnURPdwQJHAhEKMgdkjQG2bzMGuzeUppaT6", "action_id_social": "CBpWhZyrC1wsjnLfM9JMgG9PQMonC7neJcBwPeBj8UtZ-0-widget", "block_id": 93566893, "block_timestamp": "2023-06-06T06:23:32.129Z", "signer_id": "sking.near", "widget_name": "IAH.Common.LeaderBoard", "source_code": "const accountId = props.accountId ?? context.accountId;\nconst NFT_CONTRACT = props.NFT_CONTRACT;\n\nconst leaderboard = Near.view(\n  NFT_CONTRACT,\n  \"referrals_leaderboard\",\n  {\n    from_index: 0,\n    limit: 100,\n  },\n  undefined,\n  false\n);\nconsole.log(\"leaderboard\", leaderboard, NFT_CONTRACT);\n\nconst RowWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n  border-bottom: 1px solid #08cc86;\n  &:last-child {\n    border-bottom: none;\n  }\n\n  .rank {\n    width: 30px;\n  }\n  .user {\n    flex: 1;\n    text-align: left;\n    margin: 0 16px;\n    color: #08cc86;\n    text-decoration: none;\n  }\n`;\n\nconst Row = ({ accountId, score, rank }) => (\n  <RowWrapper>\n    <div className=\"rank\">{rank}</div>\n    <a\n      className=\"user\"\n      href={`#/near/widget/ProfilePage?accountId=${accountId}`}\n    >\n      {accountId}\n    </a>\n    <div>{score}</div>\n  </RowWrapper>\n);\n\nconst Wrapper = styled.div`\n  border: 2px solid #08cc86;\n  color: #08cc86;\n  display: flex;\n  flex-direction: column;\n  padding: 28px;\n  margin: 0 10px auto;\n  width: 100%;\n  max-width: 500px;\n  border-radius: 18px;\n  flex: 1;\n`;\n\nreturn (\n  <Wrapper>\n    <h3 className=\"text-center mb-3\">Referral Leaderboard</h3>\n    {leaderboard.map((row, i) => (\n      <Row\n        key={i}\n        rank={i + 1}\n        accountId={row.account_id}\n        score={row.count}\n      />\n    ))}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/sking.near/widget/IAH.Common.LeaderBoard", "__row_index": 0}
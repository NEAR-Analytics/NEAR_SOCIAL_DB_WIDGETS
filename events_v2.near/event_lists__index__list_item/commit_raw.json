{"tx_hash": "3BPU2K2zBz6mm2cULby8N5XP49iDpcxTny6ohpjfw1QG", "action_id_social": "5wXWTqtrp8GBR6s1pHanLpzyYhVtewCBSJ94w58DtUHe-0-widget", "block_id": 84762687, "block_timestamp": "2023-02-08 11:14:59.403", "signer_id": "events_v2.near", "widget_name": "event_lists__index__list_item", "source_code": "const event_list = props.event_list || null;\n\nif (!event_list) {\n  return props.__engine.helpers.propIsRequiredMessage('event_list');\n}\n\nfunction showEventList() {\n  props.__engine.push('show', { event_list_id: event_list.id });\n}\n\nconst Card = props.__engine.Components.Card;\nconst Text = props.__engine.Components.Text;\nconst TextHeader = props.__engine.Components.TextHeader;\nconst HorizontalScroll = props.__engine.Components.HorizontalScroll;\n\nconst CardHeader = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  padding: 20px;\n  width: 33%;\n  border-right: 1px solid #e0e0e0;\n  min-height: 200px;\n  flex-grow: 1;\n  flex-shrink: 0;\n`;\n\nconst CardBody = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  padding: 0 20px;\n  width: 66%;\n  height: 100%;\n  overflow-y: hidden;\n  overflow-x: auto;\n  flex-wrap: nowrap;\n  flex-grow: 1;\n`;\n\nconst EVENTS_LIMIT = 2;\nconst DESCRIPTION_MAX_LENGTH = 100;\n\nconst events = props.__engine.contract.view('get_events_in_event_list', {\n  event_list_id: event_list.id,\n  limit: EVENTS_LIMIT,\n});\n\nconst scrollingEvents =\n  (events || []).length > 0 ? (\n    <HorizontalScroll itemWidth={'150px'}>\n      {events.map((event, idx) => {\n        return (\n          <>\n            {props.__engine.renderComponent('events:index.list_item', {\n              event,\n              key: `${event.id}-${idx}`,\n            })}\n          </>\n        );\n      })}\n\n      {event_list.event_count > EVENTS_LIMIT && (\n        <Text>\n          And {events.length - EVENTS_LIMIT} more events in this list.\n        </Text>\n      )}\n    </HorizontalScroll>\n  ) : (\n    <Text>There are no events in this list yet.</Text>\n  );\n\nconst elDescription =\n  event_list.description.length > DESCRIPTION_MAX_LENGTH\n    ? event_list.description.substring(0, DESCRIPTION_MAX_LENGTH) + '...'\n    : event_list.description;\n\nreturn (\n  <Card\n    onClick={() => {\n      showEventList();\n    }}\n    onKeyDown={(e) => {\n      if (e.key === 'Enter') {\n        showEventList();\n      }\n    }}\n    role=\"button\"\n    tabIndex={0}\n    orientation=\"horizontal\"\n  >\n    <CardHeader>\n      <TextHeader>{event_list.name}</TextHeader>\n      <Text>\n        <Markdown text={elDescription} />\n      </Text>\n    </CardHeader>\n\n    <CardBody>{scrollingEvents}</CardBody>\n  </Card>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/events_v2.near/widget/event_lists__index__list_item"}
{"tx_hash": "4mMZnuDwixLkwSb3zLZDBMNHQDydJZXXAknwg6WkZaCP", "action_id_social": "AUjDAB8t83ZG6JQXC4x5hpM8anLs8tV1u3F1vuh7rHsD-0-widget", "block_id": 94140974, "block_timestamp": "2023-06-13T22:40:57.932Z", "signer_id": "0xprometheus.near", "widget_name": "GenaDrop.MultiChainMinter", "source_code": "const auroraCOntract = \"0xe53bC42B6b25a1d548B73636777a0599Fd27fE5c\";\r\nconst auroraSoulCOntract = \"0xe1D36964Eb49E38BB3f7410401BC95F0E9f1F6D3\";\r\nconst polygonContract = \"0x436AEceaEeC57b38a17Ebe71154832fB0fAFF878\";\r\nconst polygonSoulContract = \"0xd91cC6DE129D13F4384FB0bC07a1a99D4F858e72\";\r\nconst celoContract = \"0xC291846A587cf00a7CC4AF0bc4EEdbC9c3340C36\";\r\nconst celoSoulContract = \"0xd91cC6DE129D13F4384FB0bC07a1a99D4F858e72\";\r\nconst avaxContract = \"0x43dBdfcAADD0Ea7aD037e8d35FDD7c353B5B435b\";\r\nconst avaxSoulContract = \"0xd91cC6DE129D13F4384FB0bC07a1a99D4F858e72\";\r\nconst arbitrumContract = \"0x959a2945185Ec975561Ac0d0b23F03Ed1b267925\";\r\nconst arbitrumSoulContract = \"0x959a2945185Ec975561Ac0d0b23F03Ed1b267925\";\r\nconst nearContract = \"nft.genadrop.near\";\r\nconst ownerId = \"minorityprogrammers.near\"; // attribution\r\nconst mintSingle = [\r\n  \"function mint(address to, uint256 id, uint256 amount, string memory uri, bytes memory data) public {}\",\r\n  \"function safeMint(address to, string memory uri) public {}\",\r\n];\r\nlet accountId = context.accountId;\r\nconst contractAddresses = {\r\n  137: [\r\n    polygonContract,\r\n    \"Polygon\",\r\n    \"https://polygonscan.com/tx/\",\r\n    polygonSoulContract,\r\n  ],\r\n  1313161554: [\r\n    auroraCOntract,\r\n    \"Aurora\",\r\n    \"https://explorer.aurora.dev/tx/\",\r\n    auroraSoulCOntract,\r\n  ],\r\n  42220: [\r\n    celoContract,\r\n    \"Celo\",\r\n    \"https://explorer.celo.org/mainnet/tx/\",\r\n    celoSoulContract,\r\n  ],\r\n  43114: [\r\n    avaxContract,\r\n    \"Avalanche\",\r\n    \"https://snowtrace.io/tx/\",\r\n    avaxSoulContract,\r\n  ],\r\n  42161: [arbitrumContract, \"Arbitrum\", \"https://arbiscan.io/tx/\"],\r\n  0: [nearContract, \"Near\"],\r\n};\r\nconst chains = [\r\n  {\r\n    id: \"137\",\r\n    name: \"Polygon\",\r\n    url: \"https://ipfs.near.social/ipfs/bafkreie5h5oq6suoingcwuzj32m3apv56rl56wpwpaxmevlk5vndlypxze\",\r\n  },\r\n  {\r\n    id: \"1313161554\",\r\n    name: \"Aurora\",\r\n    url: \"https://ipfs.near.social/ipfs/bafkreiajqik4gjbmkh7z2gylpjzrsuht7simjecpxuoqn6icqfbioswzuy\",\r\n  },\r\n  {\r\n    id: \"42220\",\r\n    name: \"Celo\",\r\n    url: \"https://ipfs.near.social/ipfs/bafkreifu6ufsdf2ivrs5febt7l25wdys6odzfelgjauzod7owrfug56cxe\",\r\n  },\r\n  {\r\n    id: \"43114\",\r\n    name: \"Avax\",\r\n    url: \"https://ipfs.near.social/ipfs/bafkreifhu5fytsjcmjluarfnu6kcdhaqz4rgdrbbzf6dlsmggqb7oi3w4e\",\r\n  },\r\n  {\r\n    id: \"42161\",\r\n    name: \"Arbitrum\",\r\n    url: \"https://ipfs.near.social/ipfs/bafkreiffax4lnya337rz5ph75faondeqmpy6xj37yprwvxbru4qc5emsiq\",\r\n  },\r\n  {\r\n    id: \"0\",\r\n    name: \"Near\",\r\n    url: \"https://ipfs.near.social/ipfs/bafkreigv55ubnx3tfhbf56toihekuxvgzfqn5c3ndbfjcg3e4uvaeuy5cm\",\r\n  },\r\n];\r\n\r\nconst handleMint = () => {\r\n  console.log(\"it's here\", state.title && state.description && state.image.cid);\r\n  if (!state.image.cid) {\r\n    return;\r\n  }\r\n  if (!state.title) {\r\n    console.log(\"Please Enter title\");\r\n    State.update({\r\n      showAlert: true,\r\n      toastMessage: \"Please enter a title for the NFT\",\r\n    });\r\n\r\n    setTimeout(() => {\r\n      State.update({\r\n        showAlert: false,\r\n      });\r\n    }, 3000);\r\n  } else if (!state.description) {\r\n    State.update({\r\n      showAlert: true,\r\n      toastMessage: \"Please enter a description for the NFT\",\r\n    });\r\n    setTimeout(() => {\r\n      State.update({\r\n        showAlert: false,\r\n      });\r\n    }, 3000);\r\n  } else {\r\n    if (state.selectedChain == \"0\") {\r\n      const gas = 200000000000000;\r\n      const deposit = 10000000000000000000000;\r\n      const metadata = {\r\n        name: state.title,\r\n        description: state.description,\r\n        properties: [],\r\n        image: `ipfs://${state.image.cid}`,\r\n      };\r\n      asyncFetch(\"https://ipfs.near.social/add\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n        },\r\n        body: metadata,\r\n      }).then((res) => {\r\n        const cid = res.body.cid;\r\n        const Id = Math.floor(Math.random() * (9999999 - 100000 + 1) + 100000);\r\n        console.log(\"in the promise\", res, Id);\r\n        Near.call([\r\n          {\r\n            contractName: \"genadrop-contract.nftgen.near\",\r\n            methodName: \"nft_mint\",\r\n            args: {\r\n              token_id: `${Date.now()}`,\r\n              metadata: {\r\n                title: state.title,\r\n                description: state.description,\r\n                media: `https://ipfs.io/ipfs/${state.image.cid}`,\r\n                reference: `ipfs://${cid}`,\r\n              },\r\n              receiver_id: state.recipient || accountId,\r\n            },\r\n            gas: gas,\r\n            deposit: deposit,\r\n          },\r\n        ]);\r\n      });\r\n      return;\r\n    }\r\n    console.log(\"passed checks\");\r\n    let networkId = Ethers.provider()._network.chainId;\r\n\r\n    const CA = state.isSoulBound\r\n      ? contractAddresses[state.selectedChain][3]\r\n      : contractAddresses[state.selectedChain][0];\r\n\r\n    console.log(\"CONTRACT ADD\", CA);\r\n\r\n    const contract = new ethers.Contract(\r\n      CA,\r\n      mintSingle,\r\n      Ethers.provider().getSigner()\r\n    );\r\n    const metadata = {\r\n      name: state.title,\r\n      description: state.description,\r\n      properties: [],\r\n      image: `ipfs://${state.image.cid}`,\r\n    };\r\n    asyncFetch(\"https://ipfs.near.social/add\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n      },\r\n      body: metadata,\r\n    }).then((res) => {\r\n      const cid = res.body.cid;\r\n      const Id = Math.floor(Math.random() * (9999999 - 100000 + 1) + 100000);\r\n      console.log(\"in the promse\", res, Id);\r\n      const recipient = Ethers.send(\"eth_requestAccounts\", []);\r\n      state.isSoulBound\r\n        ? contract\r\n            .safeMint(state.recipient || recipient[0], `ipfs://${cid}`)\r\n            .then((transactionHash) => transactionHash.wait())\r\n            .then((ricit) => {\r\n              console.log(\"receipt::\", ricit);\r\n              State.update({\r\n                link: `${\r\n                  contractAddresses[state.selectedChain][2] +\r\n                  ricit.transactionHash\r\n                }`,\r\n              });\r\n            })\r\n        : contract\r\n            .mint(state.recipient || recipient[0], Id, 1, `ipfs://${cid}`, \"0x\")\r\n            .then((transactionHash) => transactionHash.wait())\r\n            .then((ricit) => {\r\n              console.log(\"receipt::\", ricit);\r\n              State.update({\r\n                link: `${\r\n                  contractAddresses[state.selectedChain][2] +\r\n                  ricit.transactionHash\r\n                }`,\r\n              });\r\n            });\r\n    });\r\n  }\r\n};\r\nif (state.sender === undefined) {\r\n  const accounts = Ethers.send(\"eth_requestAccounts\", []);\r\n  console.log(\"accounts:\", accounts, state.sender);\r\n  if (accounts.length) {\r\n    State.update({ sender: accounts[0] });\r\n    Ethers.provider()\r\n      .getNetwork()\r\n      .then((data) => {\r\n        State.update({\r\n          selectedChain: data.chainId,\r\n        });\r\n      });\r\n  }\r\n\r\n  console.log(\"in between\", state.sender);\r\n\r\n  State.update({\r\n    selectedChain: \"0\",\r\n  });\r\n}\r\nState.init({\r\n  title: \"\",\r\n  description: \"\",\r\n  recipient: \"\",\r\n  isSoulBound: false,\r\n  showAlert: false,\r\n  toastMessage: \"\",\r\n  selectIsOpen: false,\r\n});\r\n\r\n//select tag\r\nconst handleSelectClick = () => {\r\n  State.update({\r\n    selectIsOpen: !state.selectIsOpen,\r\n  });\r\n};\r\n\r\n// const handleOptionClick = (option) => {\r\n//   setSelectedOption(option);\r\n//   setIsOpen(false);\r\n// };\r\n\r\nconst handleOutsideClick = (e) => {\r\n  if (!e.target.closest(\".select-replica__select\")) {\r\n    State.update({\r\n      selectIsOpen: false,\r\n    });\r\n  }\r\n};\r\n\r\nconst onChangeTitle = (title) => {\r\n  console.log(\"go daddy\", state.recipient);\r\n  State.update({\r\n    title,\r\n  });\r\n};\r\n\r\nconst data = Social.keys(\"*/profile\", \"final\");\r\n\r\nif (!data) {\r\n  return \"Loading\";\r\n}\r\n\r\nconst accounts = Object.entries(data);\r\n\r\nconst allWidgets = [];\r\n\r\nfor (let i = 0; i < accounts.length; ++i) {\r\n  const accountId = accounts[i][0];\r\n  allWidgets.push(accountId);\r\n}\r\n\r\nconst onChangeRecipient = (recipient) => {\r\n  state.selectedChain === \"0\"\r\n    ? State.update({\r\n        recipient: recipient[0],\r\n      })\r\n    : State.update({\r\n        recipient,\r\n      });\r\n};\r\n\r\nconst handleChainChange = (chain_id) => {\r\n  console.log(\r\n    \"get what we doing:\",\r\n    chain_id || \"no value from event?\",\r\n    chain_id == \"0\",\r\n    !accountId\r\n  );\r\n  if (chain_id == \"0\") {\r\n    if (!accountId) {\r\n      console.log(\"not what we thought,:\", accountId);\r\n      State.update({\r\n        showAlert: true,\r\n        toastMessage: \"Please log in before continuing\",\r\n      });\r\n      return;\r\n    }\r\n    State.update({\r\n      selectedChain: chain_id,\r\n    });\r\n  }\r\n  console.log(\"encts here\", Ethers.send);\r\n  Ethers.send(\"wallet_switchEthereumChain\", [\r\n    {\r\n      chainId: \"0x\" + Number(chain_id).toString(16),\r\n    },\r\n  ]).then((data) => console.log(\"done!!!\", data));\r\n  console.log(\"what happens after\");\r\n  State.update({\r\n    selectedChain: chain_id,\r\n  });\r\n  console.log(\"afters\", state.selectedChain);\r\n};\r\n\r\nconst onChangeDesc = (description) => {\r\n  console.log(\"Log ciritcal critics:\", state.selectedChain, state.title);\r\n  State.update({\r\n    description,\r\n  });\r\n};\r\n\r\nconst handleToggle = () => {\r\n  State.update({\r\n    isSoulBound: !state.isSoulBound,\r\n  });\r\n};\r\n// if (state.sender === undefined) {\r\n//   console.log(\"of course it's undefined\", ethers);\r\n//   const accounts = Ethers.send(\"eth_requestAccounts\", []);\r\n//   console.log(\"account\", accounts);\r\n//   if (accounts.length) {\r\n//     State.update({ sender: accounts[0] });\r\n//     console.log(\"set sender\", accounts[0]);\r\n//   }\r\n// }\r\n\r\nconst Heading = styled.p`\r\n  margin: 3px auto 3px auto;\r\n  font-size: 1em;\r\n  color:#0f1d40;\r\n  line-height:2.1rem;\r\n  width:60%;\r\n  text-align: center;\r\n  font-family: \"SF Pro Display\",sans-serif;\r\n`;\r\n\r\nconst ImageUploadCard = styled.div`\r\ndisplay:flex;\r\nflex-flow: column nowrap;\r\nalign-items: center;\r\n  width:80%;\r\n  border: 2px dashed #0d99ff;\r\n  border-radius: 1rem;\r\n  box-shadow: 4px 4px 20px 6px rgba(0,0,0,.2);\r\n  margin:30px auto;\r\n  padding:1.5rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst Main = styled.div`\r\n  display: grid;\r\n  gap: 3rem;\r\n  align-content:center;\r\n  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));\r\n  justify-content: center;\r\n  // background: linear-gradient(180deg,#e4f1fb,hsla(0,0%,85.1%,0));\r\n  margin-top: 5px;\r\n  width:100%;\r\n  padding: 1rem;\r\n`;\r\n\r\nconst Text = styled.p`\r\nfont-size: .9rem;\r\ncolor: #525c76;\r\nline-height:1.rem;\r\nmargin: 3px;\r\n`;\r\n\r\nconst Elipse = styled.div`\r\nbackground-color:#dff3f9;\r\nheight: 100px;\r\nwidth: 100px;\r\nborder-radius: 50%;\r\n`;\r\n\r\nconst Card = styled.div`\r\npadding: 1em;\r\nborder: 1px solid #e5e8eb;\r\ngap: 2em;\r\nmargin: 10px auto;\r\nborder-radius: .7em;\r\n& input{\r\n  display: block;\r\n  padding:.5em;\r\n  width:100%;\r\n  border: 1px solid #e5e8eb;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  background: #f4f5f6;\r\n  color: #525c76;\r\n  :focus{\r\n  box-shadow:none;\r\n    border:1px solid #0d99ff;\r\n  }\r\n  &::placeholder {\r\n    color: palevioletred;\r\n  }\r\n  }\r\n`;\r\n\r\nconst ImageCard = styled.div`\r\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\r\n  height:100%;\r\n  max-height:100%;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  border-radius: 1rem;\r\n  &>img{\r\n  object-fit: cover;\r\n  width: 100%;\r\n  height: 100%;\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  display: block;\r\n  padding:.5em;\r\n  width:100%;\r\n  border: 1px solid #e5e8eb;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  background: #f4f5f6;\r\n  color: #525c76;\r\n  :focus{\r\n    border:1px solid #0d99ff;\r\n  }\r\n  ::placeholder {\r\n    color: palevioletred;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  display: block;\r\n  padding:.5em;\r\n  width:100%;\r\n  border: 1px solid #e5e8eb;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  background: #f4f5f6;\r\n  color: #525c76;\r\n  :focus{\r\n    border:1px solid #0d99ff;\r\n  }\r\n`;\r\n\r\nconst SelectTag = styled.select`\r\n  height: fit-content;\r\n  width: 300px;\r\n`;\r\n\r\nconst ChainIcon = styled.option`\r\n  display: flex;\r\n  height: 130px;\r\n  padding: 1rem auto;\r\n  &>img{\r\n    height:100px;\r\n    width: 100px;\r\n    object-fit: contain;\r\n  }\r\n`;\r\n\r\nconst SelectReplicaContainer = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n  background-color: #fff;\r\n  z-index: 1;\r\n  & .select-replica__select {\r\n    position: relative;\r\n  }\r\n\r\n  & .select-replica__selected {\r\n    cursor: pointer;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    // padding: 3px;\r\n    border: 1px solid #ccc;\r\n    gap: 10px;\r\n    border-radius: 4px;\r\n    background-color: #fff;\r\n    width: 200px;\r\n    & > img {\r\n      height: 100%;\r\n      width: 100px;\r\n      object-fit: contain;\r\n    }\r\n  }\r\n\r\n  & .select-replica__options {\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 0;\r\n    width: 100%;\r\n    /* height: fit-content; */\r\n    overflow-y: auto;\r\n    border: 1px solid #ccc;\r\n    border-top: none;\r\n    border-radius: 0 0 4px 4px;\r\n    background-color: #fff;\r\n    max-height: 250px;\r\n    display: none;\r\n  }\r\n\r\n  & .select-replica__options.open {\r\n    display: block;\r\n  }\r\n\r\n  & .select-replica__option {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    background-color: #fff;\r\n    padding: 3px;\r\n    border-bottom: 1px solid gray;\r\n  }\r\n\r\n  & .select-replica__option.selected {\r\n    background-color: #f0f0f0;\r\n  }\r\n\r\n  & .select-replica__option img {\r\n    height: 60px;\r\n    width: 100px;\r\n    object-fit: contain;\r\n  }\r\n`;\r\n\r\nconst SelectGroup = styled.div`\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  margin: 2rem auto;\r\n`;\r\n\r\nif (!(state.sender || accountId)) {\r\n  console.log(\"Please login here now\");\r\n  State.update({\r\n    showAlert: true,\r\n    toastMessage: \"Please Sign in or connect a wallet\",\r\n  });\r\n}\r\n\r\nconsole.log(\r\n  \"Here \ud83e\udd14 \" +\r\n    state.selectedChain +\r\n    \" \" +\r\n    chains\r\n      .filter((chain) => {\r\n        return state.selectedChain.toString() == chain.id;\r\n      })\r\n      .map((c) => c.url)\r\n);\r\n\r\nreturn (\r\n  <>\r\n    {state.showAlert && (\r\n      <Widget src=\"jgodwill.near/widget/genalert\" props={state} />\r\n    )}\r\n    <Heading className=\"text-center fs-2 fw-bold\">\r\n      Mint NFT on Multiple chains\r\n    </Heading>\r\n\r\n    <Main className=\"container-fluid\">\r\n      {!state.image.cid ? (\r\n        <div className=\"flex-grow-1\">\r\n          <Heading>\r\n            Upload an image to create an NFT any of our supported blockchains\r\n            super fast!\r\n          </Heading>\r\n          <ImageUploadCard className=\"flex-grow-1\">\r\n            <Elipse />\r\n            {accountId || Ethers.provider() ? (\r\n              <>\r\n                <IpfsImageUpload\r\n                  image={state.image}\r\n                  className=\"btn text-decoration-none link-primary pe-auto\"\r\n                />\r\n                <div>\r\n                  <Text>\r\n                    We support .jpg, .jpeg, .png, .webp, .gif files and deploy\r\n                    to Celo, Algorand, Near, and Polygon\r\n                  </Text>\r\n                  <Text>Max file size: 20mb</Text>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <Card>\r\n                {state.sender && Ethers.provider() ? (\r\n                  <SelectGroup className=\"form-group\">\r\n                    <label htmlFor=\"chainSelect\">Select Chain</label>\r\n                    {/*<select\r\n                    className=\"form-select\"\r\n                    value={state.selectedChain}\r\n                    onChange={handleChainChange}\r\n                  >\r\n                    {chains.map((chain) => (\r\n                      <ChainIcon key={chain.id} value={chain.id}>\r\n                        {chain.name}\r\n                      </ChainIcon>\r\n                    ))}\r\n                  </select>*/}\r\n                    <SelectReplicaContainer onClick={handleOutsideClick}>\r\n                      <div\r\n                        className={`select-replica__select ${\r\n                          state.selectIsOpen ? \"open\" : \"\"\r\n                        }`}\r\n                        onClick={handleSelectClick}\r\n                      >\r\n                        <div className=\"select-replica__selected\">\r\n                          {chains.filter(\r\n                            (chain) =>\r\n                              chain.id === state.selectedChain.toString()\r\n                          ) ? (\r\n                            <img\r\n                              src={chains\r\n                                .filter(\r\n                                  (chain) =>\r\n                                    chain.id === state.selectedChain.toString()\r\n                                )\r\n                                .map((c) => c.url)}\r\n                              alt={chains\r\n                                .filter(\r\n                                  (chain) =>\r\n                                    chain.id === state.selectedChain.toString()\r\n                                )\r\n                                .map((c) => c.name)}\r\n                            />\r\n                          ) : (\r\n                            \"Select an option\"\r\n                          )}\r\n                          <span>\ud83d\udd3b</span>\r\n                        </div>\r\n                        <div\r\n                          className={`select-replica__options ${\r\n                            state.selectIsOpen ? \"open\" : \"\"\r\n                          }`}\r\n                        >\r\n                          {chains.map((chain) => (\r\n                            <div\r\n                              key={chain.id}\r\n                              className={`select-replica__option ${\r\n                                selectedOption === chain.name ? \"selected\" : \"\"\r\n                              }`}\r\n                              onClick={() => handleChainChange(chain.id)}\r\n                            >\r\n                              <img src={chain.url} alt={chain.name} />\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </SelectReplicaContainer>\r\n                    {state.link && (\r\n                      <a href={`${state.link}`} target=\"_blank\">\r\n                        View Transaction\r\n                      </a>\r\n                    )}\r\n                  </SelectGroup>\r\n                ) : accountId ? (\r\n                  <SelectGroup>\r\n                    <label htmlFor=\"chainSelect\">Select Chain</label>\r\n                    {/*<SelectTag\r\n                    className=\"form-select\"\r\n                    value={state.selectedChain}\r\n                    onChange={handleChainChange}\r\n                  >\r\n                    <option disabled selected>\r\n                      Select a Chain\r\n                    </option>\r\n                    {chains.map((chain) => (\r\n                      <ChainIcon key={chain.id} value={chain.id}>\r\n                        <span>{chain.name}</span>\r\n                      </ChainIcon>\r\n                    ))}\r\n                  </SelectTag>*/}\r\n                    <SelectReplicaContainer onClick={handleOutsideClick}>\r\n                      <div\r\n                        className={`select-replica__select ${\r\n                          state.selectIsOpen ? \"open\" : \"\"\r\n                        }`}\r\n                        onClick={handleSelectClick}\r\n                      >\r\n                        <div className=\"select-replica__selected\">\r\n                          {chains.filter(\r\n                            (chain) =>\r\n                              chain.id === state.selectedChain.toString()\r\n                          ) ? (\r\n                            <img\r\n                              src={chains\r\n                                .filter(\r\n                                  (chain) =>\r\n                                    chain.id === state.selectedChain.toString()\r\n                                )\r\n                                .map((c) => c.url)}\r\n                              alt={chains\r\n                                .filter(\r\n                                  (chain) =>\r\n                                    chain.id === state.selectedChain.toString()\r\n                                )\r\n                                .map((c) => c.name)}\r\n                            />\r\n                          ) : (\r\n                            \"Select an option\"\r\n                          )}\r\n                          <span>\ud83d\udd3b</span>\r\n                        </div>\r\n                        <div\r\n                          className={`select-replica__options ${\r\n                            state.selectIsOpen ? \"open\" : \"\"\r\n                          }`}\r\n                        >\r\n                          {chains.map((chain) => (\r\n                            <div\r\n                              key={chain.id}\r\n                              className={`select-replica__option ${\r\n                                selectedOption === chain.name ? \"selected\" : \"\"\r\n                              }`}\r\n                              onClick={() => handleChainChange(chain.id)}\r\n                            >\r\n                              <img src={chain.url} alt={chain.name} />\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </SelectReplicaContainer>\r\n                    <div>\r\n                      <Web3Connect\r\n                        className=\"btn mt-3\"\r\n                        connectLabel=\"Connect with Ethereum Wallet\"\r\n                      />\r\n                    </div>\r\n                  </SelectGroup>\r\n                ) : (\r\n                  <Web3Connect\r\n                    className=\"btn mt-3\"\r\n                    connectLabel=\"Connect with Wallet\"\r\n                  />\r\n                )}\r\n              </Card>\r\n            )}\r\n          </ImageUploadCard>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Card className=\"d-flex flex-column align-items-center w-100\">\r\n            <div>\r\n              <IpfsImageUpload\r\n                image={state.image}\r\n                className=\"btn btn-outline-primary border-0 rounded-3\"\r\n              />\r\n            </div>\r\n            <ImageCard>\r\n              <img\r\n                src={`https://ipfs.io/ipfs/` + state.image.cid}\r\n                alt=\"uploaded image\"\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                className=\"rounded-3\"\r\n              />\r\n            </ImageCard>\r\n          </Card>\r\n          <div>\r\n            <Card>\r\n              {state.sender && Ethers.provider() ? (\r\n                <SelectGroup className=\"form-group\">\r\n                  <label htmlFor=\"chainSelect\">Select Chain</label>\r\n                  {/*<select\r\n                    className=\"form-select\"\r\n                    value={state.selectedChain}\r\n                    onChange={handleChainChange}\r\n                  >\r\n                    {chains.map((chain) => (\r\n                      <ChainIcon key={chain.id} value={chain.id}>\r\n                        {chain.name}\r\n                      </ChainIcon>\r\n                    ))}\r\n                  </select>*/}\r\n                  <SelectReplicaContainer onClick={handleOutsideClick}>\r\n                    <div\r\n                      className={`select-replica__select ${\r\n                        state.selectIsOpen ? \"open\" : \"\"\r\n                      }`}\r\n                      onClick={handleSelectClick}\r\n                    >\r\n                      <div className=\"select-replica__selected\">\r\n                        {chains.filter(\r\n                          (chain) => chain.id === state.selectedChain.toString()\r\n                        ) ? (\r\n                          <img\r\n                            src={chains\r\n                              .filter(\r\n                                (chain) =>\r\n                                  chain.id === state.selectedChain.toString()\r\n                              )\r\n                              .map((c) => c.url)}\r\n                            alt={chains\r\n                              .filter(\r\n                                (chain) =>\r\n                                  chain.id === state.selectedChain.toString()\r\n                              )\r\n                              .map((c) => c.name)}\r\n                          />\r\n                        ) : (\r\n                          \"Select an option\"\r\n                        )}\r\n                        <span>\ud83d\udd3b</span>\r\n                      </div>\r\n                      <div\r\n                        className={`select-replica__options ${\r\n                          state.selectIsOpen ? \"open\" : \"\"\r\n                        }`}\r\n                      >\r\n                        {chains.map((chain) => (\r\n                          <div\r\n                            key={chain.id}\r\n                            className={`select-replica__option ${\r\n                              selectedOption === chain.name ? \"selected\" : \"\"\r\n                            }`}\r\n                            onClick={() => handleChainChange(chain.id)}\r\n                          >\r\n                            <img src={chain.url} alt={chain.name} />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </SelectReplicaContainer>\r\n                  {state.link && (\r\n                    <a href={`${state.link}`} target=\"_blank\">\r\n                      View Transaction\r\n                    </a>\r\n                  )}\r\n                </SelectGroup>\r\n              ) : accountId ? (\r\n                <SelectGroup>\r\n                  <label htmlFor=\"chainSelect\">Select Chain</label>\r\n                  {/*<SelectTag\r\n                    className=\"form-select\"\r\n                    value={state.selectedChain}\r\n                    onChange={handleChainChange}\r\n                  >\r\n                    <option disabled selected>\r\n                      Select a Chain\r\n                    </option>\r\n                    {chains.map((chain) => (\r\n                      <ChainIcon key={chain.id} value={chain.id}>\r\n                        <span>{chain.name}</span>\r\n                      </ChainIcon>\r\n                    ))}\r\n                  </SelectTag>*/}\r\n                  <SelectReplicaContainer onClick={handleOutsideClick}>\r\n                    <div\r\n                      className={`select-replica__select ${\r\n                        state.selectIsOpen ? \"open\" : \"\"\r\n                      }`}\r\n                      onClick={handleSelectClick}\r\n                    >\r\n                      <div className=\"select-replica__selected\">\r\n                        {chains.filter(\r\n                          (chain) => chain.id === state.selectedChain.toString()\r\n                        ) ? (\r\n                          <img\r\n                            src={chains\r\n                              .filter(\r\n                                (chain) =>\r\n                                  chain.id === state.selectedChain.toString()\r\n                              )\r\n                              .map((c) => c.url)}\r\n                            alt={chains\r\n                              .filter(\r\n                                (chain) =>\r\n                                  chain.id === state.selectedChain.toString()\r\n                              )\r\n                              .map((c) => c.name)}\r\n                          />\r\n                        ) : (\r\n                          \"Select an option\"\r\n                        )}\r\n                        <span>\ud83d\udd3b</span>\r\n                      </div>\r\n                      <div\r\n                        className={`select-replica__options ${\r\n                          state.selectIsOpen ? \"open\" : \"\"\r\n                        }`}\r\n                      >\r\n                        {chains.map((chain) => (\r\n                          <div\r\n                            key={chain.id}\r\n                            className={`select-replica__option ${\r\n                              selectedOption === chain.name ? \"selected\" : \"\"\r\n                            }`}\r\n                            onClick={() => handleChainChange(chain.id)}\r\n                          >\r\n                            <img src={chain.url} alt={chain.name} />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </SelectReplicaContainer>\r\n                  <div>\r\n                    <Web3Connect\r\n                      className=\"btn mt-3\"\r\n                      connectLabel=\"Connect with Ethereum Wallet\"\r\n                    />\r\n                  </div>\r\n                </SelectGroup>\r\n              ) : (\r\n                <Web3Connect\r\n                  className=\"btn mt-3\"\r\n                  connectLabel=\"Connect with Wallet\"\r\n                />\r\n              )}\r\n            </Card>\r\n            <div>\r\n              <p>SoulBound: {state.isSoulBound ? \"Enabled\" : \"Disabled\"}</p>\r\n              <button onClick={handleToggle}>\r\n                {state.isSoulBound ? \"Disable\" : \"Enable\"}\r\n              </button>\r\n            </div>\r\n            <Card>\r\n              <Card>\r\n                Title:\r\n                <Input\r\n                  type=\"text\"\r\n                  value={state.title || \"\"}\r\n                  onChange={(e) => onChangeTitle(e.target.value)}\r\n                />\r\n              </Card>\r\n              <Card>\r\n                Description:\r\n                <TextArea\r\n                  type=\"text\"\r\n                  value={state.description || \"\"}\r\n                  onChange={(e) => onChangeDesc(e.target.value)}\r\n                />\r\n              </Card>\r\n              <Card>\r\n                Mint To:\r\n                {state.selectedChain !== \"0\" ? (\r\n                  <Input\r\n                    type=\"text\"\r\n                    placeholder={\r\n                      state.selectedChain == \"0\" ? accountId : state.sender\r\n                    }\r\n                    value={state.recipient}\r\n                    onChange={(e) => onChangeRecipient(e.target.value)}\r\n                  />\r\n                ) : (\r\n                  <Typeahead\r\n                    id=\"async-example\"\r\n                    className=\"type-ahead\"\r\n                    isLoading={isLoading}\r\n                    labelKey=\"search\"\r\n                    minLength={1}\r\n                    options={allWidgets}\r\n                    onChange={(value) => onChangeRecipient(value)}\r\n                    placeholder={\r\n                      state.selectedChain == \"0\" ? accountId : state.sender\r\n                    }\r\n                  />\r\n                )}\r\n              </Card>\r\n            </Card>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary d-flex flex-column align-items-center mx-auto\"\r\n              onClick={handleMint}\r\n            >\r\n              Mint to {contractAddresses[state.selectedChain][1]}\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Main>\r\n    <h4 className=\"text-center mt-5\">\r\n      \ud83d\udca7\r\n      <a href=\"https://genadrop.io\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n        GenaDrop\r\n      </a>\r\n      <Widget\r\n        src=\"miraclx.near/widget/Attribution\"\r\n        props={{ authors: [ownerId], dep: true }}\r\n      />\r\n    </h4>\r\n  </>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/0xprometheus.near/widget/GenaDrop.MultiChainMinter", "__row_index": 4}
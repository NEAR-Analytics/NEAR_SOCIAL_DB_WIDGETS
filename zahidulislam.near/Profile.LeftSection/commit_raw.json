{"tx_hash": "HLw22QVC5Nz3QKvnw4jyUhQ4DrvFYfmU11jYPWrYjhLi", "action_id_social": "EwyYpxWVruGYMuAoH7XE5GZQHXk8kk9Ay7JeyaEJRScs-0-widget", "block_id": 86498581, "block_timestamp": "2023-03-04 00:01:26.643", "signer_id": "zahidulislam.near", "widget_name": "Profile.LeftSection", "source_code": "const accountId = props.accountId || context.accountId;\n\nif (!accountId) return \"Login or send accountId in the props\";\n\nconst profile = Social.getr(`${accountId}/profile`);\n\nconst name = profile?.name;\nconst image = profile?.image;\n\nconst url = image.ipfs_cid\n  ? `https://ipfs.near.social/ipfs/${image?.ipfs_cid}`\n  : \"https://thewiki.io/static/media/sasha_anon.6ba19561.png\";\n\nconst cssFont = fetch(\n  \"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap\"\n).body;\n\nconst css = fetch(\n  \"https://raw.githubusercontent.com/cryptosynk/near-social-profile/main/css/mainLight.css\"\n).body;\n\nconst Theme = styled.div`\n  font-family: \"Open Sans\", sans-serif;\n  ${cssFont}\n  ${css}\n`;\n\nif (!cssFont || !css) return \"Loading fonts & css\";\n\nState.init({\n  showEditProfile: false,\n});\n\nreturn (\n  <Theme>\n    <div className=\"leftSection\">\n      <div>\n        <div>\n          <img className=\"profileImage\" src={url} alt=\"profile\" />\n          <div style={{ paddingBlock: 10 }}>\n            <h2>{name}</h2>\n            <p>@{accountId}</p>\n          </div>\n        </div>\n\n        <p className=\"description\">{profile?.description}</p>\n      </div>\n\n      {state.showEditProfile ? (\n        <>\n          <Widget\n            src=\"zahidulislam.near/widget/Profile.Editor\"\n            props={{ showEditProfile }}\n          />\n\n          <button\n            style={{ marginBottom: 20 }}\n            onClick={() => {\n              State.update({\n                showEditProfile: false,\n              });\n            }}\n          >\n            Cancel\n          </button>\n        </>\n      ) : (\n        <>\n          <Widget\n            src=\"zahidulislam.near/widget/Profile.SocialLinks\"\n            props={{ profile }}\n          />\n          <button\n            onClick={() => {\n              State.update({\n                showEditProfile: true,\n              });\n            }}\n          >\n            Edit Profile\n          </button>\n\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n            <Widget\n              src=\"zahidulislam.near/widget/Profile.IconButton\"\n              props={{\n                icon: \"https://cdn-icons-png.flaticon.com/512/681/681494.png\",\n                label: `${profile.followers.length ?? 0} followers \u00b7 ${\n                  profile.followings.length ?? 0\n                } following`,\n              }}\n            />\n\n            <Widget\n              src=\"zahidulislam.near/widget/Profile.IconButton\"\n              props={{\n                icon: \"https://cdn-icons-png.flaticon.com/512/3179/3179068.png\",\n                label: profile?.location ?? \"Add Location\",\n              }}\n            />\n          </div>\n        </>\n      )}\n    </div>\n  </Theme>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zahidulislam.near/widget/Profile.LeftSection"}
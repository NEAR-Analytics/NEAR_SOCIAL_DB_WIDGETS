{"tx_hash": "Hd8uhGSPmHD1zi4cRECVSxE3T8Bqry6wxbBWYdNENpjr", "action_id_social": "CMfVUmTon5BNesaPNQg6LeettcaQk6jAkoVSX3jAbgf5-0-widget", "block_id": 83920569, "block_timestamp": "2023-01-27 15:21:43.907", "signer_id": "silkking.near", "widget_name": "newAnswerInterface", "source_code": "/********** Start initialization ************/\r\n\r\nState.init({ profile: {} });\r\n\r\nlet profile = Social.getr(`${props.accountId}/profile`);\r\nif (JSON.stringify(profile) != JSON.stringify(state.profile)) {\r\n  State.update({ profile: profile });\r\n}\r\nif (state.profile == {}) {\r\n  return \"Loading\";\r\n}\r\n\r\nlet amountOfQuestionsByThisUser = 0;\r\nfor (let i = 0; i < props.allUsersQuestions.length; i++) {\r\n  if (props.allUsersQuestions[i].accountId == props.accountId) {\r\n    amountOfQuestionsByThisUser++;\r\n  }\r\n}\r\n\r\n/********** End initialization ************/\r\n\r\n/********** Start constants ************/\r\n/********** End constants ************/\r\n\r\n/********** Start styles ************/\r\n/********** End styles ************/\r\n\r\n/********** Start functions ************/\r\n\r\nfunction makeAccountIdShorter(accountId) {\r\n  if (accountId.length > 12) {\r\n    return accountId.slice(0, 12) + \"...\";\r\n  }\r\n  return accountId;\r\n}\r\n\r\n/********** End functions ************/\r\n\r\n/********** Start components ************/\r\n/********** End components ************/\r\n\r\nreturn (\r\n  <div className=\"d-flex justify-content-between w-100\">\r\n    <a\r\n      className=\"d-flex\"\r\n      href={`https://near.social/#/mob.near/widget/ProfilePage?accountId=${props.accountId}`}\r\n      style={{ color: \"#010A2D\" }}\r\n    >\r\n      {profile ? (\r\n        <Widget\r\n          src=\"mob.near/widget/ProfileImage\"\r\n          props={{\r\n            profile,\r\n            accountId: props.accountId,\r\n            className: \"float-start d-inline-block me-2\",\r\n          }}\r\n        />\r\n      ) : (\r\n        <div className=\"d-flex\">\r\n          <div\r\n            className=\"profile-image d-inline-block\"\r\n            style={{ width: \"3em\", height: \"3em\" }}\r\n          >\r\n            <img\r\n              className=\"rounded w-100 h-100\"\r\n              src=\"https://i.near.social/thumbnail/https://ipfs.near.social/ipfs/bafkreibmiy4ozblcgv3fm3gc6q62s55em33vconbavfd2ekkuliznaq3zm\"\r\n              alt={props.accountId}\r\n              style={{ objectFit: \"cover\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div style={{ marginLeft: \"1rem\" }}>\r\n        <p\r\n          style={{\r\n            margin: \"0\",\r\n            fontWeight: \"700\",\r\n            fontSize: \"1.2rem\",\r\n            textDecotarion: \"none\",\r\n          }}\r\n        >\r\n          {profile == {}\r\n            ? \"Loading\"\r\n            : profile != undefined\r\n            ? makeAccountIdShorter(profile.name)\r\n            : makeAccountIdShorter(props.accountId)}\r\n        </p>\r\n        <p\r\n          className=\"text-secondary\"\r\n          style={{ margin: \"0\", textDecotarion: \"none\" }}\r\n        >\r\n          {makeAccountIdShorter(props.accountId)}\r\n        </p>\r\n      </div>\r\n    </a>\r\n    <p className=\"text-secondary\">Total: {amountOfQuestionsByThisUser}</p>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/silkking.near/widget/newAnswerInterface"}
{"tx_hash": "Ge2VtZcE6o4XG3tYi5FciWFBGUGyW7t8YSY8T19GwdAD", "action_id_social": "ByQ3HaHvDW3LYtqHzphii9gDMj9mBSFd9sXFw2n2n2KJ-0-widget", "block_id": 80336429, "block_timestamp": "2022-12-10 13:09:03.961", "signer_id": "silkking.near", "widget_name": "showAnswersHandler", "source_code": "const displayAnswerWidgetNames = [\n  \"newTextAnswerInterface\",\n  \"newMiniMultipleChoiceInterface\",\n];\n\nconst questions = Social.index(\"poll_question\", \"question-v3.0.1\");\n\n//You have to use social.index to get all the questions and then process it to get something like the next array of objects.\nconst mockQuestions = [\n  {\n    accountId: \"silkking.near\",\n    blockHeight: 80293871,\n    value: {\n      isDraft: false,\n      title: \"Test\",\n      description: \"Description test\",\n      startTimestamp: 1670628600000,\n      endTimestamp: 1671580800000,\n      questionType: \"0\",\n      question: \"Why do you think this widget is cool?\",\n      choicesOptions: [],\n      timestamp: 1670628584974,\n    },\n  },\n];\n\n// [\n//   {\n//     title: \"Multiple choice test\",\n//     tgLink: \"\",\n//     accountId:\n//       \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\n//     choicesOptions: [\"a\", \"b\", \"c\"],\n//     question: \"Testing multiple choice\",\n//     description: \"\",\n//     questionBlockHeight: 79932918,\n//     startDate: Date.now(),\n//     endDate: Date.now() + 10000000,\n//     storingTimestamp: Date.now(),\n//     questionType: \"1\",\n//     answers: [\n//       {\n//         accountId:\n//           \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\n//         answer: \"0\",\n//         timeStamp: Date.now(),\n//       },\n//     ],\n//   },\n//   {\n//     title: \"Text test\",\n//     tgLink: \"\",\n//     accountId:\n//       \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\n//     choicesOptions: [],\n//     question: \"Testing text\",\n//     description: \"\",\n//     questionBlockHeight: 79932900,\n//     startDate: Date.now(),\n//     endDate: Date.now() + 1000000000,\n//     storingTimestamp: Date.now(),\n//     questionType: \"0\",\n//     answers: [\n//       {\n//         accountId:\n//           \"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb\",\n//         answer: \"This is a test answer\",\n//         timeStamp: Date.now(),\n//       },\n//     ],\n//   },\n// ];\n\nconst renderQuestions = () => {\n  return questions.map((question) => {\n    return (\n      <div\n        className=\"my-5 py-3 px-4\"\n        style={{ backgroundColor: \"#f2f2f2\", borderRadius: \"1rem\" }}\n      >\n        <Widget\n          src=\"f2bc8abdb8ba64fe5aac9689ded9491ff0e6fdcd7a5c680b7cf364142d1789fb/widget/answersHeader\"\n          props={{ question: question }}\n        />\n        <Widget\n          src={`${props.accountId}/widget/${\n            displayAnswerWidgetNames[question.questionType]\n          }`}\n          props={{ question: question }}\n        />\n      </div>\n    );\n  });\n};\n\nreturn (\n  <div\n    style={{\n      borderRadius: \"3px\",\n      padding: \"8% 5% 1% 5%\",\n    }}\n  >\n    {renderQuestions()}\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/silkking.near/widget/showAnswersHandler"}
{"tx_hash": "9xYxVmfZ5RonCyMR22AjKLUVqfeETdQtSfYKrkW8LCzp", "action_id_social": "DEqZkXXXHSKXuXUEXvLZat8quByg7EGafZup2U1rS2CW-0-widget", "block_id": 92408837, "block_timestamp": "2023-05-21T23:50:06.404Z", "signer_id": "lord1.near", "widget_name": "Flipside-Home-page", "source_code": "const main = {};\r\nconst linkStyle = {\r\n  \"text-decoration\": \"none\",\r\n};\r\nconst time = {\r\n  float: \"right\",\r\n};\r\nconst like = {\r\n  border: \"2px solid  lightgray\",\r\n  \"border-radius\": \"1000px\",\r\n};\r\nconst toptip = {\r\n  \"font-size\": \"15px\",\r\n  padding: \"1.8%\",\r\n  float: \"right\",\r\n  color: \"#e7ad06\",\r\n  \"box-shadow\": \"0 0px 20px rgba(36, 6, 231, 0.2)\",\r\n  \"border-radius\": \"1000px\",\r\n  border: \"2px outset  #e7d106\",\r\n};\r\nconst avatar = {\r\n  \"border-radius\": \"13px\",\r\n  border: \"2px solid lightgray\",\r\n  width: \"20%\",\r\n  height: \"30%\",\r\n\r\n  \"@media (min-width: 400px)\": {\r\n    width: \"25%\",\r\n    height: \"35%\",\r\n  },\r\n  \"@media (min-width: 1000px)\": {\r\n    width: \"30%\",\r\n    height: \"40%\",\r\n  },\r\n};\r\n\r\nconst screen = {\r\n  \"border-radius\": \"13px\",\r\n  border: \"2px solid lightgray\",\r\n  width: \"100%\",\r\n  height: \"10%\",\r\n  \"box-shadow\": \"0 20px 20px rgba(128, 117, 226, 0.2)\",\r\n  minHeight: \"10%\",\r\n};\r\nconst box = {\r\n  height: \"280px\",\r\n  \"margin-top\": \"3.5%\",\r\n  float: \"left\",\r\n  padding: \"0.5%\",\r\n  \"@media (min-width: 1000px)\": {\r\n    height: \"380px\",\r\n  },\r\n};\r\nconst innerbox = {\r\n  \"box-shadow\": \"0 20px 20px rgba(128, 117, 226, 0.15)\",\r\n  \"font-size\": \"12px\",\r\n  \"border-top\": \"1px solid  lightgray\",\r\n  \"border-left\": \"1px solid  lightgray\",\r\n  \"border-right\": \"1px solid  lightgray\",\r\n\r\n  height: \"280px\",\r\n  padding: \"2%\",\r\n  \"border-radius\": \"13px\",\r\n  \"@media (min-width: 1000px)\": {\r\n    height: \"380px\",\r\n  },\r\n};\r\n\r\nconst insidebox = {\r\n  \"font-size\": \"15px\",\r\n  \"padding-bottom\": \"10px\",\r\n  \"border-radius\": \"13px\",\r\n  width: \"100%\",\r\n  \"max-height\": \"50%\",\r\n  \"margin-bottom\": \"10px\",\r\n};\r\nconst middlebox = {\r\n  \"font-size\": \"13px\",\r\n  \"border-radius\": \"13px\",\r\n  width: \"100%\",\r\n  \"max-height\": \"35%\",\r\n  \"margin-top\": \"10px\",\r\n  float: \"left\",\r\n  \"padding-top\": \"2.5%\",\r\n  \"padding-bottom\": \"0.5%\",\r\n};\r\nconst middownbox = {\r\n  \"font-size\": \"10px\",\r\n  color: \"lightgray\",\r\n  \"border-radius\": \"13px\",\r\n  width: \"100%\",\r\n  height: \"35px\",\r\n  \"margin-top\": \"0.5%\",\r\n  float: \"left\",\r\n  \"margin-bottom\": \"3%\",\r\n};\r\nconst downbox = {\r\n  \"font-size\": \"10px\",\r\n  width: \"100%\",\r\n  \"max-height\": \"5%\",\r\n  float: \"right\",\r\n};\r\n// header ------------------------------------------------------------------------------------------\r\nconst Gradient = styled.div`\r\n   {\r\n    margin-top: -25px;\r\n    margin-bottom: 25px;\r\n    height: 250px;\r\n    text-align: center;\r\n    background: radial-gradient(\r\n      circle,\r\n      rgba(29, 55, 57, 1) 30%,\r\n      rgba(24, 24, 24, 1) 80%\r\n    );\r\n\r\n    font-family: Arial, sans-serif;\r\n  }\r\n\r\n  .text-primary-gradient {\r\n    color: #53fdca;\r\n    -webkit-text-fill-color: transparent;\r\n    background-image: linear-gradient(#fc3fff, #789efb);\r\n    -webkit-background-clip: text;\r\n    background-clip: text;\r\n  }\r\n\r\n  .subtitle-above {\r\n    font-size: 18px;\r\n    letter-spacing: 1px;\r\n    font-family: Courier, monospace;\r\n  }\r\n\r\n  .subtitle-below {\r\n    font-size: 16px;\r\n  }\r\n\r\n  .slogan {\r\n    font-weight: 600;\r\n    font-size: 60px;\r\n  }\r\n`;\r\nlet header = (\r\n  <Gradient\r\n    className=\"d-flex flex-column justify-content-center\"\r\n    style={{ \"border-radius\": \"15px\", \"margin-top\": \"10px\" }}\r\n  >\r\n    <h1 class=\"mb-3 text-white slogan\">\r\n      <span>\r\n        <img\r\n          src=\"https://yt3.googleusercontent.com/zkArEwljuLKjF7S1rbXoyQWW1VC8QzgVzrFP7KKqOypFtSv0cKgIXbfOBdIFO3ZoBD_wJJUyyw=s900-c-k-c0x00ffffff-no-rj\"\r\n          style={{\r\n            width: \"80px\",\r\n            height: \"80px\",\r\n            \"box-shadow\": \"0 0px 20px rgba(1300, 60, 231, 20)\",\r\n            \"border-radius\": \"1000px\",\r\n          }}\r\n        ></img>\r\n      </span>\r\n      <span class=\"text-primary-gradient\">Flipside </span>Crypto\r\n    </h1>\r\n    <div class=\"subtitle-below text-white opacity-75\">\r\n      Access the most reliable blockchain data, for free. Discover analyses on\r\n      leading protocols from expert analysts.\r\n    </div>\r\n  </Gradient>\r\n);\r\n// header ------------------------------------------------------------------------------------------\r\n\r\n// button ------------------------------------------------------------------------------------------\r\n\r\nconst Container = styled.div`\r\n  .tabContent{\r\n    display:inline-flex;\r\n    align-items:center;\r\n    background: rgba(26, 46, 51, 0.25);\r\n    border: 1px solid rgba(255, 255, 255, 0.3);\r\n    border-radius: 50px;\r\n    padding:3px 4px;\r\n    list-style-type:none;\r\n  }\r\n  .tab-item .active{\r\n    background: #052119;\r\n  }\r\n  .tab-item button{\r\n    background-color:transparent;\r\n    border-radius: 50px;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    color:#fff;\r\n    height:45px;\r\n    padding:0px 22px;\r\n    border:none;\r\n              \r\n\r\n  }\r\n  .uploadButton .btn{\r\n    background: #052119;\r\n    border-radius: 50px;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    color:#fff;\r\n    border:none;\r\n\r\n  }\r\n  .title{\r\n     font-weight: 500;\r\n     font-size: 16px;\r\n     color: #FFFFFF;\r\n     margin-bottom:10px;\r\n\r\n   }\r\n   .form-input{\r\n     display:block;\r\n     background:  #052119;\r\n     border: 0.5px solid rgba(255, 255, 255, 0.3);\r\n     border-radius: 50px;\r\n     height: 47px;\r\n     width:100%;\r\n     color: white;\r\n     padding:0 20px\r\n     \r\n   }\r\n   .form-input:focus-visible{\r\n    outline:none;\r\n\r\n   }\r\n`;\r\n\r\nconst Tab = {\r\n  Trending: \"trending\",\r\n  New: \"new\",\r\n  Alltime: \"greatest\",\r\n};\r\n\r\nconst origTab = () =>\r\n  image.nft.contractId || image.nft.tokenId\r\n    ? Tab.New\r\n    : !image.ipfs_cid && image.url\r\n    ? Tab.Alltime\r\n    : Tab.Trending;\r\n\r\nState.init({\r\n  tab: origTab(),\r\n});\r\n\r\nconst setTab = (tab) => State.update({ tab });\r\n\r\nlet buttonbar = (\r\n  <Container>\r\n    <ul className=\"tabContent\">\r\n      <li className=\"tab-item\">\r\n        <button\r\n          className={`${state.tab === Tab.Trending ? \"active\" : \"\"}`}\r\n          aria-current=\"page\"\r\n          onClick={() => setTab(Tab.Trending)}\r\n        >\r\n          Trending\r\n        </button>\r\n      </li>\r\n      <li className=\"tab-item\">\r\n        <button\r\n          className={`${state.tab === Tab.New ? \"active\" : \"\"}`}\r\n          aria-current=\"page\"\r\n          onClick={() => setTab(Tab.New)}\r\n        >\r\n          New\r\n        </button>\r\n      </li>\r\n\r\n      <li className=\"tab-item\">\r\n        <button\r\n          className={`${state.tab === Tab.Alltime ? \"active\" : \"\"}`}\r\n          aria-current=\"page\"\r\n          onClick={() => setTab(Tab.Alltime)}\r\n        >\r\n          Alltime\r\n        </button>\r\n      </li>\r\n      <input\r\n        class=\"form-input\"\r\n        placeholder=\"Page Number\"\r\n        type=\"text\"\r\n        value={state.memo}\r\n      />\r\n    </ul>\r\n  </Container>\r\n);\r\n\r\n// page finder (number)\r\ninitState({ memo });\r\n\r\nconst dats = {\r\n  memo: parseInt(state.memo),\r\n};\r\nlet page;\r\nif (!dats.memo) {\r\n  page = 1;\r\n} else {\r\n  page = dats.memo;\r\n}\r\n\r\nlet pageto = page * 20 - 20;\r\n//  apifetch\r\n\r\nlet type = state.tab;\r\nconst data = fetch(\r\n  `https://flipsidecrypto.xyz/api/discover/get?d_sort=${type}&d_project=near&d_page=${page}`\r\n);\r\n\r\nlet tableRows = [];\r\nfor (let i = 0; i < data.body.dashboards.length; i++) {\r\n  const frank = data.body.dashboards[i];\r\n\r\n  //some avatarUrl are Null , so replace Nulls with the avatar below\r\n  let avatarUrl;\r\n  if (frank.avatarUrl) {\r\n    avatarUrl = frank.avatarUrl;\r\n  } else {\r\n    avatarUrl = \"https://s2.coinmarketcap.com/static/img/coins/64x64/6535.png\";\r\n  }\r\n  // shorten the title that are more than 28 char\r\n  let title;\r\n  if (frank.title.length > 28) {\r\n    title = frank.title.substring(0, 28) + \"...\";\r\n  } else {\r\n    title = frank.title;\r\n  }\r\n\r\n  // shorten the descriptions that are more than 70 char\r\n  let description;\r\n  if (frank.description.length > 70) {\r\n    description = frank.description.substring(0, 70) + \"...\";\r\n  } else if (frank.description.length < 1) {\r\n    description =\r\n      \"No description found, please open the dashboard to see more information.\";\r\n  } else {\r\n    description = frank.description;\r\n  }\r\n\r\n  // some screenshotUrl are Null, so replace the image below with Null\r\n  let screenshotUrl;\r\n  if (frank.screenshotUrl) {\r\n    screenshotUrl = frank.screenshotUrl;\r\n  } else {\r\n    screenshotUrl = \"https://i.postimg.cc/GtQ9pFK3/sdsdad.png\";\r\n  }\r\n\r\n  //some usernames are long, use this part to substring the first part and last part of usernames (4 first char+...+last 4 char)\r\n  let username;\r\n  if (frank.username.length > 15) {\r\n    username =\r\n      frank.username.substring(0, 4) + \"...\" + frank.username.substring(38, 42);\r\n  } else if (frank.username.length < 1) {\r\n    username =\r\n      \"No description found, please open the dashboard to see more information.\";\r\n  } else {\r\n    username = frank.username;\r\n  }\r\n\r\n  //make the Single digit to double digit (just for number < 10 )\r\n  let number;\r\n  if (i + pageto + 1 <= 9) {\r\n    number = \"0\" + (pageto + i + 1);\r\n  } else {\r\n    number = pageto + i + 1;\r\n  }\r\n\r\n  // turn data into (month + year) format\r\n  let date = new Date(frank.createdAt);\r\n  let monthNames = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ];\r\n  let month = monthNames[date.getMonth()];\r\n  let year = date.getFullYear();\r\n  let createdAt;\r\n  createdAt = month + \" \" + year;\r\n\r\n  tableRows.push(\r\n    <div style={box} class=\"col-md-3\">\r\n      <div style={innerbox}>\r\n        <div class=\"col\">\r\n          <div class=\"col-md-12\">\r\n            <th class=\"col-md-4\">\r\n              <tr scope=\"col\" style={{ height: \"50px\" }}>\r\n                <a\r\n                  style={linkStyle}\r\n                  href={`https://flipsidecrypto.xyz/${frank.username}`}\r\n                  target=\"_blank\"\r\n                >\r\n                  <span>\r\n                    <img style={avatar} src={`${avatarUrl}`}></img>\r\n                  </span>\r\n\r\n                  {username}\r\n                </a>\r\n                <span></span>\r\n                <span style={toptip}> {number}</span>\r\n              </tr>\r\n              <tr scope=\"col\" class=\"col-md-12\">\r\n                <img style={screen} src={`${screenshotUrl}`}></img>\r\n              </tr>\r\n            </th>\r\n          </div>\r\n          <th>\r\n            <tr scope=\"col\" style={middlebox}>\r\n              <a style={linkStyle} href={`${frank.url}`} target=\"_blank\">\r\n                {title}\r\n              </a>\r\n            </tr>\r\n          </th>\r\n          <th style={middownbox}>\r\n            <tr style={discription} scope=\"col\">\r\n              {description}\r\n            </tr>\r\n          </th>\r\n          <div style={downbox} class=\"container\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-4 \" style={like}>\r\n                <i>\ud83d\udc97 {parseInt(frank.totalLikes)}</i>\r\n              </div>\r\n\r\n              <div class=\"col-md-8\">\r\n                <i style={time}>{createdAt}</i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nlet tbl = (\r\n  <div class=\"table-responsive-sm\">\r\n    {pageNumber}\r\n    <tr>\r\n      <th>{tableRows}</th>\r\n    </tr>\r\n  </div>\r\n);\r\n\r\nreturn (\r\n  <div>\r\n    <div>{header}</div>\r\n    <div>{buttonbar}</div>\r\n    <div>{tbl}</div>\r\n    <div style={{ \"margin-top\": \"50px\", \"border-raduis-top\": \"15px\" }}>\r\n      <Widget src=\"lord1.near/widget/footer\" props={{}} />\r\n    </div>\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/lord1.near/widget/Flipside-Home-page", "__row_index": 0}
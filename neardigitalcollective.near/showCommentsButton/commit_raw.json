{"tx_hash": "2n11LeiYz79wfdnSHu5ByUZNU7LAqFmyMBHTonvLt5gk", "action_id_social": "2WYBjhLrFfmRpKfQxE9TeNygPCwvrjP1Ni3WPTnt88Xd-0-widget", "block_id": 88253079, "block_timestamp": "2023-03-27 20:41:06.612", "signer_id": "neardigitalcollective.near", "widget_name": "showCommentsButton", "source_code": "const thisWidgetInlineStyles = props.thisWidgetInlineStyles;\r\nconst thisWidgetClassNames = props.thisWidgetClassNames;\r\nconst fatherStateUpdate = props.fatherStateUpdate;\r\nconst showComments = props.showComments;\r\nconst d = props.d;\r\n\r\nState.init({\r\n  hoveringElement: \"\",\r\n});\r\n\r\nfunction getCaretDirection() {\r\n  return showComments\r\n    ? thisWidgetInlineStyles.renderKudoBox.flipButton\r\n    : { transition: \"transform 1s\" };\r\n}\r\n\r\nfunction getShowCommentsButtonContainerStyles() {\r\n  return state.hoveringElement == \"showCommentsButtonContainer\" || showComments\r\n    ? thisWidgetInlineStyles.renderKudoBox.hoveringShowCommentsButtonContainer\r\n    : thisWidgetInlineStyles.renderKudoBox.showCommentsButtonContainer;\r\n}\r\n\r\nreturn (\r\n  <div\r\n    className={thisWidgetClassNames.showCommentsButtonContainer}\r\n    style={getShowCommentsButtonContainerStyles()}\r\n    onMouseEnter={() => {\r\n      d.value.comments.length > 0 &&\r\n        State.update({ hoveringElement: \"showCommentsButtonContainer\" });\r\n    }}\r\n    onMouseLeave={() => {\r\n      d.value.comments.length > 0 && State.update({ hoveringElement: \"\" });\r\n    }}\r\n    onClick={() => {\r\n      d.value.comments.length > 0 &&\r\n        fatherStateUpdate({ showComments: !showComments });\r\n    }}\r\n  >\r\n    <p style={thisWidgetInlineStyles.renderKudoBox.textShowComment}>\r\n      {showComments\r\n        ? \"Hide comments\"\r\n        : d.value.comments.length > 0\r\n        ? \"Show comments\"\r\n        : \"No comments\"}\r\n    </p>\r\n    {d.value.comments.length > 0 && (\r\n      <div style={getCaretDirection()}>\r\n        <i className=\"bi bi-caret-down\"></i>\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/neardigitalcollective.near/widget/showCommentsButton"}
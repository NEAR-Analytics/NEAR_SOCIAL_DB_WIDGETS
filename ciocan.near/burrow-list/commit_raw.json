{"tx_hash": "7BG8KqYtSCmSU4PA7x2JRXNJcUKuDsfTY9ettbKxyj8J", "action_id_social": "AdnvaL4syph9F2mMUvJiN5XCs9wsZrEgzA1GBGF9KMEA-0-widget", "block_id": 85149914, "block_timestamp": "2023-02-13 15:40:46.701", "signer_id": "ciocan.near", "widget_name": "burrow-list", "source_code": "const toAPY = (v) => Math.round(v * 100) / 100;\n\nconst { assets, rewards } = state;\n\nconst hasData = assets.length > 0 && rewards.length > 0;\n\nconst onLoad = (data) => {\n  State.update(data);\n};\n\nconst allAssets = hasData\n  ? assets.map((asset) => {\n      const r = rewards.find((a) => a.token_id === asset.token_id);\n      const totalApy = r.apyBase + r.apyRewardTvl + r.apyReward;\n      console.log(asset);\n      const liquidity = asset.availableLiquidity;\n      return (\n        <tr>\n          <td>{asset.metadata.symbol}</td>\n          <td class=\"text-end\">{toAPY(totalApy)}%</td>\n          <td class=\"text-end\">{liquidity}</td>\n        </tr>\n      );\n    })\n  : undefined;\n\nreturn (\n  <div>\n    {!hasData && (\n      <Widget src=\"ciocan.near/widget/burrow-data\" props={{ onLoad }} />\n    )}\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Asset</th>\n          <th scope=\"col\" class=\"text-end\">\n            APY\n          </th>\n          <th scope=\"col\" class=\"text-end\">\n            Liquidity\n          </th>\n        </tr>\n      </thead>\n      <tbody>{allAssets}</tbody>\n    </table>\n  </div>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ciocan.near/widget/burrow-list", "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.burrow": NaN, "metadata.tags.widget": NaN}
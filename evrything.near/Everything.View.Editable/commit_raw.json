{"tx_hash": "HRqvTMqnPPMwySNKhMw2ucCkdpxSz6dSRjL49vPitS7r", "action_id_social": "HzwZGje7RFYkAh31zPykbZ6ppw36Yaku9Hj7Y3V5PZTS-0-widget", "block_id": 87603749, "block_timestamp": "2023-03-18 23:34:12.854", "signer_id": "evrything.near", "widget_name": "Everything.View.Editable", "source_code": "const ERROR_WIDGET = \"efiz.testnet/widget/Everything.Error\";\n\nconst Card = styled.div`\n    height: 180px;\n    background-color: white;\n    padding: 12px;\n    margin: 8px;\n    border-radius: 22px;\n    box-shadow: 5px 5px 5px gray;\n    border: solid gray;\n`;\n\nconst Icon = styled.div`\n    height: 24px;\n    width: 24px;\n`;\n\nconst Body = styled.div`\n    margin-left: 12px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n`;\n\nconst Content = styled.div`\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n`;\n\nconst Title = styled.div`\n    max-height: 56px;\n    font-size: 20px;\n    line-height: 28px;\n    overflow: hidden;\n    position: relative;\n    text-overflow: ellipsis;\n    white-space: normal;\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n`;\n\nconst Preview = styled.div`\n    font-size: 16px;\n    line-height: 20.8px;\n    color: #A6A6A6;\n    overflow: hidden;\n    position: relative;\n    text-overflow: ellipsis;\n    white-space: normal;\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n`;\n\nconst Caption = styled.div`\n    font-size: 12px;\n    line-height: 15.6px;\n    color: #A6A6A6;\n`;\n\nconst thingId = props.data.thingId;\n\nif (thingId === null) {\n  return (\n    <Widget\n      src={ERROR_WIDGET}\n      props={{\n        message: \"thing id was not provided.\",\n      }}\n    />\n  );\n}\n\nconst data = fetch(\"https://monkfish-app-ginhc.ondigitalocean.app/graphql\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  body: JSON.stringify({\n    query:\n      \"query findIdeaByThingId($thingId: ID) { findIdeas(thing: {id: {is: $thingId}}) { name, description { md }, creationDate } }\",\n    variables: {\n      thingId: thingId,\n    },\n  }),\n});\n\nif (data.body.errors) {\n  return (\n    <Widget\n      src={ERROR_WIDGET}\n      props={{\n        message: JSON.stringify(data.body.errors[0].message),\n      }}\n    />\n  );\n}\n\ndata = data.body.findIdeas[0];\n\nconst formatDate = (dateString) => {\n  const date = new Date(dateString);\n  const day = date.getDate().toString().padStart(2, \"0\");\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n  const year = date.getFullYear().toString();\n  return `${day}.${month}.${year}`;\n};\n\nreturn (\n  <Card>\n    <div className=\"d-flex flex-row h-100\">\n      <Icon>\n        <svg\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M21 22H3C2.59 22 2.25 21.66 2.25 21.25C2.25 20.84 2.59 20.5 3 20.5H21C21.41 20.5 21.75 20.84 21.75 21.25C21.75 21.66 21.41 22 21 22Z\"\n            fill=\"#292D32\"\n          />\n          <path\n            d=\"M19.02 3.47997C17.08 1.53997 15.18 1.48997 13.19 3.47997L11.98 4.68997C11.88 4.78997 11.84 4.94997 11.88 5.08997C12.64 7.73997 14.76 9.85997 17.41 10.62C17.45 10.63 17.49 10.64 17.53 10.64C17.64 10.64 17.74 10.6 17.82 10.52L19.02 9.30997C20.01 8.32997 20.49 7.37997 20.49 6.41997C20.5 5.42997 20.02 4.46997 19.02 3.47997Z\"\n            fill=\"#292D32\"\n          />\n          <path\n            d=\"M15.61 11.53C15.32 11.39 15.04 11.25 14.77 11.09C14.55 10.96 14.34 10.82 14.13 10.67C13.96 10.56 13.76 10.4 13.57 10.24C13.55 10.23 13.48 10.17 13.4 10.09C13.07 9.80999 12.7 9.44999 12.37 9.04999C12.34 9.02999 12.29 8.95999 12.22 8.86999C12.12 8.74999 11.95 8.54999 11.8 8.31999C11.68 8.16999 11.54 7.94999 11.41 7.72999C11.25 7.45999 11.11 7.18999 10.97 6.90999C10.9488 6.86459 10.9283 6.81943 10.9084 6.77452C10.7609 6.44121 10.3262 6.34376 10.0685 6.60152L4.34 12.33C4.21 12.46 4.09 12.71 4.06 12.88L3.52 16.71C3.42 17.39 3.61 18.03 4.03 18.46C4.39 18.81 4.89 19 5.43 19C5.55 19 5.67 18.99 5.79 18.97L9.63 18.43C9.81 18.4 10.06 18.28 10.18 18.15L15.9013 12.4287C16.1609 12.1691 16.0629 11.7237 15.7253 11.5796C15.6873 11.5634 15.6489 11.5469 15.61 11.53Z\"\n            fill=\"#292D32\"\n          />\n        </svg>\n      </Icon>\n      <Body>\n        <Content>\n          <Title>{data.name}</Title>\n          <Preview>\n            <Markdown text={data.description.md} />\n          </Preview>\n        </Content>\n        <Caption>{formatDate(data.creationDate)}</Caption>\n      </Body>\n    </div>\n  </Card>\n);\n", "metadata": null, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/evrything.near/widget/Everything.View.Editable", "branch.draft": NaN}
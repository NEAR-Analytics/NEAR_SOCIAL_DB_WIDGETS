{"tx_hash": "vDu3z9ZbYPbJN7wcmSRL4Q8Az6Gx3opmxYLwHDjo4ET", "action_id_social": "8C9V6oCGJMMXdiwzKSHaUDLXSNq1pvrMGjp1BD9k9CrN-1-widget", "block_id": 89348271, "block_timestamp": "2023-04-11 16:47:22.180", "signer_id": "evrything-docs.near", "widget_name": "Everything.Summary.Document", "source_code": "const Card = styled.div`\n  background-color: white;\n  padding: 12px;\n  margin: 8px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  box-shadow: 0 0 7px 0 #ddd;\n\n`;\nconst Header = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n`;\nconst Title = styled.div`\n    font-size: 24px;\n    line-height: 33.6px;\n`;\nconst Icon = styled.div`\n  height: 24px;\n  width: 24px;\n`;\nconst Body = styled.div`\n  margin-left: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 4px;\n`;\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\nconst Preview = styled.div`\n    font-size: 16px;\n    line-height: 20.8px;\n    color: #A6A6A6;\n    overflow: hidden;\n    position: relative;\n    text-overflow: ellipsis;\n    white-space: normal;\n    display: -webkit-box;\n    -webkit-line-clamp: 8;\n    -webkit-box-orient: vertical;\n`;\nconst Caption = styled.div`\n    font-size: 12px;\n    line-height: 15.6px;\n    color: #A6A6A6;\n`;\n\nconst thingId = props.data.thingId;\n\nif (thingId === null) {\n  return (\n    <Widget\n      src={ERROR_WIDGET}\n      props={{\n        message: \"thing id was not provided.\",\n      }}\n    />\n  );\n}\n\nconsole.log(thingId);\n\nconst data = fetch(\"https://monkfish-app-ginhc.ondigitalocean.app/graphql\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"X-Everything\": \"simple\",\n  },\n  body: JSON.stringify({\n    query:\n      \"query findDocumentById($is: String) { findDocuments(id: {is: $is}) { name, description { md }, creationDate } }\",\n    variables: {\n      thingId: thingId,\n    },\n  }),\n});\n\nif (data.body.errors) {\n  return (\n    <Widget\n      src={ERROR_WIDGET}\n      props={{\n        message: JSON.stringify(data.body.errors[0].message),\n      }}\n    />\n  );\n}\n\ndata = data.body.data.findDocuments[0];\n\nconst formatDate = (dateString) => {\n  const date = new Date(dateString);\n  const day = date.getDate().toString().padStart(2, \"0\");\n  const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n  const year = date.getFullYear().toString();\n  return `${day}.${month}.${year}`;\n};\n\nreturn (\n  <Card>\n    <div className=\"d-flex flex-row h-100\">\n      <Icon></Icon>\n      <Body>\n        <Content>\n          <Title>{data.name}</Title>\n        </Content>\n        <Caption>{formatDate(data.creationDate)}</Caption>\n      </Body>\n    </div>\n  </Card>\n);\n", "metadata": null, "widget_modules_used": null, "widget_url": "https://near.social/#/evrything-docs.near/widget/Everything.Summary.Document", "branch.draft.": NaN, "branch.draft.metadata": NaN, "branch": NaN}
{"tx_hash": "BuFGFAfWDBHoGJnDLrsabqe8hHhq6aUtXANYFZpDDSRc", "action_id_social": "Hqk3ipNTKUDB82E8SUHtXydsmzCkm4xR1t93PWqf6JSd-0-widget", "block_id": 84127858, "block_timestamp": "2023-01-30 11:43:58.899", "signer_id": "events_v1.near", "widget_name": "events__delete_event", "source_code": "props.controller.setLayout('modal', {\n  title: 'Delete Event',\n});\nconst EVENTS_CONTRACT = 'events_v1.near';\nconst TGAS_300 = '300000000000000';\n\nconst contract = EVENTS_CONTRACT;\nconst method = 'remove_event';\nconst args = {\n  event_id: props.event.id,\n};\nconst gas = TGAS_300;\nconst deposit = '0';\n\n// if state is inFlight and the appState is not set, then we returned from the call and can exit the screen\nif (\n  state &&\n  state.inFlight &&\n  !props.__engine.appStateGet(`delete_event_${props.event.id}`)\n) {\n  props.__engine.pop();\n  return 'Loading';\n}\n\nif (!state) {\n  console.log('init state');\n  State.init({ inFlight: null });\n  return 'Loading';\n}\n\nfunction callAction() {\n  if (state.inFlight) {\n    return;\n  }\n\n  Near.call(contract, method, args, gas, deposit);\n\n  props.__engine.appStateSet(`delete_event_${props.event.id}`, true);\n  State.update({ inFlight: true });\n}\n\ncallAction();\n\nreturn (\n  <>\n    <h2>Deleting Event</h2>\n    <pre>{JSON.stringify(state, null, 4)}</pre>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/events_v1.near/widget/events__delete_event"}
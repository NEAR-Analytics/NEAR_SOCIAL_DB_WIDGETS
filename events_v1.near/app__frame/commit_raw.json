{"tx_hash": "7pXTaQSwYxfJww72ZyMBAWztx5hh25YV6fog4Fo7VLu2", "action_id_social": "9VMdSBU6QjXkyviSBP8LU5BfNzpYJs3PexDKL9L8TZZi-0-widget", "block_id": 83777154, "block_timestamp": "2023-01-25 17:37:26.394", "signer_id": "events_v1.near", "widget_name": "app__frame", "source_code": "const APP_OWNER = 'events_v1.near';\nconst APP_NAME = 'events_app';\nconst EVENTS_CONTRACT = 'events_v1.near';\nconst ENTRY_ROUTE = 'index';\n\nconst accountId = context.accountId;\nif (!accountId) {\n  return 'Please connect your NEAR wallet to create an activity';\n}\n\nconst env = {\n  APP_OWNER,\n  APP_NAME,\n  EVENTS_CONTRACT,\n};\n\nState.init({\n  env,\n  route: {\n    name: ENTRY_ROUTE,\n    props: {},\n  },\n});\n\nif (!state) {\n  return 'Loading';\n}\n\nfunction slugFromName(name) {\n  return name.split(/\\.|\\//gu).join('__');\n}\n\nconst routeSlug = slugFromName(state.route.name);\n\nconst Select = styled.select`\n  background-color: #4caf50;\n  border: none;\n  color: white;\n  padding: 15px 32px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin: 4px 2px;\n  cursor: pointer;\n`;\n\nconst Button = styled.button`\n  background-color: #4caf50;\n  border: none;\n  color: white;\n  padding: 15px 32px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  transition: all 0.5s ease;\n\n  &:hover {\n    background-color: #3e8e41;\n  }\n`;\n\nconst rendering = {\n  renderComponent,\n  Components: {\n    Select,\n    Button,\n  },\n};\n\nconst routing = {\n  transitionTo,\n  currentRoute: state.route,\n};\n\nfunction transitionTo(name, props) {\n  State.set({\n    route: {\n      name,\n      props,\n    },\n  });\n}\n\nfunction renderComponent(name, props) {\n  return (\n    <Widget\n      src={`${APP_OWNER}/widget/${APP_NAME}__${slugFromName(name)}`}\n      props={{ ...props, routing, rendering }}\n    />\n  );\n}\n\nreturn (\n  <>\n    {/* main widget */}\n    <div\n      style={{\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden',\n        backgroundColor: 'red',\n      }}\n    >\n      {renderComponent(state.route.name, state.route.props)}\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/events_v1.near/widget/app__frame"}
{"tx_hash": "5BahtPsnfBxDBRZ1XSRvYbJwAnRvPBcyhYTmH94Zo3Jt", "action_id_social": "3Pj4duDJo12hagAjibrQsLTA9bTu18zdNGgBZGgbGbjg-0-widget", "block_id": 86836201, "block_timestamp": "2023-03-08 13:35:05.936", "signer_id": "32c298759f37a070bce4eaa0602c0e961682f2ec5c0a17d86d3b8dc2120be286", "widget_name": "Dashboard-Near-FS-Data", "source_code": "//I used Anton's widget and thanks to him\r\n//Anton Wallet : 0e7a82d0ef92b5559ef04df11f5de68ac4c4479319da5a72b3e2799c4717a422\r\n\r\nconst chart1Props = {\r\n  query:\r\n    \"select date_trunc(week,block_timestamp)::date as date,count(DISTINCT SIGNER_ID) as Active_user from near.social.fact_profile_changes group by 1 order by 1\",\r\n  title: \"The number of weekly active users of Near on near.social\",\r\n  chartWidth: 500,\r\n  chartHeight: 200,\r\n};\r\n\r\nconst chart2Props = {\r\n  query:\r\n    \"select date_trunc(week, first_d) as date,count(DISTINCT SIGNER_ID) as users from (select SIGNER_ID ,min(BLOCK_TIMESTAMP)::date as first_d from  near.social.fact_addkey_events  group by 1) group by 1\",\r\n  title: \"The number of weekly new users of Near on near.social\",\r\n  chartWidth: 500,\r\n  chartHeight: 200,\r\n};\r\n\r\nconst chart3Props = {\r\n  query:\r\n    \"select top 5 case when node_data:follow is not null then 'follow' when node_data:post is not null then 'post' when node_data:main is not null then 'main'  when node_data:like is not null then 'like' when node_data:graph is not null then 'graph' else NODE  end as task ,count(DISTINCT tx_hash) as task_count from near.social.fact_decoded_actions group by 1 order by task_count desc\",\r\n  title: \"5 popular actions of users in near.social\",\r\n  chartWidth: 400,\r\n  chartHeight: 400,\r\n};\r\n\r\nconst chart4Props = {\r\n  query:\r\n    \"select profile_section as Section, count(distinct tx_hash) as Total_Number_Edit \" +\r\n    \" from (select * from (select *,rank() over (partition by signer_id order by block_timestamp) as rank \" +\r\n    \" from (select tx_hash,signer_id,\tblock_timestamp, profile_section  \t\tfrom near.social.fact_profile_changes \" +\r\n    \" join near.core.fact_transactions using(tx_hash)    where tx_status = 'Success')) where rank > 1)\tgroup by Section\",\r\n  title: \"Monthly fact_profile_changes\",\r\n  chartWidth: 300,\r\n  chartHeight: 300,\r\n};\r\n\r\nconst WidgetDiv = styled.div`\r\n    /* Adapt the colors based on primary prop */\r\n    background: ${(props) => (props.primary ? \"palevioletred\" : \"white\")};\r\n    color: ${(props) => (props.primary ? \"white\" : \"palevioletred\")};\r\n  \r\n    font-size: 1em;\r\n    margin: 1em;\r\n    padding: 0.25em 1em;\r\n    border: 2px solid palevioletred;\r\n    border-radius: 10px;\r\n    width: 50%;\r\n  `;\r\n\r\nreturn (\r\n  <div>\r\n    <h2>Widgets Created by Sal\u2630h using Flipside's Database.</h2>\r\n    <Widget\r\n      src=\"32c298759f37a070bce4eaa0602c0e961682f2ec5c0a17d86d3b8dc2120be286/widget/FS-bar-chart\"\r\n      props={chart1Props}\r\n    />\r\n    <Widget\r\n      src=\"32c298759f37a070bce4eaa0602c0e961682f2ec5c0a17d86d3b8dc2120be286/widget/FS-bar-chart\"\r\n      props={chart2Props}\r\n    />\r\n    <h1></h1>\r\n    <h4>5 popular actions of users in near.social</h4>\r\n    <Widget\r\n      src=\"32c298759f37a070bce4eaa0602c0e961682f2ec5c0a17d86d3b8dc2120be286/widget/FS-pie-chart\"\r\n      props={chart3Props}\r\n    />\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/32c298759f37a070bce4eaa0602c0e961682f2ec5c0a17d86d3b8dc2120be286/widget/Dashboard-Near-FS-Data"}
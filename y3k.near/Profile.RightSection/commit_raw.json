{"tx_hash": "Eq4G8Jg4HC5aeTZHfvoVz6RzE2s1RUwEQyrYaDEfWVbB", "action_id_social": "8km72qHQPFUSz52i9ncdiPDriXNBmGd1Kkv6JwxMVH68-0-widget", "block_id": 87511789, "block_timestamp": "2023-03-17 18:03:42.908", "signer_id": "y3k.near", "widget_name": "Profile.RightSection", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"Please log in with NEAR\";\n}\n\nconst profile = props.profile;\n\nconst allWidgetsHistoryChangesBlocks = Social.keys(\n  `${accountId}/widget/*`,\n  \"final\",\n  {\n    return_type: \"History\",\n  }\n);\n\nif (allWidgetsHistoryChangesBlocks === null) return \"Loading...\";\n\nconst widget = allWidgetsHistoryChangesBlocks[accountId].widget;\n\nconst totalCommits = Object.keys(widget)\n  .map((key) => widget[key])\n  .flat();\n\nconst widgets = Social.getr(`${accountId}/widget`) ?? {};\n\nconst project = props.project ?? Social.getr(`${accountId}/project`);\n\nif (project === null) {\n  return \"Loading...\";\n}\n\nconst featuredWidget = project.featuredWidget;\n\nState.init({\n  loadGroups: false,\n  loadComments: false,\n});\n\nconst cssFont = fetch(\n  \"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap\"\n).body;\n\nconst css = fetch(\n  \"https://raw.githubusercontent.com/cryptosynk/near-social-profile/main/css/mainLight.css\"\n).body;\n\nconst theme = \"light\";\n\nconst Theme = styled.div`\n  font-family: \"Open Sans\", sans-serif;\n  ${cssFont}\n  ${css}\n`;\n\nreturn (\n  <>\n    <ul className=\"nav nav-pills nav-fill mb-4\" id=\"pills-tab\" role=\"tablist\">\n      <li className=\"nav-item\" role=\"presentation\">\n        <button\n          className=\"nav-link active\"\n          id=\"pills-widget-tab\"\n          data-bs-toggle=\"pill\"\n          data-bs-target=\"#pills-widget\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"pills-widget\"\n          aria-selected=\"true\"\n        >\n          Widget\n        </button>\n      </li>\n      <li className=\"nav-item\" role=\"presentation\">\n        <button\n          className=\"nav-link\"\n          id=\"pills-groups-tab\"\n          data-bs-toggle=\"pill\"\n          data-bs-target=\"#pills-groups\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"pills-groups\"\n          aria-selected=\"false\"\n          onClick={() => {\n            !state.loadGroups && State.update({ loadGroups: true });\n          }}\n        >\n          Groups\n        </button>\n      </li>\n    </ul>\n    <div className=\"tab-content\" id=\"pills-tabContent\">\n      <div\n        className=\"tab-pane fade in show active\"\n        id=\"pills-widget\"\n        role=\"tabpanel\"\n        aria-labelledby=\"pills-widget-tab\"\n      >\n        <div className=\"rightSection\">\n          <div>\n            <h2>Widgets</h2>\n\n            {Object.keys(widgets)?.length > 0 ? (\n              <div className=\"widgetsContainer\">\n                {Object.keys(widgets)?.map((item, index) => (\n                  <Widget\n                    src=\"zahidulislam.near/widget/Profile.WidgetItem\"\n                    props={{\n                      name: item,\n                      accountId,\n                      commits:\n                        allWidgetsHistoryChangesBlocks[accountId].widget[item],\n                    }}\n                  />\n                ))}\n              </div>\n            ) : (\n              <p\n                style={{\n                  padding: 20,\n                  textAlign: \"center\",\n                  color: \"rgba(0,0,0,.75)\",\n                }}\n              >\n                {profile?.name} does not have any widget.\n              </p>\n            )}\n          </div>\n\n          <div>\n            <h2>{totalCommits.length} contributions</h2>\n            <div style={{ marginTop: 20 }} />\n            <Widget\n              src=\"zahidulislam.near/widget/Profile.Contributions\"\n              props={{ theme: props.theme }}\n            />\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"tab-pane fade groups\"\n        id=\"pills-groups\"\n        role=\"tabpanel\"\n        aria-labelledby=\"pills-groups-tab\"\n      >\n        <Widget src=\"gov.near/widget/FollowTabs\" props={{ accountId }} />\n      </div>\n      <div\n        className=\"tab-pane fade comments\"\n        id=\"pills-comments\"\n        role=\"tabpanel\"\n        aria-labelledby=\"pills-comments-tab\"\n      >\n        <Widget src=\"gov.near/widget/Comments\" props={{ accountId }} />\n      </div>\n    </div>\n  </>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/y3k.near/widget/Profile.RightSection", "metadata.name": NaN}
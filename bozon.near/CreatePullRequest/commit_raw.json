{"tx_hash": "2RNYaB1SHt4ftsH13F38gzAYVemc59jj5C6zoknT721g", "action_id_social": "D5rPQ6mf1j6SwHpBaunsUuSKo2zb6L1PLzKwu1Y88bqk-0-widget", "block_id": 83480998, "block_timestamp": "2023-01-21 19:35:02.349", "signer_id": "bozon.near", "widget_name": "CreatePullRequest", "source_code": "const initWidgetPath = \"devgovgigs.near/widget/Ideas\";\r\n\r\nState.init({\r\n  widgetPath: initWidgetPath,\r\n  code: \"\",\r\n});\r\n\r\nconst widgetCode = Social.get(state.widgetPath);\r\n\r\nif (widgetCode === null) return \"loading...\";\r\n\r\nconst [widgetAccountId, _, widgetName] = state.widgetPath.split(\"/\");\r\n\r\nfunction getDatastringFromBlockHeight(blockHeight) {\r\n  const block = Near.block(blockHeight);\r\n  const date = new Date(block.header.timestamp_nanosec / 1e6);\r\n  return date.toDateString() + \" \" + date.toLocaleTimeString();\r\n}\r\n\r\nreturn (\r\n  <div>\r\n    <h1 class=\"text-center\">Create Pull Request</h1>\r\n\r\n    <input\r\n      class=\"form-control mb-3\"\r\n      placeholder=\"path to widget\"\r\n      defaultValue={state.widgetPath || initWidgetPath}\r\n      onBlur={(e) => {\r\n        State.update({\r\n          widgetPath: e.target.value,\r\n        });\r\n      }}\r\n    />\r\n\r\n    {widgetCode ? (\r\n      <div>\r\n        <textarea\r\n          class=\"form-control mb-3\"\r\n          placeholder=\"code\"\r\n          onBlur={(e) => {\r\n            State.update({\r\n              code: e.target.value,\r\n            });\r\n          }}\r\n        />\r\n        <Widget\r\n          src={`bozon.near/widget/CodeDiff`}\r\n          props={{\r\n            currentCode: state.code,\r\n            prevCode: widgetCode,\r\n          }}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div>Widget not found</div>\r\n    )}\r\n  </div>\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bozon.near/widget/CreatePullRequest"}
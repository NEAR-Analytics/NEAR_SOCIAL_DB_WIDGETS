{"tx_hash": "GUjeu6Fw8nmKWmrh1MCpmFryPVA1VVLXbBwnGRtbXx5c", "action_id_social": "3YWrgYGLv32Z54yVVfGtygXQzgg5iT2qQyBC7CQv38WW-0-widget", "block_id": 86615704, "block_timestamp": "2023-03-05 13:36:19.721", "signer_id": "bozon.near", "widget_name": "uiw-ReactTextareaCodeEditor", "source_code": "// props = {\r\n//   editorProps: {},\r\n//   defaultValue: \"{}\",\r\n//   onChange: (text) => {\r\n//     console.log(text);\r\n//   },\r\n// };\r\n\r\nState.init({ defaultValue });\r\n\r\nconst code = `\r\n<script src=\"https://unpkg.com/react@18/umd/react.development.js\" crossorigin></script>\r\n<script src=\"https://unpkg.com/react-dom@18/umd/react-dom.development.js\" crossorigin></script>\r\n<script src=\"https://unpkg.com/@uiw/react-textarea-code-editor@2.1.1/dist/editor.min.js\" crossorigin></script>\r\n<link rel=\"stylesheet\" href=\"https://unpkg.com/@uiw/react-textarea-code-editor@2.1.1/dist/editor.min.css\" />\r\n\r\n\r\n<div id=\"react-root\"></div>\r\n\r\n<script>\r\nconst CodeEditor = window[\"@uiw/react-textarea-code-editor\"].default;\r\n\r\nfunction App(props) {\r\n  const [value, setValue] = React.useState(props.defaultValue || \"\");\r\n\r\n  return React.createElement(CodeEditor, {\r\n    value,\r\n    onChange: (e) => {\r\n      setValue(e.target.value);\r\n      window.top.postMessage(e.target.value, \"*\");\r\n    },\r\n    \"padding\": 15,\r\n    \"data-color-mode\": \"light\", \r\n    \"language\": \"js\",\r\n    \"style\": {\r\n      \"fontSize\": 14,\r\n      \"backgroundColor\": \"#f5f5f5\",\r\n      \"fontFamily\":\r\n        \"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace\"\r\n    },\r\n    ...props.editorProps,\r\n  }); \r\n}\r\n\r\nconst domContainer = document.querySelector('#react-root');\r\nconst root = ReactDOM.createRoot(domContainer);\r\n\r\nwindow.addEventListener(\"message\", (event) => {\r\n  root.render(React.createElement(App, event.data));\r\n});\r\n\r\n</script>\r\n`;\r\n\r\nreturn (\r\n  <iframe\r\n    className=\"w-100\"\r\n    srcDoc={code}\r\n    message={{\r\n      editorProps: props.editorProps,\r\n      defaultValue: props.defaultValue,\r\n    }}\r\n    onMessage={(m) => props.onChange(m)}\r\n  />\r\n);\r\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/bozon.near/widget/uiw-ReactTextareaCodeEditor"}
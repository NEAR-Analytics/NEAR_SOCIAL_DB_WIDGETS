{"tx_hash": "8mbNrZHp2QSEh2D3Y6fJVLauFLCjc8NckkgmDqtRqZVD", "action_id_social": "2ZM7TwtQmdxkPqRvf7i785gZQqPxRBjRFdSj1ME9SbEu-0-widget", "block_id": 86162698, "block_timestamp": "2023-02-27 12:01:26.875", "signer_id": "eugenewolf507.near", "widget_name": "WikiOnSocialDB_History.ArticleHistory", "source_code": "/*\n---props---\n\nprops.pathToWidget: string (\"bozon.near/widget/PrivateMailBox\")\n\nprops.currentBlockHeight: number\n\nprops.prevBlockHeight?: number\n\nprops.findUniqueResult(\n  lineCountDeleted: number, \n  lineCountInserted: inserted,\n  lineCountCurrentCode: number,\n  lineCountPrevCode: number,\n  allLineCount: number\n)?: function\n\nprops.showLineNumber?: bool\n\n*/\nconst authorForWidget = \"eugenewolf507.near\";\n\nif (!props.pathToWidget || !props.currentBlockHeight)\n  return \"send pathToWidget and currentBlockHeight in props\";\n\nconst currentArticle = Social.get(\n  `${props.pathToWidget}`,\n  props.currentBlockHeight\n);\n\nconsole.log(\"currentArticle\", currentArticle);\n\nconst currentCode = currentArticle.body;\nconsole.log(\"currentCode\", currentCode);\n\nif (currentCode === null) return \"Loading\";\n\nconst prevCode = props.prevBlockHeight\n  ? Social.get(`${props.pathToWidget}`, props.prevBlockHeight)\n  : undefined;\n\nif (prevCode === null) return \"Loading\";\n\nreturn (\n  <Widget\n    src=\"bozon.near/widget/CodeDiff\"\n    props={{ currentCode, prevCode, ...props }}\n  />\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/eugenewolf507.near/widget/WikiOnSocialDB_History.ArticleHistory"}
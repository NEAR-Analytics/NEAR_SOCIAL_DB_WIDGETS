{"tx_hash": "914G6xHRLq3wKsGbgJq3wba2STTtCJmhyhEtDqgKav2c", "action_id_social": "2ci1V5sZcrP8G9odsE4vX4SoDFuPR8yhmfTrAqK5tifu-0-widget", "block_id": 85209274, "block_timestamp": "2023-02-14 10:35:39.870", "signer_id": "eugenewolf507.near", "widget_name": "Draft_CheckStructureCommentsIndex", "source_code": "const accountId = props.accountId ?? context.accountId;\n// ========= HANDLER SET =========\nconst getPublicationParamsAllArticles = () => ({\n  index: {\n    wiki_test: JSON.stringify({\n      key: \"wikitest-v0.0.0\",\n      value: {\n        articleId: \"articleA\",\n        body: \"body A (index)\",\n      },\n    }),\n  },\n});\n// ========= HANDLER GET =========\nconst clickHandlerGetStructure = () => {\n  const accountId = \"mob.near\";\n\n  const posts = Social.get(`${accountId}/post/main`, 84445357);\n  console.log(\"postsGet\", posts);\n  const postsIndex = Social.index(\"post\", \"main\", {\n    limit: 10,\n    order: \"desc\",\n    accountId,\n  });\n  console.log(postsIndex);\n  console.log(\"==================\");\n\n  postsIndex.forEach(({ accountId, blockHeight }) => {\n    const postData = Social.get(`${accountId}/post/main`, blockHeight);\n    console.log(postData);\n    console.log(accountId, blockHeight);\n  });\n\n  //   const questionsIndex = Social.index(\"poll_question\", \"question-v3.1.0\");\n  //   console.log(\"questionsIndex\", questionsIndex);\n  //   const questionsGet = Social.get(`*/index/poll_question/`, \"final\");\n  //   console.log(\"questionsGet\", questionsGet);\n};\n\n// ========= RETURN =========\nreturn (\n  <div>\n    <p>Press button and check log in browser</p>\n    <CommitButton data={getPublicationParamsAllArticles()}>\n      SET Data\n    </CommitButton>\n    <button onClick={clickHandlerGetStructure}>GET Data</button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/eugenewolf507.near/widget/Draft_CheckStructureCommentsIndex"}
{"tx_hash": "8Ma13hCsFKpeMMBP8mBUz4Jfq6UJvZ1PsrTsAXL1YdJB", "action_id_social": "8zwpRKuZkbrFrhYEa9tu5mGXXTUULqboSZLwHX7jqMC2-0-widget", "block_id": 83252310, "block_timestamp": "2023-01-18 19:04:25.386", "signer_id": "eugenewolf507.near", "widget_name": "Draft_Eugene2", "source_code": "// =========  =========\nconst accountId = props.accountId ?? context.accountId;\n\n// ========= TRY OBJECT STRUCTURE =========\nconst dataStructure = {\n  articlesAll: {\n    testwiki: {\n      article1: {\n        author: \"testwiki\",\n        body: \"body for article 1 by testwiki\",\n      },\n      article2: {\n        author: \"testwiki\",\n        body: \"body for article 2 by testwiki\",\n      },\n    },\n    eugenewolf507: {\n      articleA: {\n        author: \"testwiki\",\n        body: \"body for article A by eugenewolf507\",\n      },\n      articleB: {\n        author: \"testwiki\",\n        body: \"body for article B by eugenewolf507\",\n      },\n    },\n  },\n  articlesNav: [\"articleA\", \"articleB\", \"article1\", \"article2\"],\n};\n\n// ========= HANDLERS =========\nconst clickHandlerSetStructure = () => {\n  Social.set(JSON.stringify(dataStructure));\n};\nconst clickHandlerGetStructure = () => {\n  // path that works\n  // const path = \"/*\";\n  // const path = \"/widget/*\";\n  // const path = \"/widget/Draft_Eugene2\";\n  const path = \"/articles/**\";\n\n  // path that doesn't works\n  // const path = \"/articles/articlesAll\";\n\n  const data1 = Social.get(`${accountId}${path}`);\n  console.log(data1);\n\n  // const data2 = Social.keys(\"*/widget/*\", \"final\");\n  // const data2 = Social.keys(\"*/articles/*\", \"final\");\n  // const data2 = Social.getr(\"bearner.near/nametag/bearner.near/tags\", \"final\");\n  const data2 = Social.getr(\n    \"eugenewolf507.near/articles/articlesAll/eugenewolf507/articleA\",\n    \"final\"\n  );\n  console.log(data2);\n};\n\n// ========= RETURN =========\nreturn (\n  <div>\n    <p>Press button and check log in browser</p>\n    <div>\n      <button onClick={clickHandlerSetStructure}>Set Structure</button>\n      <CommitButton\n        data={{\n          articles: {\n            articlesAll: {\n              testwiki: {\n                article1: {\n                  author: \"testwiki\",\n                  body: \"body for article 1 by testwiki\",\n                },\n                article2: {\n                  author: \"testwiki\",\n                  body: \"body for article 2 by testwiki\",\n                },\n              },\n              eugenewolf507: {\n                articleA: {\n                  author: \"testwiki\",\n                  body: \"body for article A by eugenewolf507\",\n                },\n                articleB: {\n                  author: \"testwiki\",\n                  body: \"body for article B by eugenewolf507\",\n                },\n              },\n            },\n            articlesNav: [\n              \"articleA\",\n              \"articleB\",\n              \"articleC\",\n              \"article1\",\n              \"article2\",\n            ],\n          },\n        }}\n        // data={{\n        //   articles: { \"eugenewolf507.near\": { homepage: state.homepage } },\n        // }}\n      >\n        SetStructure with CommitButton\n      </CommitButton>\n    </div>\n    <button onClick={clickHandlerGetStructure}>Get Structure</button>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/eugenewolf507.near/widget/Draft_Eugene2"}
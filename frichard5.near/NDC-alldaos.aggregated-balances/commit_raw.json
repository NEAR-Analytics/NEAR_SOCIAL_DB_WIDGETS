{"tx_hash": "47VermAsANxtKAQwwq1aiE49PSxJib3tjbgtEahARL96", "action_id_social": "5D7ovN6YoLEwXaBEJeU7fUQHvcLggRAYYU5Pz57fxozL-0-widget", "block_id": 92444559, "block_timestamp": "2023-05-22T11:04:43.299Z", "signer_id": "frichard5.near", "widget_name": "NDC-alldaos.aggregated-balances", "source_code": "const {widgetProvider} = props;\nconst widgetUrl = `https://api.pikespeak.ai/widgets/balances/`;\n\nconst daosList = [\n    \"ndctrust.sputnik-dao.near\",\n    \"marketing.sputnik-dao.near\",\n    \"creativesdao.sputnik-dao.near\",\n    \"neardevgov.sputnik-dao.near\",\n    \"gwg.sputnik-dao.near\",\n];\nconst forgeUrl = (apiUrl, params) =>\n    apiUrl +\n    Object.keys(params).sort().reduce(\n        (paramString, p) => paramString + `${p}=${params[p]}&`,\n        \"?\"\n    );\nconst fetchBalances = (params) => {\n    const balances = fetch(forgeUrl(widgetUrl, params), {\n        mode: \"cors\",\n        headers: {\n            \"x-api-key\": publicApiKey,\n        },\n    })\n\n    balances.body && State.update({\n        balances: balances.body,\n    });\n};\nconst uh = forgeUrl(widgetUrl, {accounts: daosList});\nconsole.log(uh);\nfetchBalances({accounts: daosList});\n\n<Card>\n    <h2>Balances</h2>\n    <BalanceContainer>\n        <iframe\n            style={{\n                width: \"35%\",\n                height: \"420px\",\n                marginTop: \"0px\",\n                overflow: \"none\",\n            }}\n            src={forgeUrl(widgetUrl, params)}\n        ></iframe>\n{/*\n        <div style={{ width: \"40%\" }}>{GenericTable}</div>\n*/}\n    </BalanceContainer>\n</Card>", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/frichard5.near/widget/NDC-alldaos.aggregated-balances", "__row_index": 2}
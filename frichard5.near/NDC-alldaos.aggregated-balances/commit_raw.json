{"tx_hash": "3S6WRWVtXqWHfTRECBadjSfHp6roaVYBV4zK1rHmX5xp", "action_id_social": "BY4D9bVRBMnD2zJw9yaJg6EECtQYZVPzvkp2CCWH8AeR-0-widget", "block_id": 92444721, "block_timestamp": "2023-05-22T11:07:50.105Z", "signer_id": "frichard5.near", "widget_name": "NDC-alldaos.aggregated-balances", "source_code": "const {widgetProvider} = props;\nconst widgetUrl = `https://api.pikespeak.ai/widgets/balances/`;\n\nconst daosList = [\n    \"ndctrust.sputnik-dao.near\",\n    \"marketing.sputnik-dao.near\",\n    \"creativesdao.sputnik-dao.near\",\n    \"neardevgov.sputnik-dao.near\",\n    \"gwg.sputnik-dao.near\",\n];\nconst forgeUrl = (apiUrl, params) =>\n    apiUrl +\n    Object.keys(params).sort().reduce(\n        (paramString, p) => paramString + `${p}=${params[p]}&`,\n        \"?\"\n    );\nconst fetchBalances = (params) => {\n    const balances = fetch(forgeUrl(widgetUrl, params), {\n        mode: \"cors\",\n        headers: {\n            \"x-api-key\": publicApiKey,\n        },\n    })\n\n    balances.body && State.update({\n        balances: balances.body,\n    });\n};\nconst uh = forgeUrl(widgetUrl, {accounts: daosList});\nconsole.log(uh);\nfetchBalances({accounts: daosList});\nconst GenericTable = (\n    <Widget\n        src={`${widgetProvider}/widget/generic_table`}\n        props={{\n            title: ``,\n            columns,\n            data: state.balance,\n        }}\n    />\n);\n\nconst Card = styled.div`\n  box-shadow: 3px 2px 24px rgba(68, 152, 224, 0.3);\n  border-radius: 4px;\n  padding: 20px;\n  margin-top: 40px;`\n\nconst BalanceContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`;\n\n\nreturn (<Card>\n    <h2>Balances</h2>\n    <BalanceContainer>\n        <iframe\n            style={{\n                width: \"35%\",\n                height: \"420px\",\n                marginTop: \"0px\",\n                overflow: \"none\",\n            }}\n            src={forgeUrl(widgetUrl, params)}\n        ></iframe>\n{/*\n        <div style={{ width: \"40%\" }}>{GenericTable}</div>\n*/}\n    </BalanceContainer>\n</Card>)", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/frichard5.near/widget/NDC-alldaos.aggregated-balances", "__row_index": 1}
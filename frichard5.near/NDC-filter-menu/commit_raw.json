{"tx_hash": "4s8nvmxEcmtSULSkLRnsVn32kYwzpz9LvqLR9pFWZg1R", "action_id_social": "7q1nPFzStAPUbZo7BndN6ynVneio4tqA1h7BU4jp2uYt-0-widget", "block_id": 90479299, "block_timestamp": "2023-04-26 14:14:10.462", "signer_id": "frichard5.near", "widget_name": "NDC-filter-menu", "source_code": "const { widgetProvider, comps, filters, removeFilter } = props;\n\nState.init({\n  isOpen: false,\n  filters,\n});\n\nconst arraysEqual = (arr1, arr2) => {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  arr1.sort();\n  arr2.sort();\n\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nif (!arraysEqual(filters, state.filters)) {\n  State.update({ isOpen: false, filters: filters });\n}\n\nconst FilterMenu = styled.div`\n    display: flex;\n    position: absolute;\n    z-index: 1;\n    background: white;\n    width: 100%;\n    padding: 20px;\n    box-shadow: 3px 2px 24px rgba(68, 152, 224, 0.3);\n    border-radius: 4px;\n`;\n\nconst FilterButton = styled.button`\n  color: black;\n  background:rgba(255, 213, 13, 0.5);\n  border: none;\n  border-radius: 4px;\n  &:hover {\n    background:rgba(255, 213, 13, 1);\n    color: black;\n  }\n  &:active {\n      background-color:rgba(255, 213, 13, 0.8);\n      color: black !important;\n  }\n`;\n\nconst FilterTag = styled.div`\n  display: flex;\n  align-items:center;\n  span {\n    margin-right: 10px;\n  }\n  svg {\n    cursor: pointer;\n  }\n  border: 1px solid rgb(140, 140, 140);\n  width: fit-content;\n  border-radius: 4px;\n  padding: 4px;\n`;\n\nconst FilterTagsContainer = styled.div`\n    padding: 10px;\n`;\n\nconst handleFilterRemove = (filter) => {\n  removeFilter(filter);\n};\n\nreturn (\n  <>\n    <FilterButton onClick={() => State.update({ isOpen: !state.isOpen })}>\n      <span>Filters</span>\n      <svg\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M2 13h4.667v-1.5H2V13zm0-9v1.5h12V4H2zm0 5.25h8.333v-1.5H2v1.5z\"\n          fill=\"currentColor\"\n        ></path>\n      </svg>\n    </FilterButton>\n    {filters && (\n      <FilterTagsContainer>\n        {filters.map((f) => (\n          <FilterTag>\n            <span>{f}</span>\n            <svg\n              height=\"20px\"\n              class=\"MuiSvgIcon-root MuiSvgIcon-fontSizeMedium MuiBox-root css-1om0hkc\"\n              focusable=\"false\"\n              aria-hidden=\"true\"\n              viewBox=\"0 0 24 24\"\n              data-testid=\"CloseIcon\"\n              onClick={() => handleFilterRemove(f)}\n            >\n              <path d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path>\n            </svg>\n          </FilterTag>\n        ))}{\" \"}\n      </FilterTagsContainer>\n    )}\n    {state.isOpen && <FilterMenu>{comps.map((c) => c)}</FilterMenu>}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/frichard5.near/widget/NDC-filter-menu"}
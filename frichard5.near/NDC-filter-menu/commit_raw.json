{"tx_hash": "FvVdXu33owUte1Wu5jc9acDBFTPQdcYy4nnWqxi9QjTi", "action_id_social": "9Mcs6a5V12wz5NHS1qbNT9gWMcnKdxWXpa5q7HffZFNV-0-widget", "block_id": 90478171, "block_timestamp": "2023-04-26 13:51:54.147", "signer_id": "frichard5.near", "widget_name": "NDC-filter-menu", "source_code": "const { widgetProvider, comps, filters, removeFilter } = props;\n\nState.init({\n  isOpen: false,\n  filters,\n});\n\nconst arraysEqual = (arr1, arr2) => {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n\n  arr1.sort();\n  arr2.sort();\n\n  for (let i = 0; i < arr1.length; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nif (!arraysEqual(filters, state.filters)) {\n  State.update({ isOpen: false, filters: filters });\n}\n\nconst FilterMenu = styled.div`\n    display: flex;\n    position: absolute;\n    z-index: 1;\n    background: white;\n    width: 100%;\n    padding: 20px;\n    box-shadow: 3px 2px 24px rgba(68, 152, 224, 0.3);\n    border-radius: 4px;\n`;\n\nconst FilterButton = styled.button`\n  color: black;\n  background:rgba(255, 213, 13, 0.5);\n  border: none;\n  border-radius: 4px;\n  &:hover {\n    background:rgba(255, 213, 13, 1);\n    color: black;\n  }\n  &:active {\n      background-color:rgba(255, 213, 13, 0.8);\n      color: black !important;\n  }\n`;\n\nconst handleFilterRemove = (filter) => {\n  removeFilter(filter);\n};\n\nreturn (\n  <>\n    <FilterButton onClick={() => State.update({ isOpen: !state.isOpen })}>\n      <span>Filters</span>\n      <svg\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M2 13h4.667v-1.5H2V13zm0-9v1.5h12V4H2zm0 5.25h8.333v-1.5H2v1.5z\"\n          fill=\"currentColor\"\n        ></path>\n      </svg>\n    </FilterButton>\n    {filters &&\n      filters.map((f) => <div onClick={() => handleFilterRemove(f)}>{f}</div>)}\n    {state.isOpen && <FilterMenu>{comps.map((c) => c)}</FilterMenu>}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/frichard5.near/widget/NDC-filter-menu"}
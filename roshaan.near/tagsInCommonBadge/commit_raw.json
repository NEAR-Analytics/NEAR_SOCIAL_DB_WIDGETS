{"tx_hash": "J1iuKZTShkrgoJ1PRGpBWGEn9hV3X1uEELy3QYqxGAS1", "action_id_social": "4Hh4voZU3NdiJyMSrgim82fAE5RnvSDsvwAis55b6Utn-0-widget", "block_id": 81605867, "block_timestamp": "2022-12-27 23:00:56.704", "signer_id": "roshaan.near", "widget_name": "tagsInCommonBadge", "source_code": "const accountId = props.accountId;\nconst userId = context.accountId;\n\nif (!accountId || !userId) {\n  return \"\";\n}\n\nconst myTagsKeys = Social.getr(`${userId}/profile/tags`, \"final\");\nconst profileVisitedTagsKeys = Social.getr(\n  `${accountId}/profile/tags`,\n  \"final\"\n);\n\nconst myTags = myTagsKeys ? Object.keys(myTagsKeys) : [];\nconst profileVisitedTags = profileVisitedTagsKeys\n  ? Object.keys(profileVisitedTagsKeys)\n  : [];\n\nconst tagsInCommon = myTags.filter((a) => profileVisitedTags.includes(a)) || [];\nreturn (\n  <>\n    {tagsInCommon.length > 0 && (\n      <OverlayTrigger\n        placement=\"auto\"\n        overlay={\n          <Tooltip>\n            <span> Tags in Common </span>\n            {tagsInCommon.map((tag) => {\n              return <li className={`list-group-item`}>{tag}</li>;\n            })}\n          </Tooltip>\n        }\n      >\n        <span\n          className=\"badge rounded-pill bg-primary\"\n          title={`${tagsInCommon.length} tags in common`}\n        >\n          {tagsInCommon.length} common tags\n        </span>\n      </OverlayTrigger>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/roshaan.near/widget/tagsInCommonBadge"}
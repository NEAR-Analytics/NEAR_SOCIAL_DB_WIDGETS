{"tx_hash": "HHpTSXBno8VRdGWiQHWQpkBdZPj7Po7H7xAUbVZofxLo", "action_id_social": "jNH8GztYpUKhU6LUeVooXtq16uSdqjXro9oJYcXBoH8-0-widget", "block_id": 85362893, "block_timestamp": "2023-02-16 16:16:23.299", "signer_id": "roshaan.near", "widget_name": "queryapi__ViewAllIndexers", "source_code": "const limit = 7;\nlet indexers = [];\nlet totalIndexers = 0;\nconst registry_contract_id =\n  props.registry_contract_id || \"registry.queryapi.near\";\nconst indexerDetails = Near.asyncView(\n  registry_contract_id,\n  \"list_indexer_functions\"\n).then((data) => {\n  let indexer_paths = Object.keys(data);\n  indexers = indexer_paths.map((indexer_path) => {\n    return {\n      accountId: indexer_path.split(\"/\")[0],\n      indexerName: indexer_path.split(\"/\").splice(1).join(\"/\"),\n    };\n  });\n});\n\nconst H2 = styled.h2`\n\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181c;\n  margin: 0 0 24px;\n`;\n\nconst CardWrapper = styled.div`\n  margin: 0 0 16px;\n`;\n\nconst ButtonLink = styled.a`\n  display: block;\n  width: 100%;\n  padding: 8px;\n  height: 32px;\n  background: #fbfcfd;\n  border: 1px solid #d7dbdf;\n  border-radius: 6px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  color: #11181c !important;\n  margin-top: 24px;\n  margin-bottom: 24px;\n  &:hover,\n  &:focus {\n    background: #ecedee;\n    text-decoration: none;\n    outline: none;\n  }\n\n  span {\n    color: #687076 !important;\n  }\n`;\n\nconst Subheading = styled.h2`\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C !important\" : \"#687076 !important\")};\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n  overflow: ${(p) => (p.ellipsis ? \"hidden\" : \"visible\")};\n  text-overflow: ${(p) => (p.ellipsis ? \"ellipsis\" : \"unset\")};\n  white-space: nowrap;\n  outline: none;\n`;\nreturn (\n  <>\n    <ButtonLink href=\"/#/roshaan.near/widget/queryapi__QueryApiDashboard\">\n      Create New Indexer\n    </ButtonLink>\n    <H2>Latest Indexers</H2>\n    {indexers.map((indexer, i) => (\n      <CardWrapper key={i}>\n        <Widget\n          src=\"roshaan.near/widget/queryapi__IndexerView\"\n          props={{\n            indexer_path: `${indexer.accountId}/${indexer.indexerName}`,\n          }}\n        />\n      </CardWrapper>\n    ))}\n    {indexers.length == 0 && (\n      <Subheading> You have no indexers to show...</Subheading>\n    )}\n    {indexers.length > 0 && (\n      <ButtonLink href=\"/#/roshaan.near/widget/queryapi__ViewAllIndexersPublic\">\n        View All Indexers <span>({totalIndexers})</span>\n      </ButtonLink>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/roshaan.near/widget/queryapi__ViewAllIndexers"}
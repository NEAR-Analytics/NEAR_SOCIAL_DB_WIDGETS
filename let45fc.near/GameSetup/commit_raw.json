{"tx_hash": "H8n7ioHh42MU3y2DM22xWxpBggHzdMyycp2aEXc9NAQW", "action_id_social": "2QNmuqCqtuD9yjrJMGH2NJDfSziMkqMVHBB8kDpYBxGU-0-widget", "block_id": 85997405, "block_timestamp": "2023-02-25 07:18:19.406", "signer_id": "let45fc.near", "widget_name": "GameSetup", "source_code": "const switchStyle = {\n  display: \"block\",\n  position: \"relative\",\n  cursor: \"pointer\",\n};\n\nconst boardSetupButton = {\n  display: \"block\",\n  marginBottom: \"3em\",\n  fontFamily: \"Kadwa\",\n  fontWeight: \"bold\",\n  color: \"#000\",\n};\n\nconst baordSelectButton = {\n  border: \"2px solid blue\",\n  display: \"block\",\n  marginBottom: \"3em\",\n  fontFamily: \"Kadwa\",\n  fontWeight: \"bold\",\n  color: \"#000\",\n};\n\nconst boardSetupImage = {\n  width: \"24em\",\n  height: \"12em\",\n};\n\nconst gameSetups = [\n  {\n    name: \"ACE\",\n    imgSrc:\n      \"https://raw.githubusercontent.com/near-social-laser-chess/vault/main/Board%20setups/Ace%20board%20setup.png\",\n  },\n  {\n    name: \"CURIOSITY\",\n    imgSrc:\n      \"https://raw.githubusercontent.com/near-social-laser-chess/vault/main/Board%20setups/Curiosity%20board%20setup.png\",\n  },\n  {\n    name: \"GRAIL\",\n    imgSrc:\n      \"https://raw.githubusercontent.com/near-social-laser-chess/vault/main/Board%20setups/Grail%20board%20setup.png\",\n  },\n  {\n    name: \"MERCURY\",\n    imgSrc:\n      \"https://raw.githubusercontent.com/near-social-laser-chess/vault/main/Board%20setups/Mercury%20board%20setup.png\",\n  },\n  {\n    name: \"SOPHIE\",\n    imgSrc:\n      \"https://raw.githubusercontent.com/near-social-laser-chess/vault/main/Board%20setups/Sophie%20board%20setup.png\",\n  },\n  {\n    name: \"RANDOM\",\n    imgSrc:\n      \"https://raw.githubusercontent.com/near-social-laser-chess/vault/main/Board%20setups/Random%20board%20setup.png\",\n  },\n];\n\nconst setupButtons = gameSetups.map((setup) => {\n  const item = (\n    <div class=\"col-sm-4\">\n      <button\n        type=\"button\"\n        class=\"btn btn-light\"\n        style={\n          setup.name === state.selectedSetup\n            ? baordSelectButton\n            : boardSetupButton\n        }\n        onClick={() => {\n          State.update({ selectedSetup: setup.name });\n        }}\n      >\n        <img src={setup.imgSrc} style={boardSetupImage}></img>\n        {setup.name}\n      </button>\n    </div>\n  );\n  return item;\n});\n\nconst pages = {\n  menu: \"MainMenu\",\n  game: \"Game\",\n  gameSetup: \"GameSetup\",\n};\n\nState.init({ currentPage: pages.gameSetup, isPvE: null, selectedSetup: null });\nif (state.currentPage === pages.menu) {\n  return <Widget src=\"let45fc.near/widget/MainMenu\" />;\n}\n\nif (state.currentPage === pages.game) {\n  if (typeof props.callback === \"function\") {\n    props.callback(state.isPvE, state.selectedSetup);\n  }\n}\n\nif (state.currentPage === pages.connectToGame) {\n  if (typeof props.connectToGameCallback === \"function\") {\n    props.connectToGameCallback();\n  }\n}\n\nconst playGame = () => {\n  State.update({ currentPage: pages.game });\n};\n\nconst connectToGame = () => {\n  State.update({ currentPage: pages.connectToGame });\n};\n\nreturn (\n  <>\n    <div class=\"container\">\n      <button\n        onClick={() => {\n          State.update({ currentPage: pages.menu });\n        }}\n        type=\"button\"\n        class=\"btn btn-secondary\"\n      >\n        <i class=\"bi bi-arrow-left\" style={{ marginBottom: \"30px\" }}></i> Go\n        back\n      </button>\n      <div class=\"row\">\n        <p style={{ textAlign: \"center\", height: \"30px\" }}>\n          Create or\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            onClick={() => {\n              connectToGame();\n            }}\n          >\n            {\" \"}\n            connect to existing game\n          </button>\n        </p>\n      </div>\n      <div class=\"row\">\n        <p style={{ textAlign: \"center\", height: \"14px\" }}>\n          <b>Choose your game type:</b>\n        </p>\n      </div>\n      <div class=\"row\" style={{ margin: \"auto\", width: \"130px\" }}>\n        <div class=\"form-check\" style={{ width: \"65px\" }}>\n          <input\n            class=\"form-check-input\"\n            type=\"radio\"\n            name=\"flexRadioDefault\"\n            id=\"flexRadioDefault1\"\n            onClick={() => {\n              State.update({ isPvE: true });\n            }}\n          />\n          <label class=\"form-check-label\" for=\"flexRadioDefault1\">\n            PvE\n          </label>\n        </div>\n        <div class=\"form-check\" style={{ width: \"65px\" }}>\n          <input\n            class=\"form-check-input\"\n            type=\"radio\"\n            name=\"flexRadioDefault\"\n            id=\"flexRadioDefault2\"\n            onClick={() => {\n              State.update({ isPvE: false });\n            }}\n          />\n          <label class=\"form-check-label\" for=\"flexRadioDefault2\">\n            PvP\n          </label>\n        </div>\n      </div>\n      <p style={{ textAlign: \"center\" }}>\n        <b>Choose your board setup:</b>\n      </p>\n      <div class=\"row\">\n        {setupButtons[0]}\n        {setupButtons[1]}\n        {setupButtons[2]}\n      </div>\n      <div class=\"row\">\n        {setupButtons[3]}\n        {setupButtons[4]}\n        {setupButtons[5]}\n      </div>\n\n      <div>\n        <button\n          style={{\n            background:\n              \"linear-gradient(15.09deg, rgba(0, 109, 210, 0.69) 9.51%, rgba(121, 178, 232, 0.69) 141.73%)\",\n            height: \"3em\",\n            width: \"8em\",\n            fontFamily: \"Kadwa\",\n            display: \"block\",\n            margin: \"auto\",\n            border: \"#fff\",\n          }}\n          onClick={() => {\n            playGame();\n          }}\n          disabled={!state.selectedSetup || state.isPvE === null}\n        >\n          <b>Play!</b>\n        </button>\n      </div>\n    </div>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/let45fc.near/widget/GameSetup"}
{"tx_hash": "HxrPUukGS4bAewy49ZTD2zuM3hVYZsoQAtHS2yZ5SeLd", "action_id_social": "Be3B5dbBoczbynw3UttCuRZpu3vMMD4pchwzBVnKpSgP-0-widget", "block_id": 93215476, "block_timestamp": "2023-06-01T14:53:37.281Z", "signer_id": "7418d5cb7d7657e526b8bccf28750939105828d0f5b34a7254bd107477d84a2c", "widget_name": "ProgressWidgetTable-V2", "source_code": "const TableWrapper = styled.div`\n    display: flex;\n    width: 100%;\n    overflow-x: scroll;\n    padding-top: 25px;\n    @media (min-width: 1024px) {\n      overflow-x: initial;\n  }\n`;\n\nconst OverflowWrapper = styled.div`\n  position: relative;\n  min-width: 300%;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  @media (min-width: 580px) {\n    min-width: 150%;\n  }\n  @media (min-width: 768px) {\n    min-width: 120%;\n  }\n  @media (min-width: 860px) {\n    min-width: 100%;\n    max-width: 100%;\n  }\n  @media (min-width: 1140px) {\n    min-width: 1024px;\n    min-width: 1024px;\n    margin: 0 auto;\n  }\n`;\n\nconst ChartWrapper = styled.div`\n  position: relative;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  &:before {\n    content: \"\";\n    position: absolute;\n    width: 3px;\n    height: 104%;\n    top: -4%;\n    background: rgb(145 135 137);\n    left: calc(16% + 10px);\n    z-index: 10;\n  }\n  &:after {\n    content: \"\";\n    position: absolute;\n    width: 86%;\n    height: 3px;\n    background: rgb(145 135 137);\n    left: calc(16% + 10px);\n    top: 100%;\n    z-index: 10;\n\n  }\n  @media (min-width: 450px) {\n    &:before {\n    left: calc(12% + 10px);\n    }\n    &:after {\n      width: 90%;\n      left: calc(12% + 10px);\n    }\n  }\n  @media (min-width: 580px) {\n    &:before {\n      left: calc(18% + 10px);\n    }\n    &:after {\n      width: 84%;\n      left: calc(18% + 10px);\n    }\n    \n  }\n  @media (min-width: 1024px) {\n    &:before {\n      left: calc(16% + 10px);\n    }\n    &:after {\n      width: 86%;\n      left: calc(16% + 10px);\n    }\n  }\n  @media (min-width: 1140px) {\n    &:before {\n      left: calc(16% + 10px);\n    }\n    &:after {\n      width: 86%;\n      left: calc(16% + 10px);\n    }\n  }\n`;\n\nconst GradientContainer = styled.div`\n  position: absolute;\n  left: calc(16% + 10px);\n  width: 85%;\n  height: 100%;\n  background:#4498e0;\n\n  @media (min-width: 450px) {\n    width: 89%;\n    left: calc(12% + 10px);\n  }\n  @media (min-width: 580px) {\n    width: 85%;\n    left: calc(18% + 10px);\n  }\n  @media (min-width: 1024px) {\n    width: 85%;\n    left: calc(16% + 10px);\n  }\n  @media (min-width: 1140px) {\n\n  }\n\n`;\n\nconst Row = styled.div`\n  display: flex;\n  width: 100%;\n  margin-bottom: 6px;\n`;\n\nconst ItemTitle = styled.a`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: 40px;\n  max-width: 16%;\n  width: 100%;\n  min-width: fit-content;\n  text-align: right;\n  font-size: 14px;\n  margin: 0 20px 0 0; \n  text-align: right;\n  color: #4498E0;\n  font-weight: bold;\n  @media (min-width: 450px) {\n    max-width: 12%;\n  }\n  @media (min-width: 450px) {\n    max-width: 12%;\n  }\n  @media (min-width: 580px) {\n    max-width: 18%;\n  }\n  @media (min-width: 1024px) {\n    max-width: 16%;\n  }\n`;\n\nconst SingleMeterBarWrapper = styled.div`\n    width: 100%;\n    height: 40px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n`;\n\nconst SingleMeterBar = styled.div`\n    position: relative;\n    top: 2px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    font-weight:bold; \n    width: ${({ width }) => `${width}%`};\n    background: linear-gradient(90deg, rgba(242,155,192,1) 7%, rgba(244,162,170,1) 21%, rgba(255,213,13,1) 100%);\n    color: #fff;\n    display: flex;\n    justify-content: flex-end;\n    padding-right: 20px;\n    box-sizing: border-box;\n    &:after{\n      content: '';\n      position: absolute;\n      top: 0px;\n      right: -10px;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      background: rgba(255,213,13,1);\n\n      /* border-style: solid;\n      border-width: 5px 0 5px 10px;\n      border-color: transparent transparent transparent #4497e0; */\n    }\n`;\n\nconst AgendaWrapper = styled.div`\n  position: relative;\n  display: flex;\n  left: 18%;\n  width: 84%;\n  height: 100px;\n  color: #4498E0;\n  font-weight: bold;\n  @media (min-width: 450px) {\n   left: 15.5%;\n  }\n  @media (min-width: 580px) {\n    left: 19%;\n  }\n  @media (min-width: 1024px) {\n    left: 18%;\n  }\n`;\nconst StepWrapper = styled.div`\n  display: flex;\n  position: absolute;\n  max-width: 10%;\n  min-width: 10%;\n  width: 10%;\n  left: ${({ left }) => left}%;\n  p{\n    font-size: 12px;\n  }\n`;\n\nconst PercentageItem = styled.p`\nmargin: 10px 0;\n`;\n\nconst StepItem = styled.p`\n  position: absolute;\n  transform: rotate(-45deg);\n  font-size: 12px;\n  width: fit-content;\n  top: 85%;\n  left: -30px;\n  width: 100%;\n`;\n\nconst steps = [\n  \"Not Started\",\n  \"Planning\",\n  \"Requirements gathered\",\n  \"Designing\",\n  \"Design Complete\",\n  \"Building\",\n  \"Building complete\",\n  \"Testing\",\n  \"Tests complete\",\n  \"Launching\",\n  \"Deployed\",\n];\n\nconst colors = {\n  yellow: \"#FFD50D\",\n  blue: \"#4498E0\",\n  pink: \"#F29BC0\",\n};\n\nconst accountId = context.accountId;\n\nif (!accountId) {\n  return <h1>Please sign in with NEAR wallet</h1>;\n}\n\n// let items = Social.get(`${accountId}/testWidget/**`);\n\nconst contr_id = \"widget-progress-table.near\";\nfunction getNear() {\n  return Near.view(\"widget-progress-table.near\", \"get_data\", `{}`);\n}\n\nlet items = getNear();\n\nif (items === null || items === undefined) {\n  return <h1>No Data</h1>;\n}\n\nconst chartState = State.init({\n  allItems: items ? items : {},\n});\n\nconst { hasBackground } = props;\n\nreturn (\n  <TableWrapper>\n    <OverflowWrapper>\n      <ChartWrapper>\n        {hasBackground && <GradientContainer></GradientContainer>}\n\n        {Object.entries(chartState.allItems)\n          .sort((a, b) => a[0].localeCompare(b[0]))\n          .map((item) => (\n            <Row>\n              <ItemTitle href={item[1].link}>{item[0]}</ItemTitle>\n              <SingleMeterBarWrapper>\n                <SingleMeterBar\n                  width={parseInt(item[1].value) + 2}\n                  color={colors.blue}\n                >\n                  {item[1].value}%\n                </SingleMeterBar>\n              </SingleMeterBarWrapper>\n            </Row>\n          ))}\n      </ChartWrapper>\n      <AgendaWrapper>\n        {steps.map((item, index) => (\n          <StepWrapper left={index !== 10 ? index * 10 : 98}>\n            <PercentageItem>\n              {index === 0 ? `${index}%` : `${index}0%`}\n            </PercentageItem>\n            <StepItem>{item}</StepItem>\n          </StepWrapper>\n        ))}\n      </AgendaWrapper>\n    </OverflowWrapper>\n  </TableWrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/7418d5cb7d7657e526b8bccf28750939105828d0f5b34a7254bd107477d84a2c/widget/ProgressWidgetTable-V2", "__row_index": 6}
{"tx_hash": "CppkawJHCSGNyyzcKPgBGAYHYZPB44fBfZLb8ZKffcrf", "action_id_social": "5wyr2EsUtekNrWxkQepcGXKQ34MXcrr6JBAKawvCb265-0-widget", "block_id": 89594593, "block_timestamp": "2023-04-14 22:22:30.372", "signer_id": "calmxyz.near", "widget_name": "NEARWEEKNews", "source_code": null, "metadata": NaN, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/calmxyz.near/widget/NEARWEEKNews", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.app": NaN, "metadata.tags.coming-soon": NaN, "metadata.tags.homepage": NaN, "metadata.tags.widget": NaN, "branch.draft.": "const data = fetch(\n  \"https://nearweek.com/api/dao-news?populate=deep&sort=createdAt:desc&pagination[pageSize]=5\",\n  {\n    //subscribe: true,\n    method: \"GET\",\n    headers: {\n      Accept: \"*/*\",\n      Authorization:\n        \"Bearer 15699f0723aa9fe9f655b1a94e450552476c08807f67b525b5a3c8011eecc8aee6d45923443620f17815b897858be058cd7bd89ddf23a28aabaecb178e7ebc55d380293beeb51a8ce87b40e1518ce4708e4d51a06b115f27fa64ab5cbee5a3511cec785d7ae6a155ecd05ac8196aadae3e9b8e9401b8df8d8b69904f7364f925\",\n    },\n  }\n);\n\nconst Wrapper = styled.div`\n  display: grid;\n  gap: 2px;\n`;\n\nconst H2 = styled.h2`\n  font-size: 19px;\n  line-height: 22px;\n  color: #11181C;\n  margin: 0;\n`;\n\nconst Items = styled.ul`\n  list-style: disc;\n  padding-left: 16px;\n  margin: 0;\n  color: #687076;\n`;\n\nconst Item = styled.li`\n  width: 100%;\n  margin-bottom: 12px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  > * {\n    min-width: 0\n  }\n`;\n\nconst Text = styled.span`\n  display: block;\n  margin: 0;\n  font-size: 14px;\n  line-height: 20px;\n  color: ${(p) => (p.bold ? \"#11181C\" : \"#687076\")} !important;\n  font-weight: ${(p) => (p.bold ? \"600\" : \"400\")};\n  font-size: ${(p) => (p.small ? \"12px\" : \"14px\")};\n\n  &[href] {\n    &:hover,\n    &:focus {\n      outline: none;\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst ButtonLink = styled.a`\n  display: block;\n  width: 100%;\n  padding: 8px;\n  height: 32px;\n  background: #FBFCFD;\n  border: 1px solid #D7DBDF;\n  border-radius: 50px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 15px;\n  text-align: center;\n  cursor: pointer;\n  color: #11181C !important;\n  margin: 0;\n\n  &:hover,\n  &:focus {\n    background: #ECEDEE;\n    text-decoration: none;\n    outline: none;\n  }\n`;\n\nconsole.log(data);\nconst news = data.body.data;\nconst nwSite = \"https://nearweek.com\";\n\nfunction dateToDays(date) {\n  const timeAgo = (diffSec) =>\n    diffSec < 60000\n      ? `${(diffSec / 1000) | 0}s`\n      : diffSec < 3600000\n      ? `${(diffSec / 60000) | 0}m`\n      : diffSec < 86400000\n      ? `${(diffSec / 3600000) | 0}h`\n      : `${(diffSec / 86400000) | 0}d`;\n\n  var d = new Date(date);\n  return timeAgo(Date.now() - d.getTime());\n}\n\nreturn (\n  <div>\n    {data !== null ? (\n      <Wrapper>\n        <H2>News</H2>\n        {news.map((item, i) => (\n          <>\n            <div class=\"d-flex\">\n              <img\n                class=\"rounded\"\n                width=\"60\"\n                height=\"60\"\n                src={nwSite + item.Thumbnail.url}\n                alt={news.Thumbnail.alternativeText}\n              />\n              <div class=\"d-flex flex-wrap ms-2 mt-0\">\n                <Text\n                  style={{ marginTop: -2 }}\n                  as=\"a\"\n                  href={item.sourceUrl}\n                  target=\"_blank\"\n                  bold\n                >\n                  {item.Title}\n                </Text>\n              </div>\n              <div\n                style={{ minWidth: 40 }}\n                class=\"align-text-bottom d-flex flex-wrap m-2 float-end\"\n              ></div>\n            </div>\n            <Text style={{ marginBottom: 10 }} small>\n              {dateToDays(item.createdAt)} ago\n            </Text>\n          </>\n        ))}\n\n        <ButtonLink href=\"https://nearweek.com\" target=\"_blank\">\n          View All News\n        </ButtonLink>\n      </Wrapper>\n    ) : (\n      <div>Loading ...</div>\n    )}\n  </div>\n);\n", "branch.draft.metadata": NaN, "metadata.image.url": NaN, "metadata.tags.education": NaN, "metadata.tags.learn": NaN, "metadata.tags.lnc": NaN}
{"tx_hash": "BBBC77ZfsMYVrcN73E6y7LFQLYpjYFVFjn35e6s7Pt9q", "action_id_social": "9a1DWDynQuQKz68uns28sF2xVDdKnTfepDgDgcDknUS9-0-widget", "block_id": 88346719, "block_timestamp": "2023-03-29 06:06:23.720", "signer_id": "jirapatwor.near", "widget_name": "bastion-data", "source_code": "const LenABI = fetch(\r\n  \"https://raw.githubusercontent.com/pysrbastion/bastion-abi/main/Lens.json\"\r\n).body;\r\n\r\nconst lenContract = \"0x080B5ce373fE2103A7086b31DabA412E88bD7356\";\r\n\r\nconst len = new ethers.Contract(lenContract, LenABI, Ethers.provider());\r\n\r\nlen.callStatic\r\n  .cTokenMetadataAll(\r\n    [\r\n      \"0xfa786baC375D8806185555149235AcDb182C033b\",\r\n      \"0x4E8fE8fd314cFC09BDb0942c5adCC37431abDCD0\",\r\n      \"0x8C14ea853321028a7bb5E4FB0d0147F183d3B677\",\r\n      \"0xe5308dc623101508952948b141fD9eaBd3337D99\",\r\n      \"0x845E15A441CFC1871B7AC610b0E922019BaD9826\",\r\n    ],\r\n    0\r\n  )\r\n  .then((data) => {\r\n    console.log(data);\r\n    State.update({ data });\r\n  });\r\n\r\nif (state.data) {\r\n  return (\r\n    <div>\r\n      <h1>Lending</h1>\r\n      <h2>\r\n        <div>Supply</div>\r\n      </h2>\r\n      <h2>\r\n        <div>Withdraw</div>\r\n      </h2>\r\n      <div>{JSON.stringify(state.data, undefined, 2)}</div>\r\n      {state.data.map(\r\n        ([\r\n          cToken,\r\n          price,\r\n          exchangeRate,\r\n          supplyRate,\r\n          borrowRate,\r\n          totalBorrow,\r\n          _a,\r\n          totalSupply,\r\n          totalCash,\r\n          _b,\r\n          collateralFactor,\r\n          underlying,\r\n          cTokenDecimals,\r\n          decimals,\r\n        ]) => {\r\n          return (\r\n            <div>\r\n              <div>{cToken}</div>\r\n              <div>{totalSupply.toString()}</div>\r\n            </div>\r\n          );\r\n        }\r\n      )}\r\n      <Web3Connect connectLabel=\"Connect with Web3\" />\r\n    </div>\r\n  );\r\n} else {\r\n  return null;\r\n}\r\n", "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/jirapatwor.near/widget/bastion-data", "metadata.name": "Bastion Data", "metadata.tags.defi": "", "metadata.tags.ethdenver2023": null}
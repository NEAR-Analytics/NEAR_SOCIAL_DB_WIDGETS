{"tx_hash": "9GxopEdG9diVXvYRK5Fbn9CkSGQBM3GQQ9WLvjZamkeM", "action_id_social": "DFdkFj1viXKeHiWWNsCH3X49pWm5wEHFV2JX7THUU7N5-0-widget", "block_id": 81048616, "block_timestamp": "2022-12-20 03:06:58.842", "signer_id": "miraclx.near", "widget_name": "YouTubeVideo", "source_code": "State.init({\n  videoId: props.videoId ?? \"dQw4w9WgXcQ\",\n  controls: props.controls ?? true,\n  height: props.height ?? \"75vh\",\n  width: props.width ?? \"75vw\",\n  autoplay: props.autoplay ?? true,\n  view: \"preview\",\n});\n\nlet iframe = Object.fromEntries(\n  Object.entries(styled.i``).filter(([k]) => k)\n).withComponent(\"iframe\");\n\nfunction embed() {\n  return (\n    <iframe\n      allow=\"autoplay\"\n      style={{ width: state.width, height: state.width }}\n      src={`https://www.youtube.com/embed/${\n        state.videoId\n      }?enablejsapi=1&autoplay=${Number(state.autoplay)}&controls=${Number(\n        state.controls\n      )}`}\n    ></iframe>\n  );\n}\n\nif (props.dep) return embed();\n\nfunction updateVideoId(url) {\n  const arr = url.split(/(vi\\/|v%3D|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n  let videoId = undefined !== arr[2] ? arr[2].split(/[^\\w-]/i)[0] : arr[0];\n  State.update({ videoId });\n}\n\nlet form = Object.fromEntries(\n  Object.entries(styled.i``).filter(([k]) => k)\n).withComponent(\"form\");\n\nreturn (\n  <>\n    <Widget src=\"miraclx.near/widget/FontAwesome\" props={{ dep: true }} />\n    <div class=\"input-group mb-3\">\n      <span\n        class=\"input-group-text\"\n        id=\"videoId-label\"\n        style={{ color: \"red\" }}\n      >\n        <i class=\"fa-brands fa-youtube\"></i>\n      </span>\n      <input\n        type=\"text\"\n        class=\"form-control border-danger\"\n        aria-describedby=\"videoId-label\"\n        placeholder=\"YouTube Video ID (ex: dQw4w9WgXcQ)\"\n        value={state.videoId}\n        onChange={(e) => updateVideoId(e.target.value)}\n      />\n    </div>\n    <div class=\"row\">\n      <div class=\"col\">\n        <form>\n          <div class=\"form-check form-check-inline form-switch\">\n            <input\n              class=\"form-check-input\"\n              type=\"checkbox\"\n              id=\"autoplayCheckbox\"\n              checked={state.autoplay}\n              onChange={(e) => State.update({ autoplay: !state.autoplay })}\n            />\n            <label class=\"form-check-label\" for=\"autoplayCheckbox\">\n              Autoplay\n            </label>\n          </div>\n          <div class=\"form-check form-check-inline form-switch\">\n            <input\n              class=\"form-check-input\"\n              type=\"checkbox\"\n              id=\"controlsCheckbox\"\n              checked={state.controls}\n              onChange={(e) => State.update({ controls: !state.controls })}\n            />\n            <label class=\"form-check-label\" for=\"controlsCheckbox\">\n              Controls\n            </label>\n          </div>\n        </form>\n      </div>\n      <div class=\"col\">\n        <div class=\"input-group\">\n          <span class=\"input-group-text\" id=\"widthLabel\">\n            <i class=\"fa-solid fa-left-right\"></i>\n          </span>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Width\"\n            aria-label=\"Width\"\n            aria-describedby=\"widthLabel\"\n            value={state.width}\n          />\n          <span class=\"input-group-text\" id=\"heightLabel\">\n            <i class=\"fa-solid fa-up-down\"></i>\n          </span>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            placeholder=\"Height\"\n            aria-label=\"Height\"\n            aria-describedby=\"heightLabel\"\n            value={state.height}\n          />\n        </div>\n      </div>\n    </div>\n\n    <hr />\n    <ul class=\"nav nav-pills justify-content-center\" id=\"myTab\" role=\"tablist\">\n      <li class=\"nav-item\" role=\"presentation\">\n        <button\n          class=\"nav-link active\"\n          id=\"preview-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#preview\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"preview\"\n          aria-selected={state.view == \"preview\"}\n          onClick={() => State.update({ view: \"preview\" })}\n        >\n          Preview\n        </button>\n      </li>\n      <li class=\"nav-item\" role=\"presentation\">\n        <button\n          class=\"nav-link\"\n          id=\"code-tab\"\n          data-bs-toggle=\"tab\"\n          data-bs-target=\"#code\"\n          type=\"button\"\n          role=\"tab\"\n          aria-controls=\"code\"\n          aria-selected={state.view == \"code\"}\n          onClick={() => State.update({ view: \"code\" })}\n        >\n          Code\n        </button>\n      </li>\n    </ul>\n    <div class=\"tab-content\" id=\"myTabContent\">\n      <div\n        class=\"tab-pane fade show active\"\n        id=\"preview\"\n        role=\"tabpanel\"\n        aria-labelledby=\"preview-tab\"\n      >\n        <br />\n        {state.view === \"preview\" ? embed() : <></>}\n      </div>\n      <div\n        class=\"tab-pane fade\"\n        id=\"code\"\n        role=\"tabpanel\"\n        aria-labelledby=\"code-tab\"\n      >\n        <Markdown\n          text={`\\`\\`\\`jsx\n<Widget\n    src=\"miraclx.near/widget/YouTubeVideo\"\n    props={{\n      videoId: \"${state.videoId}\",\n      width: \"${state.width}\", height: \"${state.height}\",\n      autoplay: ${state.autoplay}, controls: ${state.controls},\n      dep: true\n    }}\n/>\n`}\n        />\n      </div>\n    </div>\n  </>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/miraclx.near/widget/YouTubeVideo", "metadata.description": NaN, "metadata.image.ipfs_cid": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.embed": NaN, "metadata.tags.video": NaN, "metadata.tags.youtube": NaN, "metadata.tags.app": NaN}
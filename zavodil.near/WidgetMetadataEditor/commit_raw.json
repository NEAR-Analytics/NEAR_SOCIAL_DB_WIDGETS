{"tx_hash": "BS6Hr4pCag7HCkyK5HM6mshmcDrNpangFwbv3VhUHYEL", "action_id_social": "GmzCyT9ojM7iWehHoeRUTeFv2wd6xpG7hqs3k72cnEJJ-0-widget", "block_id": 85881385, "block_timestamp": "2023-02-23 18:14:07.767", "signer_id": "zavodil.near", "widget_name": "WidgetMetadataEditor", "source_code": "const widgetPath = props.widgetPath;\nconst onChange = props.onChange;\nconst forcedTag = props.forcedTag;\n\nlet metadata = Social.getr(`${widgetPath}/metadata`) ?? {};\n\nif (metadata === null) {\n  return \"Loading\";\n}\n\nconsole.log(onChange);\n\nif (forcedTag) {\n  const tags = Object.keys(metadata.tags ?? {});\n  if (tags.length) {\n    if (tags.includes(forcedTag)) {\n      metadata.tags[[forcedTag]] = \"\";\n    }\n  } else metadata.tags = { [forcedTag]: \"\" };\n\n  if (onChange) {\n    onChange();\n  }\n}\n\nreturn (\n  <Widget\n    key={widgetPath}\n    src=\"mob.near/widget/MetadataEditor\"\n    props={{\n      initialMetadata: metadata,\n      onChange,\n      options: {\n        name: { label: \"Title\" },\n        image: { label: \"Icon\" },\n        description: { label: \"Description\" },\n        tags: {\n          label: \"Tags\",\n          pattern: \"*/widget/*/metadata/tags/*\",\n          placeholder: \"profile, editor, social, finance, app, image, nft\",\n        },\n        linktree: {\n          links: [\n            {\n              label: \"Website\",\n              prefix: \"https://\",\n              name: \"website\",\n            },\n          ],\n        },\n      },\n    }}\n  />\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zavodil.near/widget/WidgetMetadataEditor", "metadata.tags.widget": NaN}
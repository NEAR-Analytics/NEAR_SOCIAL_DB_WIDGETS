{"tx_hash": "7X57BxKf9eBpj3SJ491vwEwxWq1uWXAqmxpKkm48Yvzg", "action_id_social": "5PSEZiwVdCFsnwyitgtgwKuKn2kvYqmm4AtLSzAJPTzx-0-widget", "block_id": 79620377, "block_timestamp": "2022-11-30 19:15:10.282", "signer_id": "zavodil.near", "widget_name": "NearStake", "source_code": "//NearStake\nif (!context.accountId) {\n  return \"Please sign in with NEAR wallet to stake NEAR\";\n}\n\nlet poolId = props.poolId || \"zavodil.poolv1.near\";\nlet serviceFee = props.serviceFee || \"\";\n\ninitState({ amount: \"1\", poolId });\n\nconst onStakeClick = () => {\n  const gas = 300 * 1000000000000;\n  const deposit = parseFloat(state.amount) * 1000000 + \"000000000000000000\";\n\n  Near.call(state.poolId, \"deposit_and_stake\", {}, gas, deposit);\n};\n\nreturn (\n  <div>\n    <h1>\n      Stake NEAR{\" \"}\n      <a href=\"/#/zavodil.near/widget/StakingPools\" target=\"_blank\">\n        <span className=\"badge bg-secondary fs-6 align-middle\">All Pools</span>\n      </a>\n    </h1>\n    <p>\n      Pool: <input value={state.poolId} readOnly />\n      {serviceFee ? (\n        <div\n          id=\"emailHelp\"\n          className=\"form-text\"\n        >{`Service Fee: ${serviceFee}%.`}</div>\n      ) : (\n        \"\"\n      )}\n    </p>\n    <p>\n      Amount (NEAR):\n      <input type=\"number\" value={state.amount} />\n    </p>\n    <CommitButton\n      disabled={context.loading}\n      className={`btn ${context.loading ? \"btn-outline-dark\" : \"btn-primary\"}`}\n      onClick={onStakeClick}\n    >\n      Stake\n    </CommitButton>\n  </div>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zavodil.near/widget/NearStake", "metadata.name": NaN, "metadata.tags.app": NaN}
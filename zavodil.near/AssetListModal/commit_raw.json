{"tx_hash": "EvsJnBiT6e1MM7Ymuf1RjU6khMqs7NeYaHdRxPKvjTaR", "action_id_social": "AHz7zFqNHmF6W6RH15HuGcjL3ykxgdKh79zQ9s5CbBbd-0-widget", "block_id": 89505688, "block_timestamp": "2023-04-13 18:07:36.185", "signer_id": "zavodil.near", "widget_name": "AssetListModal", "source_code": "const title = props.title ?? \"Select a token\";\nconst body = props.body;\nconst assets = props.assets;\nconst debug = props.debug;\n\nState.init({\n  hidden: props.hidden ?? false,\n});\n\nconst css = `\n* {\n    font-family: 'Inter custom',sans-serif;\n}\n.asset-list-container{\n    background-color: rgb(255, 255, 255);\n    width: 100%;\n    overflow: hidden;\n    flex: 1 1 0%;\n    position: relative;\n    border-radius: 20px;\n    display: flex;\n    flex-direction: column;\n    -webkit-box-pack: start;\n    justify-content: flex-start;\n}\n.asset-list-header {\n    padding-left: 20px;\n    box-sizing: border-box;\n    margin: 0px;\n    min-width: 0px;\n    font-weight: 500;\n    font-size: 16px;\n}\n`;\n\nif (!css) return \"\";\n\nif (!state.theme) {\n  State.update({\n    theme: styled.div`\n    ${css}`,\n  });\n}\n\nconst Theme = state.theme;\n\nconst ShowModal = () => State.update({ hidden: false });\n\nconst defaultClose = () => {\n  State.update({ hidden: true });\n};\n\nconst onClose = props.onClose ?? defaultClose;\n\nconst hidden = state.hidden;\n\nconst Modal = styled.div`\n  display: ${({ hidden }) => (hidden ? \"none\" : \"flex\")};\n  position: fixed;\n  inset: 0;\n  justify-content: center;\n  align-items: center;\n  opacity: 1;\n  z-index: 1;\n`;\n\nconst ModalBackdrop = styled.div`\n  position: absolute;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0.4;\n`;\n\nconst ModalDialog = styled.div`\n  padding: 20px;\n  z-index: 3;\n  background-color: white;\n  border-radius: 20px;\n  width: 40%;\n`;\n\nconst ModalHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n`;\n\nconst CloseButton = styled.button`\n  background-color: white;\n  border: 0;\n  color: #344054;\n`;\n\nconst assetList = assets.map((tokenId) => {\n  return (\n    <Widget\n      src=\"zavodil.near/widget/AssetListItem\"\n      props={{\n        tokenId: tokenId,\n        debug: false,\n        onClick: () => {\n          console.log(`${tokenId} selected`);\n          State.update({ hidden: true });\n          if (props.onClick) {\n            props.onClick(tokenId);\n          }\n        },\n      }}\n    />\n  );\n});\n\nreturn (\n  <>\n    <Theme>\n      <Modal hidden={hidden}>\n        <ModalBackdrop />\n        <ModalDialog>\n          <ModalHeader>\n            <div class=\"asset-list-header\">{title}</div>\n            <CloseButton onClick={onClose}>\n              <svg\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 20 20\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M15.5 5L5.5 15M5.5 5L15.5 15\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"1.66667\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                />\n              </svg>\n            </CloseButton>\n          </ModalHeader>\n          <div>\n            {body}\n            <div class=\"asset-list-container\">{assetList}</div>\n          </div>\n        </ModalDialog>\n      </Modal>\n      {debug && <button onClick={ShowModal}>Show Modal</button>}\n    </Theme>\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zavodil.near/widget/AssetListModal"}
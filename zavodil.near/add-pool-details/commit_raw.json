{"tx_hash": "CHmvaRbKLHZykiL8YWiMYLnhjbzSjJFg5ByJPDwF9865", "action_id_social": "517TNY7aoRjsVzQSMPRkavvipmKiK4bAwfNCbdKxw7Wo-0-widget", "block_id": 80428069, "block_timestamp": "2022-12-11 18:38:18.014", "signer_id": "zavodil.near", "widget_name": "add-pool-details", "source_code": "let accountId = context.accountId;\nif (!accountId) {\n  return \"Please login to add pool details\";\n}\n\ninitState({ poolId: \"\", field: \"description\", value: \"\" });\n\nconst onSubmitClick = () => {\n  const gas = 300 * 1000000000000;\n\n  Near.call(\n    \"pool-details.near\",\n    \"update_field\",\n    { pool_id: state.poolId, name: state.field, value: state.value },\n    gas\n  );\n};\n\nreturn (\n  <div>\n    <h1>\n      Add Pool Details{\" \"}\n      <a href=\"/#/zavodil.near/widget/StakingPools\" target=\"_blank\">\n        <span className=\"badge bg-secondary fs-6 align-middle\">All Pools</span>\n      </a>\n    </h1>\n    <p>Add details about your whitelisted staking pool on NEAR blockchain.</p>\n    <p>\n      Data stored on a <span class=\"badge bg-secondary\">pool-details.near</span>{\" \"}\n      account.{\" \"}\n      <a href=\"https://github.com/zavodil/near-pool-details\">\n        Smart contract github.\n      </a>\n    </p>\n\n    {state.poolId}\n\n    <p>\n      Pool:{\" \"}\n      <input\n        value={state.poolId}\n        placeholder=\"zavodil.poolv1.near\"\n        onChange={(e) => State.update({ poolId: e.target.value })}\n      />\n    </p>\n    <p>\n      Field:\n      <select\n        class=\"form-select\"\n        aria-label=\"description\"\n        value={state.field}\n        onChange={(e) => State.update({ field: e.target.value })}\n      >\n        <option value=\"name\">Project name</option>\n        <option value=\"description\">Description</option>\n        <option value=\"logo\">Logo url</option>\n        <option value=\"country_code\">Country code</option>\n        <option value=\"url\">Website URL</option>\n        <option value=\"twitter\">Twitter handler</option>\n        <option value=\"discord\">Discord</option>\n        <option value=\"github\">Github account</option>\n        <option value=\"telegram\">Telegram account</option>\n        <option value=\"email\">Email</option>\n      </select>\n    </p>\n    <p>\n      Value:\n      <input\n        value={state.value}\n        placeholder=\"Value\"\n        onChange={(e) => State.update({ value: e.target.value })}\n      />\n    </p>\n    <button\n      disabled={\n        context.loading || !(state.value && state.field && state.poolId)\n      }\n      className={`btn ${context.loading ? \"btn-outline-dark\" : \"btn-primary\"}`}\n      onClick={onSubmitClick}\n    >\n      Submit\n    </button>\n  </div>\n);\n", "metadata": NaN, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/zavodil.near/widget/add-pool-details", "metadata.description": NaN, "metadata.linktree.website": NaN, "metadata.name": NaN, "metadata.tags.app": NaN, "metadata.tags.staking": NaN, "metadata.image.ipfs_cid": NaN}
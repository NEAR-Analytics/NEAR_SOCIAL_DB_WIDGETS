{"tx_hash": "8xgK5o6VhGdgwdnpH3FY8scVuC1C5BtuVVkDC6nEVhyh", "action_id_social": "Dst6JHuH2Z72mZvsXDwFRLk2yTANTtSNhHVsRGV67Rad-0-widget", "block_id": 90759552, "block_timestamp": "2023-04-30 06:46:24.086", "signer_id": "ref-admin.near", "widget_name": "stake-bannerIcon", "source_code": "const {\n  firstIconName,\n  firstIconUrl,\n  secondIconName,\n  secondIconUrl,\n  componentType,\n} = props; // liNEAR, xref\nconst BannerData = styled.div`\n  display:flex;\n  align-items:center;\n  justify-content:space-between;\n   margin-bottom:16px;\n  .apr{\n     display:flex;\n  align-items:center;\n    font-size: 16px;\n    color:#fff;\n    margin-right:30px;\n    .value{\n      font-weight: 700;\n      font-size: 22px;\n      color: #00FFA3;\n      margin-left:8px;\n    }\n  }\n`;\nconst ExchangeRoute = styled.div`\n   position:relative;\n   padding-left:96px;\n   .bigIcon{\n      position:absolute;\n      left:20px;\n      top:-24px;\n      background: #1A2E33;\n      border-radius: 100%;\n      padding:7px;\n      margin-right:13px;\n      img{\n        width:46px;\n        height:46px;\n        border-radius:100px;\n      }\n    }\n   .flex-center{\n     display:flex;\n     align-items:center;\n   }\n  .boldText {\n    font-weight: 700;\n    font-size: 22px;\n    color:#fff;\n  }\n  .thinText{\n    font-weight: 400;\n    font-size: 16px;\n    color:#fff;\n  }\n  .mx-10{\n    margin:0 10px 0 10px;\n  }\n  .smallIcon{\n     width:26px;\n     height:26px;\n     margin-right:10px;\n     border-radius:100px;\n  }\n`;\nconst arrowIcon = (\n  <svg\n    width=\"19\"\n    height=\"8\"\n    viewBox=\"0 0 19 8\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M13.389 7.51249C13.389 7.9163 13.8588 8.14441 14.1831 7.89809L18.8076 4.3856C19.0641 4.1908 19.0641 3.8092 18.8076 3.6144L14.1831 0.101915C13.8588 -0.144409 13.389 0.0836996 13.389 0.487513V1.78088C13.389 2.04963 13.1682 2.26749 12.8958 2.26749H0.493198C0.220812 2.26749 0 2.48536 0 2.75411V5.24589C0 5.51464 0.220813 5.73251 0.493198 5.73251H12.8958C13.1682 5.73251 13.389 5.95037 13.389 6.21912V7.51249Z\"\n      fill=\"#00FFA3\"\n    />\n  </svg>\n);\nfunction getAPY() {\n  const result = fetch(\"https://metrics.linearprotocol.org\", {\n    method: \"GET\",\n  });\n  const apy = result.body.apy;\n  if (!apy) return \"-\";\n  return Big(apy).mul(100).toFixed(2) + \"%\";\n}\nfunction getxrefAPY() {\n  const result = Near.view(\"xtoken.ref-finance.near\", \"contract_metadata\");\n  if (!result) return \"-%\";\n  const { locked_token_amount, reward_per_sec } = result;\n  const apr =\n    (1 / locked_token_amount) *\n    (Number(reward_per_sec) * 365 * 24 * 60 * 60 * 100);\n  return Big(apr).toFixed(2) + \"%\";\n}\nconst apy = componentType == \"liNEAR\" ? getAPY() : getxrefAPY();\nreturn (\n  <BannerData>\n    <ExchangeRoute>\n      <div class=\"bigIcon\">\n        <img src={firstIconUrl} />\n      </div>\n      <div class=\"flex-center\">\n        <span class=\"boldText\">{firstIconName}</span>\n        <span class=\"mx-10\">{arrowIcon}</span>\n        <img class=\"smallIcon\" src={secondIconUrl} />\n        <span class=\"thinText\">{secondIconName}</span>\n      </div>\n    </ExchangeRoute>\n    <div class=\"apr\">\n      apr<span class=\"value\">{apy}</span>\n    </div>\n  </BannerData>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ref-admin.near/widget/stake-bannerIcon"}
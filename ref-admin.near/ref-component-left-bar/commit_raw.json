{"tx_hash": "6Av3fooCnVyafLEZhFxTCKVsvSSpTnYBRwtiW2KuSm2T", "action_id_social": "Cv5P64NhXZeWPtYgfTWhkZ7u7Jj8cr2NYe18t18VkUBf-0-widget", "block_id": 90545098, "block_timestamp": "2023-04-27 11:19:53.387", "signer_id": "ref-admin.near", "widget_name": "ref-component-left-bar", "source_code": "const { counts, filters, updateFilters } = props;\n\nState.init({\n  showItems: { Chain: true, Infrastructure: true, Dapps: true, NFT: true },\n});\n\nconst updateTag = (tag) => {\n  if (!updateFilters) return;\n  let newFilters;\n  let index = filters.indexOf(tag);\n  if (index === -1) {\n    newFilters = [...filters, tag];\n  } else {\n    newFilters = filters.splice(index, 1);\n  }\n  updateFilters(newFilters);\n};\n\nlet defaultItems = {\n  Chain: [\n    {\n      name: \"NEAR\",\n      chosen: true,\n    },\n    {\n      name: \"Ethereum\",\n      chosen: false,\n    },\n    {\n      name: \"Arbitrum\",\n      chosen: false,\n    },\n  ],\n  Infrastructure: [\n    {\n      name: \"Wallets\",\n      chosen: false,\n    },\n    {\n      name: \"Explorers\",\n      chosen: false,\n    },\n    {\n      name: \"Bridges\",\n      count: 0,\n      chosen: false,\n    },\n    {\n      name: \"Expolorers\",\n      chosen: false,\n    },\n  ],\n  Dapps: [\n    {\n      name: \"Liquid staking\",\n      chosen: false,\n    },\n    {\n      name: \"Dex\",\n      chosen: false,\n    },\n    {\n      name: \"Lending\",\n      chosen: false,\n    },\n    {\n      name: \"Derivatives\",\n      chosen: false,\n    },\n    {\n      name: \"Insurance\",\n      chosen: false,\n    },\n    {\n      name: \"Stablecoins\",\n      chosen: false,\n    },\n    {\n      name: \"Yield Aggregators\",\n      chosen: false,\n    },\n    {\n      name: \"Launch Pad\",\n      chosen: false,\n    },\n  ],\n  NFT: [\n    {\n      name: \"NFT marketplace\",\n      chosen: false,\n    },\n    {\n      name: \"Collectibles\",\n      chosen: false,\n    },\n  ],\n};\n\nconst CheckIcon = (\n  <svg\n    width=\"9\"\n    height=\"7\"\n    viewBox=\"0 0 9 7\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1 2.5L3.5 5L7.5 1\"\n      stroke=\"#00FFD1\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n);\n\nconst CheckBase = styled.div`\n    width: 13px;\n    height: 13px;\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 4px;\n        display:flex;\n    align-items: center;\n    justify-content: center;\n    border: ${(p) => (p.checked ? \"1px solid #00FFD1\" : \"\")};\n`;\n\nconst Wrapper = styled.div`\n    width: 170px;\n    padding-right: 15px;\n    color: white;\n    font-size: 15px;\n    flex-shrink:0;\n`;\n\nconst FirstClassNav = styled.div`\n\n    display:flex;\n    align-items: center;\n    justify-content: space-between;\n    cursor:pointer;\n    padding-top: 23px;\n\n`;\n\nconst SecondClassNav = styled.div`\n    display:flex;\n    align-items: center;\n    \n    cursor:pointer;\n    padding-top 15px;\n\n`;\n\nconst FlexWrapper = styled.div`\n\n    display:flex;\n    align-items: center;\n\n`;\n\nconst CountWrapper = styled.div`\n    width: 16px;\n    height: 16px;\n    margin-right: 8px;\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    background: #00FFD1;\n    border-radius: 10px;\n    font-weight: 700;\n    font-size: 12px;\n    color: #101011;\n`;\n\nconst Arrow = (\n  <svg\n    width=\"12\"\n    height=\"6\"\n    viewBox=\"0 0 12 6\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M0.198688 5.70431C0.501742 6.05295 1.04222 6.10005 1.40589 5.80952L6 2.13929L10.5941 5.80952C10.9578 6.10005 11.4983 6.05295 11.8013 5.70431C12.1044 5.35567 12.0552 4.83752 11.6916 4.54699L6 0L0.308434 4.54699C-0.0552309 4.83752 -0.104366 5.35567 0.198688 5.70431Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nconst ArrowWrapper = styled.div`\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    color:white;\n    opacity: ${(p) => (p.show ? 1 : 0.5)};\n    transform: ${(p) => (p.show ? \"\" : \"rotate(180deg)\")}\n\n`;\n\nconsole.log(state.showItems);\n\nreturn (\n  <Wrapper>\n    {Object.entries(defaultItems).map(([key, value]) => {\n      const count = counts[key] || 0;\n\n      return (\n        <div>\n          <FirstClassNav\n            onClick={() => {\n              State.update({\n                showItems: {\n                  ...state.showItems,\n                  [key]: !state.showItems[key],\n                },\n              });\n            }}\n          >\n            <div>{key}</div>\n\n            <FlexWrapper>\n              {count > 0 && (\n                <CountWrapper>\n                  {\" \"}\n                  <span>{count}</span>{\" \"}\n                </CountWrapper>\n              )}\n\n              <ArrowWrapper show={!!state.showItems[key]}>{Arrow}</ArrowWrapper>\n            </FlexWrapper>\n          </FirstClassNav>\n          {!!state.showItems[key] &&\n            value.map((v) => {\n              const chosen = filters.includes(v.name);\n              return (\n                <SecondClassNav\n                  onClick={() => {\n                    updateTag(v.name);\n                  }}\n                >\n                  <CheckBase checked={!!chosen}>\n                    {!!chosen && CheckIcon}\n                  </CheckBase>\n\n                  <div\n                    style={{\n                      opacity: 0.5,\n                      marginLeft: \"9px\",\n                    }}\n                  >\n                    {v.name}\n                  </div>\n                </SecondClassNav>\n              );\n            })}\n        </div>\n      );\n    })}\n  </Wrapper>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/ref-admin.near/widget/ref-component-left-bar"}
{"tx_hash": "FNroL7qkrjibKppFFu4i6F9poxkMRSBce7ETtXf33KU6", "action_id_social": "GKFwdS19RKnqjFx72v9GWxTwgY4M6k4SZg4W341W2ogk-0-widget", "block_id": 81970566, "block_timestamp": "2023-01-01 18:22:55.387", "signer_id": "vanyog.near", "widget_name": "ProfileTabs", "source_code": "const accountId = props.accountId ?? context.accountId;\nif (!accountId) {\n  return \"No account ID\";\n}\n\nconst profile = props.profile ?? Social.getr(`${accountId}/profile`);\n\nif (profile === null) {\n  return \"Loading\";\n}\n\nconst articlesNum = Near.view(\"thewiki.near\", \"get_num_articles\");\nconst articles = Near.view(\"thewiki.near\", \"get_article_ids_paged\", {\n  from_index: 0,\n  limit: 250,\n});\n\nconst description = profile.description;\n\nconst pills = [\n  { id: \"main\", title: \"Main\" },\n  { id: \"articles\", title: \"Articles\" },\n  { id: \"authors\", title: \"Authors\" },\n];\n\nreturn (\n  <>\n    <ul className=\"nav nav-pills nav-fill mb-4\" id=\"pills-tab\" role=\"tablist\">\n      {pills.map(({ id, title }, i) => (\n        <li className=\"nav-item\" role=\"presentation\" key={i}>\n          <button\n            className={`nav-link ${i === 0 ? \"active\" : \"\"}`}\n            id={`pills-${id}-tab`}\n            data-bs-toggle=\"pill\"\n            data-bs-target={`#pills-${id}`}\n            type=\"button\"\n            role=\"tab\"\n            aria-controls={`pills-${id}`}\n            aria-selected={i === 0}\n            onClick={() => {\n              const key = `load${id}`;\n              !state[key] && State.update({ [key]: true });\n            }}\n          >\n            {title}\n          </button>\n        </li>\n      ))}\n    </ul>\n\n    <div className=\"tab-content\" id=\"pills-tabContent\">\n      <div\n        className=\"tab-pane fade show active\"\n        id=\"pills-main\"\n        role=\"tabpanel\"\n        aria-labelledby=\"pills-main-tab\"\n      >\n        <Markdown text={description} />\n      </div>\n\n      <div\n        className=\"tab-pane fade\"\n        id=\"pills-articles\"\n        role=\"tabpanel\"\n        aria-labelledby=\"pills-articles-tab\"\n      >\n        {state.loadarticles && (\n          <div>\n            <p> articles tab </p>\n            <p>articlesNum = {articlesNum} </p>\n            <ul>\n              {articles?.map((article, index, articles) => (\n                <li key={article}>\n                  # {articles.length - index}{\" \"}\n                  {index === articles.length - 1\n                    ? \"main page\"\n                    : articles[articles.length - index - 1]}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n\n      <div\n        className=\"tab-pane fade\"\n        id=\"pills-authors\"\n        role=\"tabpanel\"\n        aria-labelledby=\"pills-authors-tab\"\n      >\n        {state.loadauthors && <p> authors tab </p>}\n      </div>\n    </div>\n  </>\n);\n", "metadata": NaN, "branch": NaN, "widget_modules_used": null, "widget_url": "https://near.social/#/vanyog.near/widget/ProfileTabs", "metadata.name": "TestWiki", "metadata.tags.profile": NaN, "metadata.tags.tabs": NaN, "branch.draft": NaN}
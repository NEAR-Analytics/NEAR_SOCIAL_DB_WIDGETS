{"tx_hash": "8k1bmdKgooyi3z6j1zYw7uz1JUADRpbT5xzqDAUPcUaC", "action_id_social": "83WWPphsbPNAaTM3XiwbpDksj4NL77uLP8iUhYabatQL-0-widget", "block_id": 93564731, "block_timestamp": "2023-06-06T05:41:52.878Z", "signer_id": "devs.near", "widget_name": "dev.info", "source_code": "const accountId = props.accountId ?? context.accountId;\nconst daoId = props.daoId ?? \"build.sputnik-dao.near\";\nconst role = props.role ?? \"community\";\n\nlet isBuilder = false;\nlet widgets = Social.get(`${accountId}/widget/*`, \"final\", {\n  return_type: \"BlockHeight\",\n  values_only: true,\n});\nlet widgetCount = 0;\nif (widgets) {\n  widgetCount = Object.keys(widgets).length;\n}\nif (widgetCount > 0) {\n  isBuilder = true;\n}\n\nconst policy = Near.view(daoId, \"get_policy\");\n\nif (policy === null) {\n  return \"\";\n}\n\nconst groups = policy.roles\n  .filter((role) => role.name === \"community\")\n  .map((role) => {\n    const group = role.kind.Group;\n\n    return group;\n  });\n\nconst isMember = groups.map((group) => {\n  return !group\n    ? false\n    : group.filter((address) => address === accountId).length > 0;\n})?.[0];\n\nreturn (\n  <div>\n    <div className=\"m-2 d-flex gap-2 flex-wrap\">\n      {isMember ? (\n        <a\n          className=\"btn btn-outline-primary\"\n          href=\"https://wallet.near.org/linkdrop/v2.keypom.near/4japszHTmC37t94Ep47d16DfPWx3A83BMExt26iH4YgnjDtHJGwpXokeZQoxuogKCvagzAF4DN2wW8ePZvwKKCyj\"\n        >\n          Join Community\n        </a>\n      ) : (\n        <a\n          className=\"btn btn-outline-primary\"\n          href=\"#/sking.near/widget/DAO.Page?daoId=build.sputnik-dao.near\"\n        >\n          View Page\n        </a>\n      )}\n      <a className=\"btn btn-outline-primary\" href=\"#/hack.near/widget/Academy\">\n        Learn More\n      </a>\n    </div>\n    <div className=\"m-2 d-flex gap-2 flex-wrap\">\n      <a\n        className=\"btn btn-outline-secondary border-0\"\n        href=\"#/mob.near/widget/ProfilePage?accountId=devs.near\"\n      >\n        <i className=\"bi bi-person-circle\"></i>\n      </a>\n      <a\n        className=\"btn btn-outline-secondary border-0\"\n        href=\"https://www.nearbuilders.com\"\n      >\n        <i className=\"bi bi-globe\"></i>\n      </a>\n      <a\n        className=\"btn btn-outline-secondary border-0\"\n        href=\"https://github.com/NEARbuilders\"\n      >\n        <i className=\"bi bi-github\"></i>\n      </a>\n      <a\n        className=\"btn btn-outline-secondary border-0\"\n        href=\"https://calendar.google.com/calendar/u/0?cid=Y182NGYxNGNkMDFiMWY0MmU1OGE4MTY2MGYyOGVmOWFkZjE4NjdhMTJlNDJiM2UyZDNhMTc3ODczOTYwYjAyNTcwQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20\"\n      >\n        <i className=\"bi bi-calendar3\"></i>\n      </a>\n      <a\n        className=\"btn btn-outline-secondary border-0\"\n        href=\"#/devs.near/widget/dev.config\"\n      >\n        <i className=\"bi bi-gear-fill\"></i>\n      </a>\n    </div>\n  </div>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/devs.near/widget/dev.info", "__row_index": 3}
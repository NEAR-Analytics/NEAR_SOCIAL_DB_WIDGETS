{"tx_hash": "2nbDkURHFxJzsR62pzd6e5sMXSA8Y9im1RavSaonDFg6", "action_id_social": "5qV83TqcSCY9dK1zXu38vN8qbiBY84YDdCDydCE2jfNL-0-widget", "block_id": 89282485, "block_timestamp": "2023-04-10 19:48:38.897", "signer_id": "chaotictempest.near", "widget_name": "SearchTrendingTerms", "source_code": "const term = props.term ?? \"\";\nconst { appId, apiKey, index } = props.credentials;\nconst apiUrl =\n  props.apiUrl ?? `https://${appId}-dsn.algolia.net/1/indexes/${index}/query?`;\n\nconst RenderContainer = props.renderContainer ?? styled.div``;\n\nconst fetchSearchSuggestions = (query) => {\n  return asyncFetch(apiUrl, {\n    body: JSON.stringify({ query }),\n    headers: {\n      \"Content-Type\": \"application/json; charset=UTF-8\",\n      \"X-Algolia-Api-Key\": apiKey,\n      \"X-Algolia-Application-Id\": appId,\n    },\n    method: \"POST\",\n  });\n};\n\nif (!state.results) {\n  fetchSearchSuggestions(props.term).then((resp) => {\n    const results = [];\n    for (const hit of resp.body.hits ?? []) {\n      results.push(hit.query);\n    }\n    State.update({\n      results,\n    });\n  });\n}\n\nreturn (\n  <>\n    {(!props.renderItem || props.debug) && (\n      <pre>{JSON.stringify(state.results, undefined, 2)}</pre>\n    )}\n    {props.renderItem && (\n      <RenderContainer>{state.results?.map(props.renderItem)}</RenderContainer>\n    )}\n  </>\n);\n", "metadata": null, "branch": null, "widget_modules_used": null, "widget_url": "https://near.social/#/chaotictempest.near/widget/SearchTrendingTerms"}